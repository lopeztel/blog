[{"content":"I\u0026rsquo;ve been toying with the idea for a while, and now I finally found time to get to it (more like I used the project as an excuse to not go out and exercise :P)\nThe whole thing started with finding this blog post and realizing I could just host my own static website from my yunohost raspberrypi setup, so the journey began\nI was gladly surprised by the fact that Hugo is easy to install in Arch or Arch based Linux distros (such as my main desktop\u0026rsquo;s Manjaro install):\nsudo pacman -Syu hugo\nThen I started by going into the quick start guide and picked the papermod theme from the big list of available themes\nFor the record I liked themes Archie and Terminal too\nFirst tests I started with a demo website importing the theme as a git submodule:\n1 2 3 4 hugo new site lopeztel_blog -f yml cd lopeztel_blog git init git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod After this I spent a lot of time playing with the configuration file config.yml\nExporting blog posts Then it was time to look for a way to export all my posts from WordPress and found some alternatives, I chose wordpress-to-hugo-exporter because of the ease of use, it was easy to download the repo as a .zip and upload to my WordPress instance, then load it as a plugin, activate it, go to the dashboard -\u0026gt; Tools -\u0026gt; Export to Hugo\nTo be honest I panicked a little when I saw the message Nginx not found or something on my web browser but upon ssh-ing into my serve I saw that the files were exported successfully under /tmp/\nFixing WordPress \u0026ldquo;inline HTML garbage\u0026rdquo; After inspecting the .md files and copying them under /content/posts/ and reading on how to set up the blog\u0026rsquo;s archive, I realized that all the posts were available through the tags link but not listed in the archive. All because of the added WordPress type. Also, my links were broken because link notation is not markdown(I call it inline HTML, but I may be wrong), example:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 --- title: \u0026#39;Making another split keyboard: Lily58 QMK edition\u0026#39; author: lopeztel \u0026lt;!-- this is the line that caused the most issues, wordpress specific --\u0026gt; type: post date: 2022-05-17T19:32:55+00:00 url: /2022/05/17/making-another-split-keyboard-lily58-qmk-edition/ mf2_syndication: - \u0026#39;a:0:{}\u0026#39; categories: - Uncategorized tags: - 100DaysToOffload - SplitKeyboard --- With the previous success (see \u0026lt;a href=\u0026#34;https://lopeztel.xyz/2021/06/02/making-a-bluetooth-split-keyboard-part-1/\u0026#34; target=\u0026#34;_blank\u0026#34; rel=\u0026#34;noreferrer noopener\u0026#34;\u0026gt;part1\u0026lt;/a\u0026gt;, \u0026lt;a href=\u0026#34;https://lopeztel.xyz/2021/07/05/making-a-bluetooth-split-keyboard-part-1-a/\u0026#34; target=\u0026#34;_blank\u0026#34; rel=\u0026#34;noreferrer noopener\u0026#34;\u0026gt;part1-a\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026#34;https://lopeztel.xyz/2021/09/15/making-a-bluetooth-split-keyboard-part-2/\u0026#34; target=\u0026#34;_blank\u0026#34; rel=\u0026#34;noreferrer noopener\u0026#34;\u0026gt;part2\u0026lt;/a\u0026gt;) in making a bluetooth keyboard, I decided to make another keyboard with a different approach: So I had to delete that line from every file, using the live grep functionality from Neovim Telescope live grep proved useful, not too bad.\nAnother problem was the link format I got from WordPress, had to fix it by using some clever but cumbersome regex. Examples:\n1 2 \u0026lt;a href=\u0026#34;https://github.com/pfefferle/Autonomie\u0026#34; target=\u0026#34;_blank\u0026#34; rel=\u0026#34;noreferrer noopener\u0026#34;\u0026gt;Autonomie theme\u0026lt;/a\u0026gt; \u0026lt;/figcaption\u0026gt;\u0026lt;/figure\u0026gt; \u0026lt;a rel=\u0026#34;tag\u0026#34; class=\u0026#34;u-tag u-category\u0026#34; href=\u0026#34;https://lopeztel.xyz/tag/100daystooffload/\u0026#34;\u0026gt;#100DaysToOffload\u0026lt;/a\u0026gt; both change to:\n1 2 [Autonomie theme](https://github.com/pfefferle/Autonomie) [#100DaysToOffload](https://lopeztel.xyz/tag/100daystooffload/) After issuing the following command in neovim:\n1 :%s/\u0026lt;a.\\{-}href=\u0026#34;\\([^*\u0026#34;]*\\)\\{-}\u0026gt;\\([^*\u0026lt;]*\\).\\{-}\u0026gt;/[\\2](\\1)/g Another example:\n1 2 3 \u0026lt;pre class=\u0026#34;wp-block-code\u0026#34;\u0026gt;\u0026lt;code\u0026gt;#!/bin/bash modprobe v4l2loopback exclusive_caps=1 max_buffers=2 gphoto2 --stdout --capture-movie | ffmpeg -i - -vcodec rawvideo -pix_fmt yuv420 -threads 0 -f v4l2 /dev/video0\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt; Changes to:\n1 2 3 #!/bin/bash modprobe v4l2loopback exclusive_caps=1 max_buffers=2 gphoto2 --stdout --capture-movie | ffmpeg -i - -vcodec rawvideo -pix_fmt yuv420 -threads 0 -f v4l2 /dev/video0 After issuinf the following commands in neovim:\n1 2 :%s/\u0026lt;pre .*\u0026lt;code\u0026gt;/```\\r :%s/\u0026lt;\\/code\u0026gt;\u0026lt;\\/pre\u0026gt;/\\r``` Using my own Piwigo instance as a CDN To serve the pictures and media I just uploaded everything to a public album in my piwigo instance\nDay 3 of my 2022\u0026rsquo;s #100DaysToOffload\nJoin 100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2022/08/22/from-wordpress-to-hugo/","summary":"I\u0026rsquo;ve been toying with the idea for a while, and now I finally found time to get to it (more like I used the project as an excuse to not go out and exercise :P)\nThe whole thing started with finding this blog post and realizing I could just host my own static website from my yunohost raspberrypi setup, so the journey began\nI was gladly surprised by the fact that Hugo is easy to install in Arch or Arch based Linux distros (such as my main desktop\u0026rsquo;s Manjaro install):","title":"Migrating from WordPress to Hugo"},{"content":"With the previous success (see part1, part1-a and part2) in making a bluetooth keyboard, I decided to make another keyboard with a different approach:\nMy excuse for building this keyboard was that my blue switches keyboard may be too noisy for the office, and the work desktop has no bluetooth (I know, sad, right?). The plan for this one was:\nQuieter Red gateron switches rather than blue USB powered rather than battery power, which allows for WS2812B LEDs and OLED display Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the Pro Micro as a controller board instead. Also, since this is going to be wired anyway, no need for bluetooth either Since the ProMicro is an 8-bit microcontroller and not supported by ZMK, I had to go for QMK for the firmware, which supports a wide range of boards Building the keyboard Basically tried to follow the guide here, which is in Japanese, but the pictures are more than enough guidance\u0026hellip; Anyway, here are some pictures from the process:\nFlashing QMK onto the controller boards The fun part was flashing the keyboard\u0026rsquo;s controller boards, and while all the information is on the documentation page, what\u0026rsquo;s a project without some issues?\nFirst, I tried to use the qmk package from the community repos, i.e. sudo pacman -S qmk and followed the documentation on building firmware, but I ran into problems:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 ╰─ qmk compile -kb lily58/rev1 -km default ─╯ Ψ Compiling keymap with make --jobs=1 lily58/rev1:default QMK Firmware 0.16.9 Making lily58/rev1 with keymap default avr-gcc (GCC) 12.1.0 Copyright (C) 2022 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Generating: .build/obj_lily58_rev1/src/info_config.h [OK] Generating: .build/obj_lily58_rev1/src/default_keyboard.h [OK] Generating: .build/obj_lily58_rev1/src/layouts.h [OK] Compiling: keyboards/lily58/lib/rgb_state_reader.c [OK] Compiling: keyboards/lily58/lib/layer_state_reader.c [OK] Compiling: keyboards/lily58/lib/logo_reader.c [OK] Compiling: keyboards/lily58/lib/keylogger.c [OK] Compiling: keyboards/lily58/lily58.c [OK] Compiling: keyboards/lily58/rev1/rev1.c [OK] Compiling: keyboards/lily58/keymaps/default/keymap.c [OK] Compiling: quantum/quantum.c [OK] Compiling: quantum/send_string.c [OK] Compiling: quantum/bitwise.c [OK] Compiling: quantum/led.c [OK] Compiling: quantum/action.c [OK] Compiling: quantum/action_layer.c [OK] Compiling: quantum/action_tapping.c [OK] Compiling: quantum/action_util.c [OK] Compiling: quantum/eeconfig.c [OK] Compiling: quantum/keyboard.c [OK] Compiling: quantum/keymap_common.c [OK] Compiling: quantum/keycode_config.c [OK] Compiling: quantum/sync_timer.c [OK] Compiling: quantum/logging/debug.c [OK] Compiling: quantum/logging/sendchar.c [OK] Compiling: quantum/bootmagic/magic.c [OK] Compiling: quantum/matrix_common.c [OK] Compiling: quantum/matrix.c [OK] Compiling: quantum/debounce/sym_defer_g.c [OK] Compiling: quantum/split_common/split_util.c [OK] Compiling: quantum/split_common/transport.c [OK] Compiling: quantum/split_common/transactions.c [OK] Compiling: quantum/main.c [OK] Compiling: quantum/crc.c [OK] Compiling: drivers/oled/ssd1306_sh1106.c [OK] Compiling: quantum/process_keycode/process_magic.c [OK] Compiling: quantum/process_keycode/process_grave_esc.c [OK] Compiling: quantum/process_keycode/process_space_cadet.c [OK] Compiling: platforms/avr/drivers/i2c_master.c In function \u0026#39;i2c_start_impl\u0026#39;, inlined from \u0026#39;i2c_start\u0026#39; at platforms/avr/drivers/i2c_master.c:104:18: platforms/avr/drivers/i2c_master.c:61:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 61 | TWCR = 0; | ^ platforms/avr/drivers/i2c_master.c:63:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 63 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWSTA) | (1 \u0026lt;\u0026lt; TWEN); | ^ In file included from /usr/avr/include/avr/io.h:99, from platforms/avr/pin_defs.h:18, from platforms/pin_defs.h:22, from quantum/config_common.h:20, from ./keyboards/lily58/config.h:21, from \u0026lt;command-line\u0026gt;: platforms/avr/drivers/i2c_master.c:66:14: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 66 | while (!(TWCR \u0026amp; (1 \u0026lt;\u0026lt; TWINT))) { | ^~~~ platforms/avr/drivers/i2c_master.c:73:11: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 73 | if (((TW_STATUS \u0026amp; 0xF8) != TW_START) \u0026amp;\u0026amp; ((TW_STATUS \u0026amp; 0xF8) != TW_REP_START)) { | ^~~~~~~~~ platforms/avr/drivers/i2c_master.c:73:47: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 73 | if (((TW_STATUS \u0026amp; 0xF8) != TW_START) \u0026amp;\u0026amp; ((TW_STATUS \u0026amp; 0xF8) != TW_REP_START)) { | ^~~~~~~~~ platforms/avr/drivers/i2c_master.c:78:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 78 | TWDR = address; | ^ platforms/avr/drivers/i2c_master.c:80:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 80 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWEN); | ^ platforms/avr/drivers/i2c_master.c:83:14: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 83 | while (!(TWCR \u0026amp; (1 \u0026lt;\u0026lt; TWINT))) { | ^~~~ platforms/avr/drivers/i2c_master.c:90:30: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 90 | uint8_t twst = TW_STATUS \u0026amp; 0xF8; | ^ In function \u0026#39;i2c_stop\u0026#39;, inlined from \u0026#39;i2c_transmit\u0026#39; at platforms/avr/drivers/i2c_master.c:166:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 299 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWEN) | (1 \u0026lt;\u0026lt; TWSTO); | ^ In function \u0026#39;i2c_stop\u0026#39;, inlined from \u0026#39;i2c_receive\u0026#39; at platforms/avr/drivers/i2c_master.c:188:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 299 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWEN) | (1 \u0026lt;\u0026lt; TWSTO); | ^ In function \u0026#39;i2c_stop\u0026#39;, inlined from \u0026#39;i2c_writeReg\u0026#39; at platforms/avr/drivers/i2c_master.c:203:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 299 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWEN) | (1 \u0026lt;\u0026lt; TWSTO); | ^ In function \u0026#39;i2c_stop\u0026#39;, inlined from \u0026#39;i2c_writeReg16\u0026#39; at platforms/avr/drivers/i2c_master.c:222:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 299 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWEN) | (1 \u0026lt;\u0026lt; TWSTO); | ^ In function \u0026#39;i2c_stop\u0026#39;, inlined from \u0026#39;i2c_readReg\u0026#39; at platforms/avr/drivers/i2c_master.c:255:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 299 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWEN) | (1 \u0026lt;\u0026lt; TWSTO); | ^ In function \u0026#39;i2c_stop\u0026#39;, inlined from \u0026#39;i2c_readReg16\u0026#39; at platforms/avr/drivers/i2c_master.c:292:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of \u0026#39;volatile uint8_t[0]\u0026#39; {aka \u0026#39;volatile unsigned char[]\u0026#39;} [-Werror=array-bounds] 299 | TWCR = (1 \u0026lt;\u0026lt; TWINT) | (1 \u0026lt;\u0026lt; TWEN) | (1 \u0026lt;\u0026lt; TWSTO); | ^ cc1: all warnings being treated as errors [ERRORS] | | | make[1]: *** [builddefs/common_rules.mk:456: .build/obj_lily58_rev1_default/i2c_master.o] Error 1 Make finished with errors make: *** [Makefile:413: lily58/rev1:default] Error 1 After that, I had to go back to the the getting started guide and use Windows (the horror), turns out that QMK MSYS is basically the same thing, so I just used that to create a new keymap and since I was already using windows I figured I should also use the QMK Toolbox\nAlso, I figured out that it is possible to make the already soldered ProMicro boards go into bootloader mode by pressing the shift + B keys on the left half and shift + N keys on the right half of the keyboard. Another fun fact is that you flash the same .hex file onto both boards, so no need to have per half binaries (as opposed to the last keyboard)\nHere are my configuration files, in case anyone finds them useful\nMandatory glamour shot of the finished product:\nDay 2 of my 2022\u0026rsquo;s #100DaysToOffload\nJoin 100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2022/05/17/making-another-split-keyboard-lily58-qmk-edition/","summary":"With the previous success (see part1, part1-a and part2) in making a bluetooth keyboard, I decided to make another keyboard with a different approach:\nMy excuse for building this keyboard was that my blue switches keyboard may be too noisy for the office, and the work desktop has no bluetooth (I know, sad, right?). The plan for this one was:\nQuieter Red gateron switches rather than blue USB powered rather than battery power, which allows for WS2812B LEDs and OLED display Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the Pro Micro as a controller board instead.","title":"Making another split keyboard: Lily58 QMK edition"},{"content":"I’ll start this post by saying that I have a thing for the Nord theme, every time I clean install a system I go through the trouble of applying the theme to everything, which got me thinking that I could automate most of it, at least for my gnome installs.\nMore info on Nord theme ports here\nMy script (also available here) should:\nInstall the gtk/kvantum themes from https://github.com/EliverLara/Nordic Create the nord profile for gnome-terminal from https://github.com/arcticicestudio/nord-gnome-terminal Add a nord theme for gedit based on https://github.com/arcticicestudio/nord-gedit Install the papirus-icon-theme and changing icon colors to match the nord theme The actual script as of today:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 #!/bin/env bash set -e green=\u0026#34;\\e[0;92m\u0026#34; red=\u0026#34;\\e[0;91m\u0026#34; reset=\u0026#34;\\e[0m\u0026#34; AUR_HELPER=paru if [[ $(which $AUR_HELPER \u0026amp;\u0026gt;/dev/null) -eq 0 ]]; then echo -e \u0026#34;${red}-E- paru not found, using yay${reset}\u0026#34;; AUR_HELPER=yay; echo -e \u0026#34;${green}-I- Done${reset}\u0026#34;; fi echo -e \u0026#34;${green}-I- Updating with aur helper and installing dependencies${reset}\u0026#34; $AUR_HELPER -Syu $AUR_HELPER -S papirus-folders papirus-nord papirus-icon-theme chrome-gnome-shell #gdm-tools #GDM theme is broken, don\u0026#39;t do this one echo -e \u0026#34;${green}-I- Updated with aur helper\u0026#34; echo -e \u0026#34;-I- cloning Nordic gtk/kvantum theme${reset}\u0026#34; git clone https://github.com/EliverLara/Nordic.git sudo cp -r Nordic /usr/share/themes rm -rf Nordic/ echo -e \u0026#34;${green}-I- Done, Nordic theme it should be on the list in gnome tweaks${reset}\u0026#34; echo -e \u0026#34;${green}-I- cloning nord-gnome-terminal theme${reset}\u0026#34; git clone https://github.com/arcticicestudio/nord-gnome-terminal.git nord-gnome-terminal/src/nord.sh rm -rf nord-gnome-terminal/ echo -e \u0026#34;${green}-I- Done, Nordic GNOME Terminal theme installed, it should be on the list in gnome-terminal profiles\u0026#34; echo -e \u0026#34;-I- cloning nord-gedit theme${reset}\u0026#34; git clone https://github.com/arcticicestudio/nord-gedit.git cd nord-gedit ./install.sh cd ../ rm -rf nord-gedit/ echo -e \u0026#34;${green}-I- Done, Nordic gedit theme installed, it should be on the list under Fonts \u0026amp; Colors tab\u0026#34; echo -e \u0026#34;-I- Installing papirus icons${reset}\u0026#34; papirus-folders -t Papirus-Dark -C nordic echo -e \u0026#34;${green}-I- Done, papirus icon colors changed, it should be on the list in gnome tweaks, need to set to Papirus-Dark${reset}\u0026#34; #echo -e \u0026#34;${green}-I- Installing Nordic gdm theme${reset}\u0026#34; #set-gdm-theme set Nordic #GDM theme is broken, don\u0026#39;t do this one #echo -e \u0026#34;${green}-I- Installed Nordic gdm theme${reset}\u0026#34; Results so far:\nFunnily enough I had to create another script to install virt-manager\non my computer and to test more scripts on a virtual machine:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 #!/bin/env bash set -e green=\u0026#34;\\e[0;92m\u0026#34; red=\u0026#34;\\e[0;91m\u0026#34; reset=\u0026#34;\\e[0m\u0026#34; # CONFIG_FILE=${CONFIG_FILE:-/etc/libvirt/libvirtd.conf} # SOCKET_GROUP_KEY=${SOCKET_GROUP_KEY:-unix_sock_group} # SOCKET_GROUP_VALUE=${SOCKET_GROUP_VALUE:-libvirt} # SOCKET_RW_PERM_KEY=${SOCKET_RW_PERM_KEY:-unix_sock_rw_perms} # SOCKET_RW_PERM_VALUE=${SOCKET_RW_PERM_VALUE:-0770} if [[ $(/usr/bin/id -u) -ne 0 ]]; then echo -e \u0026#34;${red}-I- Not running as root, exit${reset}\u0026#34; exit fi echo -e \u0026#34;${green}-I- Installing virt-manager dependencies${reset}\u0026#34; sudo pacman -S --noconfirm qemu virt-manager virt-viewer dnsmasq vde2 bridge-utils openbsd-netcat ebtables iptables libguestfs # sudo pacman -S qemu virt-manager virt-viewer dnsmasq vde2 bridge-utils openbsd-netcat ebtables libguestfs echo -e \u0026#34;${green}-I- Done\u0026#34; echo -e \u0026#34;-I- Enabling and starting libvirtd.service${reset}\u0026#34; sudo systemctl enable libvirtd.service sudo systemctl start libvirtd.service echo -e \u0026#34;${green}-I- Done${reset}\u0026#34; systemctl status libvirtd.service # echo -e \u0026#34;${green}-I- Modifying config file${reset}\u0026#34; # sudo sed -n -i \u0026#34;s/\\($SOCKET_GROUP_KEY *= *\\).*/\\1\\\u0026#34;$SOCKET_GROUP_VALUE\\\u0026#34;/\u0026#34; $CONFIG_FILE # sudo sed -n -i \u0026#34;s/\\($SOCKET_RW_PERM_KEY *= *\\).*/\\1\\\u0026#34;$SOCKET_RW_PERM_VALUE\\\u0026#34;/\u0026#34; $CONFIG_FILE # echo -e \u0026#34;${green}-I- Done\u0026#34; echo -e \u0026#34;-I- Modifying group permissions${reset}\u0026#34; sudo usermod -a -G libvirt-qemu $(whoami) sudo usermod -a -G libvirt $(whoami) echo -e \u0026#34;${green}-I- Done\u0026#34; echo -e \u0026#34;-I- Restarting libvirtd.service${reset}\u0026#34; sudo systemctl restart libvirtd.service echo -e \u0026#34;${green}-I- Done${reset}\u0026#34; #taken from: https://computingforgeeks.com/install-kvm-qemu-virt-manager-arch-manjar/ I also have a fork of the st terminal with the nord theme and some sane defaults applied\nDay 1 of my 2022’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2022/05/06/gnome-nord-theme-install-script/","summary":"I’ll start this post by saying that I have a thing for the Nord theme, every time I clean install a system I go through the trouble of applying the theme to everything, which got me thinking that I could automate most of it, at least for my gnome installs.\nMore info on Nord theme ports here\nMy script (also available here) should:\nInstall the gtk/kvantum themes from https://github.com/EliverLara/Nordic Create the nord profile for gnome-terminal from https://github.","title":"Gnome Nord theme install script"},{"content":"This is a followup on a previous entry\nIt has been a while since I last wrote about this but I’ve been busy:\nFlashing the first nRFmicro The very fist attempt at flashing the bootloader to my nRFmicro board failed miserably because I botched some pins on the main module so I used this as an excuse and bought Pine64’s hammerhead kit to repair my soldering poor job, which seemed to work\nAfter this, mass erasing and flashing was possible and went smoothly:\nKeyboard Assembly The rest of the process was just about waiting for components and assembling\nFinal Product Your browser does not support the video tag. ZMK I chose to use ZMK firmware for my keyboard and the setup is quite straightforward, as described in their website, the best part is that no local environment is needed and nRFmicro is supported out of the box\nNext I’m going to be playing around with the keymap 😀\nDay 19 of my 2021’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/09/15/making-a-bluetooth-split-keyboard-part-2/","summary":"This is a followup on a previous entry\nIt has been a while since I last wrote about this but I’ve been busy:\nFlashing the first nRFmicro The very fist attempt at flashing the bootloader to my nRFmicro board failed miserably because I botched some pins on the main module so I used this as an excuse and bought Pine64’s hammerhead kit to repair my soldering poor job, which seemed to work","title":"Making a bluetooth split keyboard part 2"},{"content":"A bit of a followup on a previous entry, I’ve succeeded in turning a Chinese STM32F103 clone into a Black Magic Probe :\nI found some instructions in blackmagic-bluepill to follow\nI’ll try to summarize:\nwiring is important! Since the whole point of making the BMP flasher/debugger was to flash the nRFmicro, I followed the instructions on the nRFmicro repo got their supplied blackmagic binaries For some reason I had to fiddle around and hold the reset button before attaching a device (search STM32 bluepill connect under reset for more on this) , it was a hit and miss thing … (arm-none-eabi-binutils, arm-none-eabi-gcc and arm-none-eabi-gdb are installed at this point, this is the list of commands to follow: I couldn’t load .bin files so I converted the downloaded binaries to .hex files 1 2 arm-none-eabi-objcopy -I binary -O ihex blackmagic_dfu.bin blackmagic_dfu.hex arm-none-eabi-objcopy -I binary -O ihex blackmagic.bin blackmagic.hex 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 arm-none-eabi-gdb target extended-remote /dev/ttyBmpGdb #/dev/ttyACM0 or /dev/ttyACM1 if the device rules are not installed monitor swdp_scan #this should show the target board voltage and Something like #No. Att Driver #1 M4 #up until this point I was holding the target board\u0026#39;s reset button #I had to try multiple times to do the following step and releasing the reset #button at the same time attach 1 load ./blackmagic_dfu.hex 0x8000000 load ./blackmagic.hex 0x8002000 quit Issuing lsusb yields:\nSo yes, I now have a fully operational blackmagic-bluepill 😀\nDay 16 of my 2021’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/07/05/making-a-bluetooth-split-keyboard-part-1-a/","summary":"A bit of a followup on a previous entry, I’ve succeeded in turning a Chinese STM32F103 clone into a Black Magic Probe :\nI found some instructions in blackmagic-bluepill to follow\nI’ll try to summarize:\nwiring is important! Since the whole point of making the BMP flasher/debugger was to flash the nRFmicro, I followed the instructions on the nRFmicro repo got their supplied blackmagic binaries For some reason I had to fiddle around and hold the reset button before attaching a device (search STM32 bluepill connect under reset for more on this) , it was a hit and miss thing … (arm-none-eabi-binutils, arm-none-eabi-gcc and arm-none-eabi-gdb are installed at this point, this is the list of commands to follow: I couldn’t load .","title":"Making a bluetooth split keyboard (Part 1-a)"},{"content":"As promised in my previous entry, I’ll go into some details related to how I implemented effects on my RGB Lamp:\nAll the code is available at my github repo or the mirror repo on my self-hosted gitea instance\nThe idea is to have mqtt messages triggering different behavior in my code, the design consists in triggering a periodic function to change LED RGB values depending on the message topic and payload\nI’ll try to explain with code chunks, the lamp has 3 operation modes: Solid, Fade and Rainbow\nSolid This was the very first transition implemented, simple color setting depending on a 32 bit RGB value (8 bits per color)\nfunction mqttDataCb is called with topic /mqtt/lights/solid payload is assigned to a boolean and other mode booleans (fade and rainbow) are set to false. RGB combination is assigned to all LEDs 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 void mqttDataCb(uint32_t *args, const char *topic, uint32_t topic_len, const char *data, uint32_t data_len) { char *topicBuf = (char *)os_zalloc(topic_len + 1), *dataBuf = (char *)os_zalloc(data_len + 1); MQTT_Client *client = (MQTT_Client *)args; os_memcpy(topicBuf, topic, topic_len); topicBuf[topic_len] = 0; os_memcpy(dataBuf, data, data_len); dataBuf[data_len] = 0; INFO_MSG(\u0026#34;Receive topic: %s, data: %s length: %d \\r\\n\u0026#34;, topicBuf, dataBuf, data_len); int isRed = strcmp(topicBuf, \u0026#34;/mqtt/lights/red\u0026#34;); int isGreen = strcmp(topicBuf, \u0026#34;/mqtt/lights/green\u0026#34;); int isBlue = strcmp(topicBuf, \u0026#34;/mqtt/lights/blue\u0026#34;); int isFade = strcmp(topicBuf, \u0026#34;/mqtt/lights/fade\u0026#34;); int isSolid = strcmp(topicBuf, \u0026#34;/mqtt/lights/solid\u0026#34;); int isRainbow = strcmp(topicBuf, \u0026#34;/mqtt/lights/rainbow\u0026#34;); INFO_MSG(\u0026#34;topic comparison result: R %d, G %d, B %d, fade %d, solid%d\\r\\n\u0026#34;, isRed, isGreen, isBlue, isFade, isSolid); if (isRed == 0) { received_red = dataBuf[0]; } else if (isGreen == 0) { received_green = dataBuf[0]; } else if (isBlue == 0) { received_blue = dataBuf[0]; } else if (isFade == 0) { fade = dataBuf[0]; solid = false; rainbow = false; } else if (isSolid == 0) { solid = dataBuf[0]; fade = false; rainbow = false; } else if (isRainbow == 0) { rainbow = dataBuf[0]; solid = false; fade = false; } os_free(topicBuf); os_free(dataBuf); if (solid) { os_timer_disarm(\u0026amp;fadeTimer); //Disable timer for periodic function INFO_MSG(\u0026#34;Updated color is R:%d G:%d B:%d \\r\\n\u0026#34;, received_red, received_green, received_blue); int i; for (i = 0; i \u0026lt; NUMPIXELS; i++) { // Color takes RGB values, from 0,0,0 up to 255,255,255 setPixelColor(\u0026amp;ledstrip, i, color_rgb(received_red, received_green, received_blue)); system_soft_wdt_feed(); } show(\u0026amp;ledstrip); } else if (fade) { ... //Redacted for convenience }else if(rainbow){ ... //Redacted for convenience } } Nothing else to do here, the Solid mode is simple and doesn’t need a periodic function to change anything, which is why the timer to trigger said function is just disabled (in case the previous mode depended on it) with os_timer_disarm(\u0026amp;fade_timer) (more on this available in Espressif’s nonos SDK) Fade I call the first one Fade because of the soft transitions between colors…\nfunction mqttDataCb is called with topic /mqtt/lights/fade after the payload value is assigned to a boolean, the periodic function timer is disarmed, some initialization happens: all LEDs are initialized to color blue, and a state machine is re-initialized (to start from a known state) This is the state machine declaration: 1 2 3 4 5 6 7 8 9 10 enum fade_state{ to_purple, to_red, to_orange, to_green, to_teal, to_blue }; enum fade_state FADESTATE = to_purple; //state machine initial state This is the missing chunk in function mqttDataCb:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 } else if (fade) { fade_red = 0; //reset fade values fade_green = 0; fade_blue = 255; FADESTATE = to_purple; // MQTT_Publish(client,\u0026#34;/mqtt/lights/solid\u0026#34;,0,1,2,0); for (uint8_t i = 0; i \u0026lt; NUMPIXELS; i++) { // Color takes RGB values, from 0,0,0 up to 255,255,255 setPixelColor(\u0026amp;ledstrip, i, color_rgb(fade_red, fade_green, fade_blue)); system_soft_wdt_feed(); } show(\u0026amp;ledstrip); //initialize timer os_timer_disarm(\u0026amp;fadeTimer); os_timer_setfn(\u0026amp;fadeTimer, (os_timer_func_t *)fadeFunction, NULL); os_timer_arm(\u0026amp;fadeTimer, FADE_DELAY, 0); }else if(rainbow){ This function basically kickstarts the timer that calls fadeFunction, which in turn disarms the timer, checks which mode of operation is active and, in this case, cycles through the super fancy state machine (implemented as a simple switch statement), it just saturates or depletes a color to create the color transitions: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 static void ICACHE_FLASH_ATTR fadeFunction(void *arg) { os_timer_disarm(\u0026amp;fadeTimer); if (fade) { switch (FADESTATE) { //Fade state machine case to_purple: if (fade_red \u0026lt; 255) { // purple fade_red += 51; } else { FADESTATE = to_red; } break; case to_red: if (fade_blue \u0026gt; 0) { // red fade_blue -= 51; } else { FADESTATE = to_orange; } break; case to_orange: if (fade_green \u0026lt; 255) { // orange fade_green += 51; } else { FADESTATE = to_green; } break; case to_green: if (fade_red \u0026gt; 0) { // green fade_red -= 51; } else { FADESTATE = to_teal; } break; case to_teal: if (fade_blue \u0026lt; 255) { // teal fade_blue += 51; } else { FADESTATE = to_blue; } break; case to_blue: if (fade_green \u0026gt; 0) { // blue fade_green -= 51; } else { FADESTATE = to_purple; } break; default: break; } for (uint8_t i = 0; i \u0026lt; NUMPIXELS; i++) { setPixelColor(\u0026amp;ledstrip, i, color_rgb(fade_red, fade_green, fade_blue)); system_soft_wdt_feed(); } show(\u0026amp;ledstrip); }else if(rainbow){ ... // Redacted for convenience } os_timer_setfn(\u0026amp;fadeTimer, (os_timer_func_t *)fadeFunction, NULL); os_timer_arm(\u0026amp;fadeTimer, FADE_DELAY, 0); } Rainbow This is the most flashy (pun intended) mode of operation, it took what I call LED remapping (basically messing around with pointers), the soldering method shown in Thingiverse makes it hard to use simple mathematical operations to set the color LEDs periodically, initially I thought that using something like LED_index % 9 in a switch case would be enough but that doesn’t work for the snake like pattern I have, perhaps a diagram can illustrate what I mean:\nEssentially what I wanted was to have LEDs 0, 17, 18, 35, 36, 53, 54, 71 be “grouped” together and have the same color. Same applies to all others… So I created some structs that group the LEDs like this and had to manually point their elements to the corresponding LED numbers:\nThis are the corresponding chunks of code (not sure if function ledstrip_remap() is the best way to deal with the remapping, I’m pretty sure there should be a way to define this at compile time, food for thought):\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 #define NUMPIXELS\t72 #define COLOR_COMBINATIONS 6 #define LINES_IN_STRIP 9 #define LEDS_PER_LINE 8 typedef union{ struct{ //LSB to MSB uint8_t red:8; uint8_t green:8; uint8_t blue:8; }b; uint32_t w; }color; typedef struct leds{ color LED_ARRAY[NUMPIXELS]; // led complete array }LEDS; typedef struct ledline{ color *LED_LINE_ELEMENTS[LEDS_PER_LINE]; // leds in line }LEDLINE; typedef struct ledstrip{ LEDLINE LED_LINES_IN_STRIP[LINES_IN_STRIP]; // led lines in strip }LEDSTRIP; LEDS all_leds; LEDSTRIP myledstrip; color rainbow_array[COLOR_COMBINATIONS]; void ledstrip_remap() { // it is important to rework this function if the total // number of leds in your strip is not 72 (arranged in 9 // lines x 8 elements each) // 1st ring myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[0]; myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[17]; myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[18]; myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[35]; myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[36]; myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[53]; myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[54]; myledstrip.LED_LINES_IN_STRIP[0].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[71]; // 2nd ring myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[1]; myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[16]; myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[19]; myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[34]; myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[37]; myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[52]; myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[55]; myledstrip.LED_LINES_IN_STRIP[1].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[70]; // 3rd ring myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[2]; myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[15]; myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[20]; myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[33]; myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[38]; myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[51]; myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[56]; myledstrip.LED_LINES_IN_STRIP[2].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[69]; // 4th ring myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[3]; myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[14]; myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[21]; myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[32]; myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[39]; myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[50]; myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[57]; myledstrip.LED_LINES_IN_STRIP[3].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[68]; // 5th ring myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[4]; myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[13]; myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[22]; myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[31]; myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[40]; myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[49]; myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[58]; myledstrip.LED_LINES_IN_STRIP[4].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[67]; // 6th ring myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[5]; myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[12]; myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[23]; myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[30]; myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[41]; myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[48]; myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[59]; myledstrip.LED_LINES_IN_STRIP[5].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[66]; // 7th ring myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[6]; myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[11]; myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[24]; myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[29]; myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[42]; myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[47]; myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[60]; myledstrip.LED_LINES_IN_STRIP[6].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[65]; // 8th ring myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[7]; myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[10]; myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[25]; myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[28]; myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[43]; myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[46]; myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[61]; myledstrip.LED_LINES_IN_STRIP[7].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[64]; // 9th ring myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[0] = \u0026amp;all_leds.LED_ARRAY[8]; myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[1] = \u0026amp;all_leds.LED_ARRAY[9]; myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[2] = \u0026amp;all_leds.LED_ARRAY[26]; myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[3] = \u0026amp;all_leds.LED_ARRAY[27]; myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[4] = \u0026amp;all_leds.LED_ARRAY[44]; myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[5] = \u0026amp;all_leds.LED_ARRAY[45]; myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[6] = \u0026amp;all_leds.LED_ARRAY[62]; myledstrip.LED_LINES_IN_STRIP[8].LED_LINE_ELEMENTS[7] = \u0026amp;all_leds.LED_ARRAY[63]; } void set_rainbow_element(uint8_t element_num, uint8_t red, uint8_t green, uint8_t blue){ rainbow_array[element_num].b.red = red; rainbow_array[element_num].b.green = blue; rainbow_array[element_num].b.blue = green; } void init_rainbow_array() { // it is important to rework this function if the // desired color combination array doesn\u0026#39;t have 6 // elements set_rainbow_element(0, 0, 0, 255); // blue set_rainbow_element(1, 255, 0, 255); // purple set_rainbow_element(2, 255, 0, 0); // red set_rainbow_element(3, 255, 255, 0); // orange set_rainbow_element(4, 0, 255, 0); // green set_rainbow_element(5, 0, 255, 255); // teal } void rotate_rainbow_array(){ color temp = rainbow_array[0]; for (uint8_t i = 0; i \u0026lt; COLOR_COMBINATIONS -1; i++) { rainbow_array[i] = rainbow_array[i+1]; } rainbow_array[COLOR_COMBINATIONS-1] = temp; } void set_strip_line_color(uint8_t line_num, color assigned_color) { for (uint8_t i = 0; i \u0026lt; LEDS_PER_LINE; i++) { myledstrip.LED_LINES_IN_STRIP[line_num].LED_LINE_ELEMENTS[i]-\u0026gt;b.red = assigned_color.b.red; myledstrip.LED_LINES_IN_STRIP[line_num].LED_LINE_ELEMENTS[i]-\u0026gt;b.green = assigned_color.b.green; myledstrip.LED_LINES_IN_STRIP[line_num].LED_LINE_ELEMENTS[i]-\u0026gt;b.blue = assigned_color.b.blue; } } Then the missing chunk of code in function fadeFunction is simpler:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 }else if(rainbow){ rotate_rainbow_array(); for (uint8_t i = 0; i \u0026lt; LINES_IN_STRIP; i++) { if (i \u0026lt; COLOR_COMBINATIONS) { set_strip_line_color(i, rainbow_array[i]); } else { set_strip_line_color(i, rainbow_array[i - COLOR_COMBINATIONS]); } } for (uint8_t i = 0; i \u0026lt; NUMPIXELS; i++) { // setPixelColor takes RGB values, from 0,0,0 up to 255,255,255, // this function is part of the Adafruit_NeoPixel library setPixelColor(\u0026amp;ledstrip, i, color_rgb(all_leds.LED_ARRAY[i].b.red, all_leds.LED_ARRAY[i].b.green, all_leds.LED_ARRAY[i].b.blue)); system_soft_wdt_feed(); } show(\u0026amp;ledstrip); } This is my first attempt at explaining code in a blog post, hopefully the idea got across, at least writing this helps me organize my thoughts\nDay 15 of my 2021’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/07/01/rgb-wifi-enabled-lamp-part-2/","summary":"As promised in my previous entry, I’ll go into some details related to how I implemented effects on my RGB Lamp:\nAll the code is available at my github repo or the mirror repo on my self-hosted gitea instance\nThe idea is to have mqtt messages triggering different behavior in my code, the design consists in triggering a periodic function to change LED RGB values depending on the message topic and payload","title":"RGB WiFi enabled lamp (Part 2)"},{"content":"It seems that it is normal for me to buy stuff/parts/devkits and let them accumulate some dust before getting back to the project pile …\nJust recently I read on the Pine64 Blog June update that Infinitime 1.2 was coming soon… Then I remembered I had ordered a PineTime devkit (part of the first batch ever actually) so I decided to find it and flash working firmware on it…\nI attempted to flash it with a STM bluepill Black Magic Probe first:\nImage taken from this forum thread\nGuide to program using arm-noneabi-gdb and BMP here\nApparently I managed to delete the application firmware because the dummy GUI that showed the charging state was gone…but I didn’t manage to make it show anything, I was left with a paperweight, just for fun, here’s the log:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 ╰─ arm-none-eabi-gdb ─╯ GNU gdb (GDB) 10.2 Copyright (C) 2021 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later \u0026amp;lt;http://gnu.org/licenses/gpl.html\u0026amp;gt; This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Type \u0026#34;show copying\u0026#34; and \u0026#34;show warranty\u0026#34; for details. This GDB was configured as \u0026#34;--host=x86_64-pc-linux-gnu --target=arm-none-eabi\u0026#34;. Type \u0026#34;show configuration\u0026#34; for configuration details. For bug reporting instructions, please see: \u0026amp;lt;https://www.gnu.org/software/gdb/bugs/\u0026amp;gt;. Find the GDB manual and other documentation resources online at: \u0026amp;lt;http://www.gnu.org/software/gdb/documentation/\u0026amp;gt;. For help, type \u0026#34;help\u0026#34;. Type \u0026#34;apropos word\u0026#34; to search for commands related to \u0026#34;word\u0026#34;. (gdb) target extended-remote /dev/ttyACM0 Remote debugging using /dev/ttyACM0 (gdb) monitor swdp_scan Target voltage: 2.96V Available Targets: No. Att Driver 1 Nordic nRF52 M4 2 Nordic nRF52 Access Port (gdb) attach 1 Attaching to Remote target warning: No executable has been specified and target does not support determining executable automatically. Try using the \u0026#34;file\u0026#34; command. 0xfffffffe in ?? () (gdb) mon erase_mass erase.. (gdb) mon hard_srst (gdb) detach Detaching from program: , Remote target \u0026amp;#91;Inferior 1 (Remote target) detached] (gdb) monitor swdp_scan Target voltage: 2.94V Available Targets: No. Att Driver 1 Nordic nRF52 M4 2 Nordic nRF52 Access Port (gdb) attach 1 Attaching to Remote target warning: No executable has been specified and target does not support determining executable automatically. Try using the \u0026#34;file\u0026#34; command. 0xfffffffe in ?? () (gdb) file ~/Downloads/Infinitime/1.2.0/merged-internal.hex A program is being debugged already. Are you sure you want to change the file? (y or n) y Reading symbols from ~/Downloads/Infinitime/1.2.0/merged-internal.hex... (No debugging symbols found in ~/Downloads/Infinitime/1.2.0/merged-internal.hex) (gdb) load Loading section .sec1, size 0x54a0 lma 0x0 Loading section .sec2, size 0x8000 lma 0x8000 Loading section .sec3, size 0x10000 lma 0x10000 Loading section .sec4, size 0x10000 lma 0x20000 Loading section .sec5, size 0x10000 lma 0x30000 Loading section .sec6, size 0x10000 lma 0x40000 Loading section .sec7, size 0x9970 lma 0x50000 Start address 0x00000000, load size 355856 Transfer rate: 39 KB/sec, 969 bytes/write. (gdb) compare-sections Section .sec1, range 0x0 -- 0x54a0: matched. Section .sec2, range 0x8000 -- 0x10000: matched. Section .sec3, range 0x10000 -- 0x20000: matched. Section .sec4, range 0x20000 -- 0x30000: matched. Section .sec5, range 0x30000 -- 0x40000: matched. Section .sec6, range 0x40000 -- 0x50000: matched. Section .sec7, range 0x50000 -- 0x59970: matched. (gdb) mon hard_srst (gdb) detach Detaching from program: /home/lopeztel/Downloads/Infinitime/1.2.0/merged-internal.hex, Remote target \u0026amp;#91;Inferior 1 (Remote target) detached] (gdb) quit After consulting with the guys at the PineTime-dev Matrix channel, I was glad to confirm I was flashing the right file: merged-internal.hex from the releases page in InfiniTime github repo actually contains both the bootloader and the application firmware in a single file, so no complaints there…\nBut, someone also pointed out that the first devices to ship had locked bootloaders, so turns out I had to unlock it with a Segger J-Link Debug Probe (aka NRF52DK I had around here)\nPin connections:\nPin on PineTime Pin on NRF52DK P20 SWDIO SWDIO SWDCLK SWDCLK 3.3V VCC VTG GND GND DETECT Then it was just a matter of issuing a couple of nrfjprog commands as stated in the wiki article Reprogramming the PineTime:\n1 2 3 nrfjprog -f NRF52 --recover nrfjprog -f NRF52 --program \u0026lt;path-to-hex\u0026gt;/merged-internal.hex --sectorerase nrfjprog -f NRF42 -f NRF52 --reset Which finally did the trick:\nNow, I only need to do something about the stuck button…I attempted to seal the device with superglue and it spilled everywhere\nHuge shoutout to the nice people in the PineTime-dev Matrix channel, they were very patient and helpful!\nDay 14 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/06/26/infinitime-1-2-0-on-pinetime-from-scratch/","summary":"It seems that it is normal for me to buy stuff/parts/devkits and let them accumulate some dust before getting back to the project pile …\nJust recently I read on the Pine64 Blog June update that Infinitime 1.2 was coming soon… Then I remembered I had ordered a PineTime devkit (part of the first batch ever actually) so I decided to find it and flash working firmware on it…\nI attempted to flash it with a STM bluepill Black Magic Probe first:","title":"Infinitime 1.2-0 on PineTime, from scratch"},{"content":"Following up on hobby projects, this past few weeks I’ve been working a lot on my abandoned WiFi enabled RGB lamp\nThe inspiration On one of those days you end up searching for random stuff across the internet I came across a project called Twisted WiFi-controlled Desk Lamp on Thingiverse (awesome site, check it out), this was back when a friend offered to print stuff for me so I jumped at the opportunity and had him 3D print the parts\nMy own personal touch Since I had already been tinkering with ESP8266 modules and looked into manipulating WS2812B based LED strips (such as the Adafruit Neopixel) and reverse engineered a bit of the Arduino library for my needs, it only made sense to integrate all into this project. There are some instructions that the creator of the original project kindly provides but I wanted a more barebones/DIY thing so instead of Arduino and HTTP requests, I am using PlatformIO and ESP8266-nonos-sdk to implement MQTT in plain old C. I also didn’t want Amazon Alexa integration so I replaced the Weemos D1 mini and the microphone the original project uses with a generic ESP-01 module and a ESP-01 RGB board\nBefore Before starting this project I already had some work done with my custom MQTT Dashboard project on raspberrypi 3B:\nSimple solid color change on a NeoPixel ring (16 LEDs)\nAfter I added some more custom effects to my code and tweaked the lamp base to have access to the reset button, the array is made up of 8 strips with 9 LEDs each (72 in total), which also required a power supply instead of batteries, I went with standard 5V/3A power supply\nThis is the final product:\nIn part two I’ll go into details for some (kind of crappy) low level C programming and RGB LED effects\nMore details in my github repo, also available from a mirrored repo on my self-hosted gitea instance\nDay 12 of my 2021’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/06/24/rgb-wifi-enabled-lamp-part-1/","summary":"Following up on hobby projects, this past few weeks I’ve been working a lot on my abandoned WiFi enabled RGB lamp\nThe inspiration On one of those days you end up searching for random stuff across the internet I came across a project called Twisted WiFi-controlled Desk Lamp on Thingiverse (awesome site, check it out), this was back when a friend offered to print stuff for me so I jumped at the opportunity and had him 3D print the parts","title":"RGB WiFi enabled lamp (Part 1)"},{"content":"It’s been a while since I last posted something remotely technical so I thought this would do this entry\nAll the work is based on the Lily58 split keyboard, we will be using the nRFmicro board, which in turn will be the brain of each keyboard half\nThe first step was to make the nRFmicro board using the soldering guide in the repo, needless to say the process was complicated but a very good excuse to use my new Pinecil\nThe plan is to use the ZMK firmware but to do so, flashing the board is necessary, so far I’ve looked at 2 different approaches:\nnRF Command Line Tools in Linux This is the process that was needed to use a nRF52DK as a debugger/programmer (it has a J-Link OB, which is why it can be used to program or debug other boards ) to flash a bootloader on the nRFmicro\nAccording to official documentation and this devZone post it is possible to use P20 or P19 to connect external boards (needs shorting solder bridge SB47)\nI’m using P20 according to the following diagram (minus the GND DETECT connection):\nOnce the connections are sorted out the first step of the process is downloading and installing nRF Command Line Tools\nFollowing the link provided will point to a downloads page, since I use Manjaro, I had to download the corresponding linux zip file and uncompress it, I also uncompressed the tar files within the root directory (Debian based distro users can just use the .deb packages):\n1 2 3 4 5 6 7 8 9 10 11 12 . ├── nRF-Command-Line-Tools_10_12_2_Linux-amd64 │ ├── JLink_Linux_V688a_x86_64.deb │ ├── JLink_Linux_V688a_x86_64.tgz │ ├── mergehex │ ├── nRF-Command-Line-Tools_10_12_2_Linux-amd64.deb │ ├── nRF-Command-Line-Tools_10_12_2.tar │ ├── nrfjprog │ └── README.txt ├── nRF-Command-Line-Tools_10_12_2_Linux-amd64.tar.gz ├── pynrfjprog-10.12.2.zip └── ReadMe.txt According to the README, directories mergehex and nrfjprog need to be copied to the /opt directory:\ncopy directories to /opt 1 2 sudo cp -r \u0026lt;path_to_download\u0026gt;/nRF-Command-Line-Tools_10_12_2_Linux-amd64/nRF-Command-Line-Tools_10_12_2_Linux-amd64/nrfjprog /opt/ sudo cp -r \u0026lt;path_to_download\u0026gt;/nRF-Command-Line-Tools_10_12_2_Linux-amd64/nRF-Command-Line-Tools_10_12_2_Linux-amd64/mergehex /opt/ Make symbolic link for nrfjprog in /usr/local/bin 1 sudo ln -s /opt/nrfjprog/nrfjprog /usr/local/bin/nrfjprog Make symbolic link for mergehex in /usr/local/bin 1 sudo ln -s /opt/mergehex/mergehex /usr/local/bin/mergehex nRF command line tools expects the Jlink files to be installed under /opt/SEGGER/JLink, otherwise errors about JLink DLL not found pop up in the terminal, I followed the guide at Eclipse embed CDT:\n1 2 3 4 5 sudo mkdir -p ~/opt/SEGGER cd ~/opt/SEGGER sudo tar xf /\u0026lt;path_to_download\u0026gt;/nRF-Command-Line-Tools_10_12_2_Linux-amd64/JLink_Linux_V688a_x86_64.tgz chmod a-w ~/opt/SEGGER/JLink_Linux_V688a_x86_64 mv JLink_Linux_V688a_x86_64 JLink Also an important part of this is to copy the device rules\n1 sudo cp ~/opt/SEGGER/JLink/99-jlink.rules /etc/udev/rules.d Funnily enough I think the installation was successful but I couldn’t flash the nRFmicro board, still debugging why …\nCreating a Black Magic Probe using a STM32 Blue Pill board As an alternative I tried to follow a tutorial to create another programmer/debugger\nI installed stm32flasher from AUR\n1 yay -S stmflasher And then followed the instructions but I have run into trouble with either my FTDIRS232 module or the Blue pill not responding UART requests in bootloader mode… a bit frustrating and also, still debugging…\nDay 10 of my 2021’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/06/02/making-a-bluetooth-split-keyboard-part-1/","summary":"It’s been a while since I last posted something remotely technical so I thought this would do this entry\nAll the work is based on the Lily58 split keyboard, we will be using the nRFmicro board, which in turn will be the brain of each keyboard half\nThe first step was to make the nRFmicro board using the soldering guide in the repo, needless to say the process was complicated but a very good excuse to use my new Pinecil","title":"Making a bluetooth split keyboard (part 1)"},{"content":"This is a bit of a follow-up on my previous rant on Mexican food and its representation abroad, see the previous entry, since last time I’ve tried to show “the way” to my Norwegian friends and I thought it would be nice to document the process.\nI’ve also written about food during some holidays, see:\nDay of the Dead away from Mexico Day of the Epiphany away from Mexico The first time I cooked something remotely close to real Mexican food had to wait until I got a care package, after Christmas-New Year’s, it contained some traditional sweets (long gone by the time of writing of this entry), some Mezcal (I like to describe the flavor as “smoked” Tequila) and some flasks of Mole and an assortment of dry peppers\nThe first time I shared some of my country’s food with some friends, we made Enchiladas de Mole, deep fried white corn tortillas, stuffed with chicken, covered in mole, sour cream, cheese and onion\nJust yesterday we made Tacos dorados, which is something you’d get from mom back home (huge shout out to my mom), we rolled some boiled potato or chicken with some diced onion and coriander into a white corn tortilla taco, then deep fried and covered in sour cream, lettuce, cheese and salsa:\nOf course the salsa was quite important and had to be mom-approved. I used Chile Guajillo, Chile Pasilla and Chile Ancho, some garlic, onions and tomatoes, basically threw everything on a pan for a while and then in the blender. I also made some Guacamole\nFood was very good, I’m planning on sharing more in the future\nDay 08 of my 2021’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/05/10/mexican-food-part-2/","summary":"This is a bit of a follow-up on my previous rant on Mexican food and its representation abroad, see the previous entry, since last time I’ve tried to show “the way” to my Norwegian friends and I thought it would be nice to document the process.\nI’ve also written about food during some holidays, see:\nDay of the Dead away from Mexico Day of the Epiphany away from Mexico The first time I cooked something remotely close to real Mexican food had to wait until I got a care package, after Christmas-New Year’s, it contained some traditional sweets (long gone by the time of writing of this entry), some Mezcal (I like to describe the flavor as “smoked” Tequila) and some flasks of Mole and an assortment of dry peppers","title":"Mexican Food (Part 2)"},{"content":"This is a follow-up to my previous entries: Fooling around with bash scripts, which I used as a base for Migration from Google Photos to Nextcloud and Piwigo\nSince some of my old picture albums have old .mov, .mpg and .avi videos in them I decided to also convert them to .mp4 (piwigo can show them in the albums), so once again I tried came up with something to automate the task\nDependencies:\nffmpeg Script:\n1 2 3 4 5 6 7 8 9 10 11 12 #!/bin/sh mkdir -p converted_videos for file in ./*.MOV ./*.mov ./*.MPG ./*.AVI; do echo \u0026#34;converting file $file ...\u0026#34; ffmpeg -i \u0026#34;$file\u0026#34; -vcodec h264 -acodec mp2 \u0026#34;./converted_videos/$file\u0026#34;.mp4 done #Assuming there are mp4 files in the directory move them all to the same directory mv *.mp4 converted_videos/ echo \u0026#34;Finished video conversion...\u0026#34; I also further tweaked my resize and compress script to do its task for sub directories in the current directory and also call the video converting script:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 #!/bin/sh for D in *; do if \u0026amp;#91; -d \u0026#34;$D\u0026#34; ]; then cd \u0026#34;$D\u0026#34; echo \u0026#34;Current directory: ${D}\u0026#34; mkdir -p compressed_images mkdir -p resized_images echo \u0026#34;Resizing and compressing pictures\u0026#34; for file in ./*.jpg ./*.jpeg ./*.JPG; do echo \u0026#34;resizing and optimizing $file ...\u0026#34; convert \u0026#34;$file\u0026#34; \\ -resize \u0026#39;1920x1080\u0026amp;gt;\u0026#39; \\ \u0026#34;./resized_images/$file\u0026#34; jpegoptim \u0026#34;./resized_images/$file\u0026#34; \\ -d \u0026#39;./compressed_images\u0026#39; \\ --max 65 \\ --all-progressive \\ -p done echo \u0026#34;done!\u0026#34; echo \u0026#34;Renaming pictures according to creation date...\u0026#34; for i in ./compressed_images/*; do jhead -n%Y%m%d-%H%M%S $i done echo \u0026#34;done!\u0026#34; echo \u0026#34;Deleting temporal resized_images directory\u0026#34; rm -rf resized_images echo \u0026#34;done!\u0026#34; echo \u0026#34;converting videos...\u0026#34; ~/mov_to_mp4.sh echo \u0026#34;done!\u0026#34; echo \u0026#34;Deleting temporal converted_videos directory\u0026#34; rm -rf converted_videos echo \u0026#34;done!\u0026#34; cd ../ fi done I am using this script to before uploading for all my photo albums and I thought it would be nice to share it\nDay 53 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/02/28/fooling-around-with-bash-scripts-2/","summary":"This is a follow-up to my previous entries: Fooling around with bash scripts, which I used as a base for Migration from Google Photos to Nextcloud and Piwigo\nSince some of my old picture albums have old .mov, .mpg and .avi videos in them I decided to also convert them to .mp4 (piwigo can show them in the albums), so once again I tried came up with something to automate the task","title":"Fooling around with bash scripts 2"},{"content":"I’ve been learning to use neovim for almost 3 weeks now and it has been fun, coming from VSCode I guess I was spoiled by the feature rich IDE/text editor, however there is beauty in the simplicity keyboard oriented (Neo)vim text editor\nI’ve been trying to get all the useful keyboard shortcuts and commands I’ve found in a single place and I though this could be helpful for other noobs like me, fosstodon community was helpful and shared their Tips n’ Tricks as well.\nThe Cheatsheet This list is by no means a complete compendium but it is what I’ve found most useful and basic\nTo enter NORMAL mode press Esc To enter INSERT mode type i (cursor position) or I (beginning of the current line) From NORMAL mode:\nTo enter VISUAL mode type v To enter VISUAL LINE mode type V To enter VISUAL BLOCK mode press Ctrl + v To append text type a (cursor position) or A (end of the current line) To navigate the document left, down, up and right press h, j, k, l respectively (or use the arrow keys) To go to the top and end of the document, type gg and G respectively To move to the beginning and end of the line type `` and $ respectively To move forward or backward one word press w and b respectively To insert a line below or above the current line type o and O respectively To undo type u, to redo press Ctrl + r To repeat an action press . To move between last opened files press Ctrl + i (newer) Ctrl + o (older) To swap lines type ddp To swap two characters type xp To remove the current character type x To replace the current character type r\u0026lt;character\u0026gt; To correct a word (from the cursor position) type cw To correct a word (regardless of the cursor position) type ciw To scroll down the document so that only the last line is visible type Ctrl + f To search the document type /\u0026lt;search term\u0026gt; To go to next and previous tabs type gt and gT To switch between splits press Ctrl + w \u0026lt;movement keys\u0026gt; or Ctrl + w + w To start recording a macro press q\u0026lt;letter\u0026gt;, then execute actions/commands and pres q to stop recording To execute a macro type @\u0026lt;letter\u0026gt;, to execute the macro again type @@ To enter COMMAND mode type : From COMMAND mode:\nTo close a file typeq To close a file discarding any changes type q! To close the text editor and all opened files type qa To save your changes to a file type w To save your changes and quit all open tabs wqa To read the help documentation about a topic type help \u0026lt;topic string\u0026gt; To read the help documentation about commands associated to a key type help \u0026lt;key\u0026gt; To open a new tab type tabnew \u0026lt;optional file\u0026gt; To switch between opened tabs type tabprevious and tabnext respectively To open a new horizontal split type split \u0026lt;optional file\u0026gt; To open a new vertical split type vsplit \u0026lt;optional file\u0026gt; To search and replace globally type %s/\u0026lt;regex or search term\u0026gt;/\u0026lt;replace term\u0026gt;/g\u0026lt;optional nc for confirmation\u0026gt; To “open a terminal” type term From VISUAL LINE mode:\nTo reflow text type gq Additional resources:\nUsing Macros in Vim, by @Garrit Strategies to use a terminal alongside (Neo)Vim by @Garrit A great Vim Cheat Sheet My current configuration I thought that just for fun I’d share my init.vim (as of now, since I am still tweaking it) in case someone finds it useful:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 \u0026#34; Author: Lopeztel \u0026#34; Description: Lopeztel\u0026#39;s nvim config \u0026#34; Last Modified: February 20, 2021 \u0026#34; Startify let g:startify_custom_header= [ \\ \u0026#39; _ _ _ \u0026#39;, \\ \u0026#39; | | ___ _ __ ___ ___| |_ ___| | \u0026#39;, \\ \u0026#39; | | / _ \\| ._ \\ / _ \\_ / __/ _ \\ | \u0026#39;, \\ \u0026#39; | |__| (_) | |_) | __// /| || __/ | \u0026#39;, \\ \u0026#39; |_____\\___/| .__/ \\___/___|\\__\\___|_| \u0026#39;, \\ \u0026#39; |_| \u0026#39;, \\ \u0026#39; \u0026#39;, \\ ] call plug#begin(\u0026#39;~/.vim/plugged\u0026#39;) Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;release\u0026#39;} Plug \u0026#39;arcticicestudio/nord-vim\u0026#39; Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;tpope/vim-fugitive\u0026#39; Plug \u0026#39;tpope/vim-rhubarb\u0026#39; Plug \u0026#39;junegunn/gv.vim\u0026#39; Plug \u0026#39;honza/vim-snippets\u0026#39; Plug \u0026#39;junegunn/fzf\u0026#39; Plug \u0026#39;junegunn/fzf.vim\u0026#39; Plug \u0026#39;mhinz/vim-startify\u0026#39; Plug \u0026#39;godlygeek/tabular\u0026#39; Plug \u0026#39;plasticboy/vim-markdown\u0026#39; Plug \u0026#39;rhysd/vim-clang-format\u0026#39; Plug \u0026#39;preservim/nerdcommenter\u0026#39; \u0026#34; Plug \u0026#39;liuchengxu/vim-which-key\u0026#39; call plug#end() \u0026#34; Set colorscheme colorscheme nord \u0026#34; vim-airline settings let g:airline#extensions#tabline#enabled = 1 let g:airline#extensions#tabline#formatter = \u0026#39;unique_tail\u0026#39; let g:airline_powerline_fonts = 1 \u0026#34; let g:Powerline_symbols = \u0026#39;fancy\u0026#39; \u0026#34; Map the leader key to SPACE let mapleader=\u0026#34;\\\u0026lt;SPACE\u0026gt;\u0026#34; \u0026#34; set line numbers set number \u0026#34; More natural splits set splitbelow \u0026#34; Horizontal split below current. set splitright \u0026#34; Vertical split to right of current. \u0026#34; Set spell check to English autocmd FileType markdown setlocal spell spelllang=en_us \u0026#34; Configuration for vim-markdown let g:vim_markdown_folding_disabled = 1 let g:vim_markdown_math = 1 let g:vim_markdown_toml_frontmatter = 1 let g:vim_markdown_frontmatter = 1 let g:vim_markdown_strikethrough = 1 let g:vim_markdown_autowrite = 1 let g:vim_markdown_edit_url_in = \u0026#39;tab\u0026#39; let g:vim_markdown_follow_anchor = 1 \u0026#34; TextEdit might fail if hidden is not set. set hidden \u0026#34; Some servers have issues with backup files, see #649. set nobackup set nowritebackup \u0026#34; Give more space for displaying messages. set cmdheight=2 \u0026#34; Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable \u0026#34; delays and poor user experience. set updatetime=300 \u0026#34; Don\u0026#39;t pass messages to |ins-completion-menu|. set shortmess+=c \u0026#34; Always show the signcolumn, otherwise it would shift the text each time \u0026#34; diagnostics appear/become resolved. if has(\u0026#34;patch-8.1.1564\u0026#34;) \u0026#34; Recently vim can merge signcolumn and number column into one set signcolumn=number else set signcolumn=yes endif \u0026#34; Use tab for trigger completion with characters ahead and navigate. \u0026#34; NOTE: Use command \u0026#39;:verbose imap \u0026lt;tab\u0026gt;\u0026#39; to make sure tab is not mapped by \u0026#34; other plugin before putting this into your config. inoremap \u0026lt;silent\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;TAB\u0026gt; \\ pumvisible() ? \u0026#34;\\\u0026lt;C-n\u0026gt;\u0026#34; : \\ \u0026lt;SID\u0026gt;check_back_space() ? \u0026#34;\\\u0026lt;TAB\u0026gt;\u0026#34; : \\ coc#refresh() inoremap \u0026lt;expr\u0026gt;\u0026lt;S-TAB\u0026gt; pumvisible() ? \u0026#34;\\\u0026lt;C-p\u0026gt;\u0026#34; : \u0026#34;\\\u0026lt;C-h\u0026gt;\u0026#34; function! s:check_back_space() abort let col = col(\u0026#39;.\u0026#39;) - 1 return !col || getline(\u0026#39;.\u0026#39;)[col - 1] =~# \u0026#39;\\s\u0026#39; endfunction \u0026#34; Use \u0026lt;c-space\u0026gt; to trigger completion. if has(\u0026#39;nvim\u0026#39;) inoremap \u0026lt;silent\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;c-space\u0026gt; coc#refresh() else inoremap \u0026lt;silent\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;c-@\u0026gt; coc#refresh() endif \u0026#34; Make \u0026lt;CR\u0026gt; auto-select the first completion item and notify coc.nvim to \u0026#34; format on enter, \u0026lt;cr\u0026gt; could be remapped by other vim plugin inoremap \u0026lt;silent\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;cr\u0026gt; pumvisible() ? coc#_select_confirm() \\: \u0026#34;\\\u0026lt;C-g\u0026gt;u\\\u0026lt;CR\u0026gt;\\\u0026lt;c-r\u0026gt;=coc#on_enter()\\\u0026lt;CR\u0026gt;\u0026#34; \u0026#34; Use `[g` and `]g` to navigate diagnostics \u0026#34; Use `:CocDiagnostics` to get all diagnostics of current buffer in location list. nmap \u0026lt;silent\u0026gt; [g \u0026lt;Plug\u0026gt;(coc-diagnostic-prev) nmap \u0026lt;silent\u0026gt; ]g \u0026lt;Plug\u0026gt;(coc-diagnostic-next) \u0026#34; GoTo code navigation. nmap \u0026lt;silent\u0026gt; gd \u0026lt;Plug\u0026gt;(coc-definition) nmap \u0026lt;silent\u0026gt; gy \u0026lt;Plug\u0026gt;(coc-type-definition) nmap \u0026lt;silent\u0026gt; gi \u0026lt;Plug\u0026gt;(coc-implementation) nmap \u0026lt;silent\u0026gt; gr \u0026lt;Plug\u0026gt;(coc-references) \u0026#34; Use K to show documentation in preview window. nnoremap \u0026lt;silent\u0026gt; K :call \u0026lt;SID\u0026gt;show_documentation()\u0026lt;CR\u0026gt; function! s:show_documentation() if (index([\u0026#39;vim\u0026#39;,\u0026#39;help\u0026#39;], \u0026amp;filetype) \u0026gt;= 0) execute \u0026#39;h \u0026#39;.expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;) elseif (coc#rpc#ready()) call CocActionAsync(\u0026#39;doHover\u0026#39;) else execute \u0026#39;!\u0026#39; . \u0026amp;keywordprg . \u0026#34; \u0026#34; . expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;) endif endfunction \u0026#34; Highlight the symbol and its references when holding the cursor. autocmd CursorHold * silent call CocActionAsync(\u0026#39;highlight\u0026#39;) \u0026#34; Symbol renaming. nmap \u0026lt;leader\u0026gt;rn \u0026lt;Plug\u0026gt;(coc-rename) \u0026#34; Formatting selected code. xmap \u0026lt;leader\u0026gt;f \u0026lt;Plug\u0026gt;(coc-format-selected) nmap \u0026lt;leader\u0026gt;f \u0026lt;Plug\u0026gt;(coc-format-selected) augroup mygroup autocmd! \u0026#34; Setup formatexpr specified filetype(s). autocmd FileType typescript,json setl formatexpr=CocAction(\u0026#39;formatSelected\u0026#39;) \u0026#34; Update signature help on jump placeholder. autocmd User CocJumpPlaceholder call CocActionAsync(\u0026#39;showSignatureHelp\u0026#39;) augroup end \u0026#34; Applying codeAction to the selected region. \u0026#34; Example: `\u0026lt;leader\u0026gt;aap` for current paragraph xmap \u0026lt;leader\u0026gt;a \u0026lt;Plug\u0026gt;(coc-codeaction-selected) nmap \u0026lt;leader\u0026gt;a \u0026lt;Plug\u0026gt;(coc-codeaction-selected) \u0026#34; Remap keys for applying codeAction to the current buffer. nmap \u0026lt;leader\u0026gt;ac \u0026lt;Plug\u0026gt;(coc-codeaction) \u0026#34; Apply AutoFix to problem on the current line. nmap \u0026lt;leader\u0026gt;qf \u0026lt;Plug\u0026gt;(coc-fix-current) \u0026#34; Map function and class text objects \u0026#34; NOTE: Requires \u0026#39;textDocument.documentSymbol\u0026#39; support from the language server. xmap if \u0026lt;Plug\u0026gt;(coc-funcobj-i) omap if \u0026lt;Plug\u0026gt;(coc-funcobj-i) xmap af \u0026lt;Plug\u0026gt;(coc-funcobj-a) omap af \u0026lt;Plug\u0026gt;(coc-funcobj-a) xmap ic \u0026lt;Plug\u0026gt;(coc-classobj-i) omap ic \u0026lt;Plug\u0026gt;(coc-classobj-i) xmap ac \u0026lt;Plug\u0026gt;(coc-classobj-a) omap ac \u0026lt;Plug\u0026gt;(coc-classobj-a) \u0026#34; Remap \u0026lt;C-f\u0026gt; and \u0026lt;C-b\u0026gt; for scroll float windows/popups. if has(\u0026#39;nvim-0.4.0\u0026#39;) || has(\u0026#39;patch-8.2.0750\u0026#39;) nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;C-f\u0026gt; coc#float#has_scroll() ? coc#float#scroll(1) : \u0026#34;\\\u0026lt;C-f\u0026gt;\u0026#34; nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;C-b\u0026gt; coc#float#has_scroll() ? coc#float#scroll(0) : \u0026#34;\\\u0026lt;C-b\u0026gt;\u0026#34; inoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;C-f\u0026gt; coc#float#has_scroll() ? \u0026#34;\\\u0026lt;c-r\u0026gt;=coc#float#scroll(1)\\\u0026lt;cr\u0026gt;\u0026#34; : \u0026#34;\\\u0026lt;Right\u0026gt;\u0026#34; inoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;C-b\u0026gt; coc#float#has_scroll() ? \u0026#34;\\\u0026lt;c-r\u0026gt;=coc#float#scroll(0)\\\u0026lt;cr\u0026gt;\u0026#34; : \u0026#34;\\\u0026lt;Left\u0026gt;\u0026#34; vnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;C-f\u0026gt; coc#float#has_scroll() ? coc#float#scroll(1) : \u0026#34;\\\u0026lt;C-f\u0026gt;\u0026#34; vnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt;\u0026lt;expr\u0026gt; \u0026lt;C-b\u0026gt; coc#float#has_scroll() ? coc#float#scroll(0) : \u0026#34;\\\u0026lt;C-b\u0026gt;\u0026#34; endif \u0026#34; Use CTRL-S for selections ranges. \u0026#34; Requires \u0026#39;textDocument/selectionRange\u0026#39; support of language server. nmap \u0026lt;silent\u0026gt; \u0026lt;C-s\u0026gt; \u0026lt;Plug\u0026gt;(coc-range-select) xmap \u0026lt;silent\u0026gt; \u0026lt;C-s\u0026gt; \u0026lt;Plug\u0026gt;(coc-range-select) \u0026#34; Add `:Format` command to format current buffer. command! -nargs=0 Format :call CocAction(\u0026#39;format\u0026#39;) \u0026#34; Add `:Fold` command to fold current buffer. command! -nargs=? Fold :call CocAction(\u0026#39;fold\u0026#39;, \u0026lt;f-args\u0026gt;) \u0026#34; Add `:OR` command for organize imports of the current buffer. command! -nargs=0 OR :call CocAction(\u0026#39;runCommand\u0026#39;, \u0026#39;editor.action.organizeImport\u0026#39;) \u0026#34; Add (Neo)Vim\u0026#39;s native statusline support. \u0026#34; NOTE: Please see `:h coc-status` for integrations with external plugins that \u0026#34; provide custom statusline: lightline.vim, vim-airline. set statusline^=%{coc#status()}%{get(b:,\u0026#39;coc_current_function\u0026#39;,\u0026#39;\u0026#39;)} \u0026#34; Mappings for CoCList \u0026#34; Show all diagnostics. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;a :\u0026lt;C-u\u0026gt;CocList diagnostics\u0026lt;cr\u0026gt; \u0026#34; Manage extensions. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;e :\u0026lt;C-u\u0026gt;CocList extensions\u0026lt;cr\u0026gt; \u0026#34; Show commands. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;c :\u0026lt;C-u\u0026gt;CocList commands\u0026lt;cr\u0026gt; \u0026#34; Find symbol of current document. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;o :\u0026lt;C-u\u0026gt;CocList outline\u0026lt;cr\u0026gt; \u0026#34; Search workspace symbols. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;s :\u0026lt;C-u\u0026gt;CocList -I symbols\u0026lt;cr\u0026gt; \u0026#34; Do default action for next item. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;j :\u0026lt;C-u\u0026gt;CocNext\u0026lt;CR\u0026gt; \u0026#34; Do default action for previous item. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;k :\u0026lt;C-u\u0026gt;CocPrev\u0026lt;CR\u0026gt; \u0026#34; Resume latest coc list. nnoremap \u0026lt;silent\u0026gt;\u0026lt;nowait\u0026gt; \u0026lt;space\u0026gt;p :\u0026lt;C-u\u0026gt;CocListResume\u0026lt;CR\u0026gt; \u0026#34; Coc-explorer let g:coc_explorer_global_presets = { \\ \u0026#39;.vim\u0026#39;: { \\ \u0026#39;root-uri\u0026#39;: \u0026#39;~/.vim\u0026#39;, \\ }, \\ \u0026#39;tab\u0026#39;: { \\ \u0026#39;position\u0026#39;: \u0026#39;tab\u0026#39;, \\ \u0026#39;quit-on-open\u0026#39;: v:true, \\ }, \\ \u0026#39;floating\u0026#39;: { \\ \u0026#39;position\u0026#39;: \u0026#39;floating\u0026#39;, \\ \u0026#39;open-action-strategy\u0026#39;: \u0026#39;sourceWindow\u0026#39;, \\ }, \\ \u0026#39;floatingTop\u0026#39;: { \\ \u0026#39;position\u0026#39;: \u0026#39;floating\u0026#39;, \\ \u0026#39;floating-position\u0026#39;: \u0026#39;center-top\u0026#39;, \\ \u0026#39;open-action-strategy\u0026#39;: \u0026#39;sourceWindow\u0026#39;, \\ }, \\ \u0026#39;floatingLeftside\u0026#39;: { \\ \u0026#39;position\u0026#39;: \u0026#39;floating\u0026#39;, \\ \u0026#39;floating-position\u0026#39;: \u0026#39;left-center\u0026#39;, \\ \u0026#39;floating-width\u0026#39;: 50, \\ \u0026#39;open-action-strategy\u0026#39;: \u0026#39;sourceWindow\u0026#39;, \\ }, \\ \u0026#39;floatingRightside\u0026#39;: { \\ \u0026#39;position\u0026#39;: \u0026#39;floating\u0026#39;, \\ \u0026#39;floating-position\u0026#39;: \u0026#39;right-center\u0026#39;, \\ \u0026#39;floating-width\u0026#39;: 50, \\ \u0026#39;open-action-strategy\u0026#39;: \u0026#39;sourceWindow\u0026#39;, \\ }, \\ \u0026#39;simplify\u0026#39;: { \\ \u0026#39;file-child-template\u0026#39;: \u0026#39;[selection | clip | 1] [indent][icon | 1] [filename omitCenter 1]\u0026#39; \\ } \\ } nmap \u0026lt;space\u0026gt;e :CocCommand explorer\u0026lt;CR\u0026gt; nmap \u0026lt;space\u0026gt;ef :CocCommand explorer --preset floating\u0026lt;CR\u0026gt; autocmd BufEnter * if (winnr(\u0026#34;$\u0026#34;) == 1 \u0026amp;\u0026amp; \u0026amp;filetype == \u0026#39;coc-explorer\u0026#39;) | q | endif \u0026#34; clang-format configuration let g:clang_format#style_options = { \\ \u0026#34;AccessModifierOffset\u0026#34; : -4, \\ \u0026#34;AllowShortIfStatementsOnASingleLine\u0026#34; : \u0026#34;true\u0026#34;, \\ \u0026#34;AlwaysBreakTemplateDeclarations\u0026#34; : \u0026#34;true\u0026#34;, \\ \u0026#34;Standard\u0026#34; : \u0026#34;C++11\u0026#34;} \u0026#34; map to \u0026lt;Leader\u0026gt;cf in C++ code autocmd FileType c,cpp,objc nnoremap \u0026lt;buffer\u0026gt;\u0026lt;Leader\u0026gt;cf :\u0026lt;C-u\u0026gt;ClangFormat\u0026lt;CR\u0026gt; autocmd FileType c,cpp,objc vnoremap \u0026lt;buffer\u0026gt;\u0026lt;Leader\u0026gt;cf :ClangFormat\u0026lt;CR\u0026gt; \u0026#34; Toggle auto formatting: nmap \u0026lt;Leader\u0026gt;C :ClangFormatAutoToggle\u0026lt;CR\u0026gt; \u0026#34; Nerd Commenter \u0026#34; \u0026#34; Use compact syntax for prettified multi-line comments let g:NERDCompactSexyComs = 1 \u0026#34; \u0026#34; Allow commenting and inverting empty lines (useful when commenting a region) let g:NERDCommentEmptyLines = 1 \u0026#34; \u0026#34; Enable trimming of trailing whitespace when uncommenting let g:NERDTrimTrailingWhitespace = 1 \u0026#34; \u0026#34; Enable NERDCommenterToggle to check all selected lines is commented or not let g:NERDToggleCheckAllLines = 1 \u0026#34; \u0026#34; Add spaces after comment delimiters by default let g:NERDSpaceDelims = 1 vmap \u0026lt;Leader\u0026gt;/ \u0026lt;plug\u0026gt;NERDCommenterToggle nmap \u0026lt;Leader\u0026gt;/ \u0026lt;plug\u0026gt;NERDCommenterToggle Day 51 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/02/21/my-neovim-cheatsheet/","summary":"I’ve been learning to use neovim for almost 3 weeks now and it has been fun, coming from VSCode I guess I was spoiled by the feature rich IDE/text editor, however there is beauty in the simplicity keyboard oriented (Neo)vim text editor\nI’ve been trying to get all the useful keyboard shortcuts and commands I’ve found in a single place and I though this could be helpful for other noobs like me, fosstodon community was helpful and shared their Tips n’ Tricks as well.","title":"My (Neo)Vim Cheatsheet"},{"content":"Getting the pictures First step was downloading all my pictures from Google Photos, so I went to Google Takeout which is the way to download all the data the big G has on you. For now I selected only the data in Google Photos but if I had wanted to I could’ve downloaded potentially everything.\nJust for context I didn’t have that much in Google Photos, around 45 GB total, not bad\nOrganization One of the most common comments I get from family and friends is that photos in either web browser through Nextcloud shared links or piwigo app take forever to load, and it makes sense, full sized glory usually meant 17+ MB per file… *me mentally kicking myself\nWhile I will be backing up my pictures in all their full sized glory, I decided to also create a compressed images directory for easy sharing through Nextcloud shared links and/or faster viewing in my Piwigo private, password protected photo albums both on a web browser and the mobile app.\nThe setup is a bit weird, while my raspberry pi yunohost server boots up from an external HDD, and every Yunohost app lives there, I want most of the content to live in one of my 2 x 1 TB RAID1 arrays (All in all I have 5 SATA drives attached to the raspberry pi server).\nNextcloud was not a problem since it supports adding external drives, it lists my 2 RAID arrays as storage0 and storage1, however the other apps were tricker to setup. Both Piwigo and WordPress don’t play well with external drives or they don’t offer any option to use them so, teaks…\nWithout going too much into details, most of the Yunohost apps follow the path /var/www/\u0026lt;app_name\u0026gt; so I created symlinks pointing to directories in either storage0 or storage1 for both Piwigo and WordPress, that way I get to see the files in Nextcloud as well. Piwigo example:\nI navigated to /var/www/piwigo/galleries, which is the directory scanned to add new albums in Piwigo, then I did:\n1 sudo ln -s /home/admin/media/storage0/Photos/\u0026lt;insert_album_name\u0026gt; \u0026lt;insert_album_name\u0026gt; Which basically follows the convention sudo ln -s \u0026lt;existing_directory\u0026gt; \u0026lt;name_of_the_link\u0026gt;\nI haven’t found a way to batch process this, I could set up a single symlink to a single directory in storage0 and make piwigo scan subfolders but that would make a huge album with a ton of sub-albums, so I do this on a directory by directory basis by hand\nCompression The approach is simple, just run my compression script recursively through all the album directories\nCompression comparison: Shortpixel vs my own script As I mentioned before, I was using Shortpixel to compress pictures for my blog posts, but my entire photo library is a pretty big task more suited to do in batches, which is why decided to use my own optimization/resizing script.\nJust for fun and because @ndanes gave me the idea I thought I would compare both approaches:\nOriginal Image size compressed with script shortpixel lossy shortpixel glossy shortpixel lossless 17.7 MB 186.2 KB 64 KB 124 KB 149.6 KB Only did one picture but this gives a rough idea\nWanna see the files? here’s a link (WordPress may compress images further and this is the only way I found to share the image results)\nSome findings:\nI discovered shortpixel has a limit of 18.27MB per file Lossy and Glossy compression seem to mess with the white balance, slightly bluer. Which is a no no if you’re trying to show that perfect picture you took your sweet time taking and editing Script is slightly less efficient but retains a high level of quality and doesn’t mess with white balance, results are comparable to lossless compression in short pixel Given the fact that I am going to be processing loads of files the script way seems good enough, plus it is also possible to tweak further to shave off some KBs but I’m quite happy with the current results.\nUpload Now, this is probably the most inefficient step of the process because I haven’t been able to find the time to setup FTP access to my files to I usually did access to Nextcloud (which in turns writes/reads to/from storage0 and storage1) by webdav or web interface to upload/download files. Needless to say this is a time consuming task\nThat’s it, questions, comments, improvements? (I’d really appreciate those)\nDay 49 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/02/13/migration-from-google-photos-to-nextcloud-and-piwigo/","summary":"Getting the pictures First step was downloading all my pictures from Google Photos, so I went to Google Takeout which is the way to download all the data the big G has on you. For now I selected only the data in Google Photos but if I had wanted to I could’ve downloaded potentially everything.\nJust for context I didn’t have that much in Google Photos, around 45 GB total, not bad","title":"Migration from Google Photos to Nextcloud and Piwigo"},{"content":"I finally got to make some upgrades to my desktop computer!\nBefore Just for context, my desktop computer was a hand-me-down that a friend just gave me because he had gotten a much better one. I took it and played around with it. After all these years this was the first time I owned a computer with a dedicated GPU (I know, sad but true)\nThese were the specs:\nMotherboard CPU GPU GA-P55-USB3 Intel Core i7 870 Sapphire R9 280X The computer could keep up with daily tasks quite well but I really wanted to game on it, it could only keep up with CS:GO and other light Steam games, I also started tweaking and doing minor upgrades with time…\nHere’s a picture:\nMinor upgrades My rental contract included “internet” in the amount I pay per month, what it didn’t specify was that my landlord would let me use a wifi repeater separated from his router by a concrete wall, so I needed a wireless network card… I got Asus PCE-AC56 , which worked out of the box on Manjaro Linux\nAnother minor upgrade I made was buying a bluetooth adapter, the excuse was that now that I could game a bit I should use my cheapo Shanwan PS3 controller clone. So I got Asus PCE-BT400, again, worked out of the box no need to deal with drivers\nIn Arch based linux distros this section of the Arch wiki explains that installing bluez, bluez-plugins, bluez-utils issuing the command bluetoothctl and pluging in the controller should register it as a paired device\nNow Of course it was not enough and I decided to upgrade more, so I got an upgrade package from a local store since it was on sale:\nMotherboard CPU GPU Asus ROG Strix B450-F AMD Ryzen 5 3600 XFX Radeon RX 580 Technically I bought the graphics card before the small upgrades I listed before, also I got what was available (Good luck trying to get either Nvidia or AMD higher end graphic cards as Linus would say) however I’m pretty sure the performance was choked by the old CPU, I’ll have to wait and see. I also bought a 1TB M.2 SATA SSD card and 2 8GB DDR4 2666MHz RAM sticks (same RAM as before, just double the speed)\nHere are some pictures:\nPlease don’t judge my cable management. Can’t help but notice all I kept from the orginal gift was the case and the power supply 🙂\nDay 48 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/02/05/upgrading-my-rig/","summary":"I finally got to make some upgrades to my desktop computer!\nBefore Just for context, my desktop computer was a hand-me-down that a friend just gave me because he had gotten a much better one. I took it and played around with it. After all these years this was the first time I owned a computer with a dedicated GPU (I know, sad but true)\nThese were the specs:\nMotherboard CPU GPU GA-P55-USB3 Intel Core i7 870 Sapphire R9 280X The computer could keep up with daily tasks quite well but I really wanted to game on it, it could only keep up with CS:GO and other light Steam games, I also started tweaking and doing minor upgrades with time…","title":"Upgrading my rig"},{"content":"I thought I would share 2 shell scripts that I’ve found useful, the first one allows me to to use my DSLR camera as a webcam and the second one allows me to batch resize and optimize images\nUsing DSLR as webcam This is probably most useful in COVID-19 times, found it a while back on YouTube (not a fan of the big G? Invidious or FreeTube are your friends), also here’s a blog post for more details.\nDependencies:\ngphoto2 v4l-utils v4l2loopback-dkms ffmpeg Script:\n1 2 3 #!/bin/bash modprobe v4l2loopback exclusive_caps=1 max_buffers=2 gphoto2 --stdout --capture-movie | ffmpeg -i - -vcodec rawvideo -pix_fmt yuv420 -threads 0 -f v4l2 /dev/video0 Leave this running and the device should be accessible from your videoconferencing software of choice or web browser webRTC app\nHere’s a list of gphoto2’s supported cameras\nBatch resizing, compressing and renaming photos For this one there’s a bit of a background, our story begins when I was trying to get in the 512kbclub. A big part of my blog’s home page reduction was related to compressing images, at the time a web service was suggested to me: shortpixel but being the nerd I am I thought:\n“There should be a way to do this locally on all the pictures in a directory”\n\u0026ndash;me\nSo I started looking online and did a bit pf patchwork to create a bash script that served this purpose.\nI also plan to use this for my Nextcloud instance in my Yunohost install because I’ve noticed that I’ve been trying to share links to albums full of DSLR ORIGINAL SIZED IMAGES *facepalms* (something ridiculous like 5000 pixels wide). No wonder my folks kept complaining that their cellphones took forever to load the images…\nDependencies:\nimagemagick jpegoptim jhead Script:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 #!/bin/sh mkdir -p compressed_images mkdir -p resized_images for file in ./*.jpg ./*.jpeg ./*.JPG; do echo \u0026#34;resizing and optimizing $file ...\u0026#34; convert \u0026#34;$file\u0026#34; \\ -resize \u0026#39;1900x1080\u0026amp;gt;\u0026#39; \\ \u0026#34;./resized_images/$file\u0026#34; jpegoptim \u0026#34;./resized_images/$file\u0026#34; \\ -d \u0026#39;./compressed_images\u0026#39; \\ --max 65 \\ --all-progressive \\ -p done echo \u0026#34;renaming pictures according to creation date...\u0026#34; for i in ./compressed_images/*; do jhead -n%Y%m%d-%H%M%S $i done echo \u0026#34;deleting transient directory...\u0026#34; rm -rf resized_images echo \u0026#34;done!\u0026#34; The process is quite simple, navigate to a directory containing the pictures, run the script and it will generate a directory with the compressed pictures, I’m also renaming them from creation date contained in exif data for organization purposes.\nThis is actually the first time I try to make one of these so I may have some errors or possible improvements, all constructive feedback is welcome.\nDay 47 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/02/02/fooling-around-with-bash-scripts/","summary":"I thought I would share 2 shell scripts that I’ve found useful, the first one allows me to to use my DSLR camera as a webcam and the second one allows me to batch resize and optimize images\nUsing DSLR as webcam This is probably most useful in COVID-19 times, found it a while back on YouTube (not a fan of the big G? Invidious or FreeTube are your friends), also here’s a blog post for more details.","title":"Fooling around with bash scripts"},{"content":"I’ve always liked the idea of using a tiling window manager and customizing the hell out of it, you know, the kind of stuff you see by searching for the linuxPorn hashtag… My main problem with them is that I am very very used to GUIs, while I am fairly competent on a terminal, I have never learned to use emacs or vim. I am in the middle of transitioning to CLI based programs, on a previous post I described ncspot and mpsyt, I’ve also been looking at gomuks and ranger\nI know that a lot of people use them and once you’re over the steep learning curve you can be very productive with just a keyboard, but it was only recently that I took an interest because a friend of mine pointed out that you can have auto-completion and other cool stuff in neovim (if I understand correctly it is a rewrite of vim) by means of tweaking the setup and some plugins, very much á la VSCode, which is my main text/code editor of choice.\nI know, I know, I’m late to the legit text editor party but I always assumed vim/neovim was just ugly/simple text editor… I’ve been living a lie\nThe Neovim setup So I took a deep dive and with some pointers from my friend I installed neovim and proceeded to tweak. This post will attempt to document the process. I use Manjaro linux but I can imagine the process would be similar for other distros. I’ll try to include some links.\nI started by installing neovim:\nsudo pacman -S neovim\nThen, I was pointed to to an easy way to deal with plugins: vim-plug, careful, there’s a different section for vim and neovim\n1 2 sh -c \u0026#39;curl -fLo \u0026#34;${XDG_DATA_HOME:-$HOME/.local/share}\u0026#34;/nvim/site/autoload/plug.vim --create-dirs \\ https:\u0026amp;#47;\u0026amp;#47;raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\u0026#39; Then proceeded to create init.vim (kinda like neovim’s .bashrc), the complete path is HOME/.config/neovim/init.vim\n1 2 3 4 5 6 7 8 9 10 \u0026#34; lopeztel vim config call plug#begin(\u0026#39;~/.vim/plugged\u0026#39;) Plug \u0026#39;plasticboy/vim-markdown\u0026#39; Plug \u0026#39;arcticicestudio/nord-vim\u0026#39; Plug \u0026#39;preservim/nerdtree\u0026#39; Plug \u0026#39;vim-airline/vim-airline\u0026#39; call plug#end() To install the plugins within neovim, change to COMMAND mode (press ESC) and type:\n:PlugInstall\nThis splits the window to the left, it displays the plugin list and installation status.\nsome useful things to know:\nto edit files in vim/neovim, change to EDIT mode (press I) to save files in vim/neovim, change to COMMAND mode (press ESC) and type :w to close/quit in vim/neovim, change to COMMAND mode (press ESC) and type :q, :q! to discard any unsaved changes A bit on the plugins:\nChanging to COMMAND mode and typing :NERDTree will split the window to the left and show a file tree (VSCode like), see nerdtree for more info nord-vim and vim-airline are more eye candy than anything, the first one installs the Nord theme‘s color palette, and the second one makes the status/tabline in neovim more visually pleasing This is the overall look:\nOn to the functional stuff, since most of my work is C/C++ I decided to install Conquer of Completion or coc.vim, which according to their github it is supposed to “Make your Vim/Neovim as smart as VSCode.”.\nFirst I had to install nodejs, their page provides a one liner but it didn’t work for me, so I did:\nsudo pacman -S nodejs\nAlso, a language server is necessary, I found that either ccls or clangd are options, I installed ccls based on a quick online search\nsudo pacman -S ccls\nAfter that I installed the coc plugin with the vim-plug method described above (adding the line Plug 'neoclide/coc.nvim', {'branch': 'release'} to the corresponding section in init.vim). It is important to append the text from the example vim configuration to init.vim (quite long so I won’t put it here)\nThere are some other configurations needed for specific language support, a config file can be opened by changing to COMMAND mode and typing\n:CocConfig\nWhich opens a file called coc-settings.json, contained in the same path as init.vim, here’s how mine is configured for C/C++:\n1 2 3 4 5 6 7 8 9 10 11 12 languageserver\u0026#34;: { \u0026#34;ccls\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;ccls\u0026#34;, \u0026#34;filetypes\u0026#34;: \u0026amp;#91;\u0026#34;c\u0026#34;, \u0026#34;cpp\u0026#34;, \u0026#34;objc\u0026#34;, \u0026#34;objcpp\u0026#34;], \u0026#34;rootPatterns\u0026#34;: \u0026amp;#91;\u0026#34;.ccls\u0026#34;, \u0026#34;compile_commands.json\u0026#34;, \u0026#34;.vim/\u0026#34;, \u0026#34;.git/\u0026#34;, \u0026#34;.hg/\u0026#34;], \u0026#34;initializationOptions\u0026#34;: { \u0026#34;cache\u0026#34;: { \u0026#34;directory\u0026#34;: \u0026#34;/tmp/ccls\u0026#34; } } } } More configurations in the coc.vim wiki\nNow what? Now that I have a fully working installation it is time to learn to use neovim, I’ll probably spend some time on the tutorial (:Tutor in COMAND mode). In the meantime I’ll still use VSCode when in a rush to get things done\nMore eyecandy My discovery of the Nord theme led me down a rabbit hole and I had to apply it to the gnome terminal and VSCode to match the look and feel. I also installed the powerlevel10k theme to my Zsh, while I was at it\n—\nDay 45 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/01/28/my-transition-from-vscode-to-neovim/","summary":"I’ve always liked the idea of using a tiling window manager and customizing the hell out of it, you know, the kind of stuff you see by searching for the linuxPorn hashtag… My main problem with them is that I am very very used to GUIs, while I am fairly competent on a terminal, I have never learned to use emacs or vim. I am in the middle of transitioning to CLI based programs, on a previous post I described ncspot and mpsyt, I’ve also been looking at gomuks and ranger","title":"My transition from VSCode to Neovim"},{"content":"I remember I started a blog in March last year (2019), it was a simple Writefreely blog,it looked like this:\nIt was simple, easy to use and you could follow it via mastodon, I wanted to engage a bit more with my fellow fedizens so I started looking into Wordpress around the same time I built my Raspberrypi 4 server and I found out that Wordpress was an app Yunohost had listed (it\u0026rsquo;s basically a one-click install but you require a dedicated domain) so I migrated, at the time that was easy, just downloaded all my previous posts in markdown and added them one by one (there weren\u0026rsquo;t that many). I also discovered the Indieweb and installed a bunch of plugins and theme to make the blog Indieweb compliant, the result was something like this:\nBut it’s been a while and I really don’t use the Indieweb plugins that much except for a couple. A few days ago when I was going through my RSS feeds, I stumbled upon Kev Quirk\u0026rsquo;s 512kb club (first rule of the 512kb club is you talk about it as much as you can with everyone ;P ), which was a good excuse to make my blog “lighter” so I gave myself a challenge:\nLet’s try to make my blog as light as possible with just plugins, no deep diving into PHP, CSS or HTML “\n\u0026ndash; Silly me\nThis is how the blog looks now:\nI can say I barely managed to get in the 512kb club blue team but it was fun! Here’s the badge of honor (also attached to the blog’s footer)\nMy current setup This is my current setup, I tried to keep the minimum necessary:\nWordPress theme: Twenty Twenty-One ActivityPub Akismet Anti-Spam Companion Auto Update Disable Emojis (GDPR friendly) GTmetrix for WordPress Insert Headers and Footers Semantic-Linkbacks Simple LDAP Login Simple Local Avatars Smush Syndication Links Webmention WP Fail2Ban Redux WP Reset Static site in the future? In the future I may try to create a static website with Jekyll or Hugo, self hosting would be a bit of a challenge because all my setup has been automated by Yunohost… let’s call that a weekend/side project. I am a complete noob, so it will probably take some time\nDay 43 of my 2020’s #100DaysToOffload\nJoin 100DaysToOffload!\n","permalink":"https://lopeztel.xyz/blog/2021/01/21/my-blogging-journey-so-far/","summary":"I remember I started a blog in March last year (2019), it was a simple Writefreely blog,it looked like this:\nIt was simple, easy to use and you could follow it via mastodon, I wanted to engage a bit more with my fellow fedizens so I started looking into Wordpress around the same time I built my Raspberrypi 4 server and I found out that Wordpress was an app Yunohost had listed (it\u0026rsquo;s basically a one-click install but you require a dedicated domain) so I migrated, at the time that was easy, just downloaded all my previous posts in markdown and added them one by one (there weren\u0026rsquo;t that many).","title":"My blogging journey so far"},{"content":"Following up on my series “Celebrating holidays away from Mexico”, after entries such as: a rant about Mexican food on independence day and day of the dead\nJanuary 6th is Día de Reyes, the last date of what we Mexicans know as the Guadalupe – Reyes marathon (which is, in short, an extended holiday period for eating and drinking that starts on December 12th)\nBeing away from home and still a bit bitter about not being able to go back home for the holidays because of COVID-19, I contacted my baker friend and ordered Rosca de Reyes (roughly translates to King’s baguel I guess). My Rosca de Reyes is slightly different from the traditional one but it’s a passable representation:\nTraditonal:\nSince we Mexicans are all about eating, these big baguels usually have buried within a couple of plastic figurines of baby Jesus Christ (or others to collect and complete the Epiphany scene), the catch is that whoever gets those will have to pay for tamales and atole (corn dough with different fillings and basically liquid corn) on February 2nd (Día de la Candelaria). Needless to say, hilarity ensues when people try to cheat their way out of paying up, rules are pretty clear on this regard:\neveryone cuts their own piece if a kid gets baby Jesus, the parents pick up that tab for tamales to ensure no cheating you must cut you piece in half horizontally as well and show that both halves of the bread are clean you pick up the tab if baby Jesus is visible in one of the adjacent pieces after cutting your own Everyone has fun stories about this date, for example:\nLegend says my grandfather on my father’s side of the family was sneaky and once swallowed baby Jesus. My great-grandfather on my mother’s side of the family was a prankster and a baker, so instead of the usual amount of plastic figurines, he’d make sure that every piece had at least a couple… If memory serves right there are similar traditions in other spanish speaking countries, in Europe the Spanish call it Roscón de Reyes and the French call it Galette des Rois.\nI’d be interested to know about other countries traditions related to this date.\nDay 41 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2021/01/09/day-of-the-epiphany-three-kings-day-away-from-mexico/","summary":"Following up on my series “Celebrating holidays away from Mexico”, after entries such as: a rant about Mexican food on independence day and day of the dead\nJanuary 6th is Día de Reyes, the last date of what we Mexicans know as the Guadalupe – Reyes marathon (which is, in short, an extended holiday period for eating and drinking that starts on December 12th)\nBeing away from home and still a bit bitter about not being able to go back home for the holidays because of COVID-19, I contacted my baker friend and ordered Rosca de Reyes (roughly translates to King’s baguel I guess).","title":"Day of the Epiphany (Three Kings’ Day?) away from Mexico"},{"content":"This is meant to be a reflection on spending Christmas alone in one of the worst years for the planet in general.\nI think it’s basically beating on a dead horse to say that 2020 has been horrible in general due to COVID-19, everyone has had it tough for a lot of reasons, from the worst (having lost a loved one or health issues) to the minor annoyances (like working from home).\nI don’t mean to complain, in fact I should count my blessings as I am healthy and in a relatively safe environment so there’s that too.\nI’ve also spent Christmas away from home a few times before, so it’s nothing new (spoiler alert, they all sucked), but this time it was different, I guess it’s related to the fact that I was looking forward to go back home and well, I couldn’t for obvious reasons (not traveling is the responsible thing to do after all).\nNot enjoying the usual family dinner and everything kind of sucked because I really didn’t do anything special and spent the day alone but there were silver linings:\nThere was Fosstodon matrix channel to hang out (thanks for that @gina!), which kind of made my day to be honest. This initiative was successful, it even evolved into a permanent Matrix room Had an early morning videocall with family back home (early morning for me, midnight for them) All things considered it wasn’t really bad, even for an introvert like me, human contact is necessary and if I’ve learned one thing this year is that meaningful human contact is often taken for granted.\nOn another note, you may be wondering why I make a fuss about spending Christmas with my family as not everyone enjoys that (and I respect that, to each their own), short answer is: I’m Mexican, if there’s one thing we value above everything (even common sense or reason at times) is family.\nI hope everyone is staying healthy and safe, I am truly happy for those that could get together with their loved ones.\nDay 40 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/12/29/christmas-2020/","summary":"This is meant to be a reflection on spending Christmas alone in one of the worst years for the planet in general.\nI think it’s basically beating on a dead horse to say that 2020 has been horrible in general due to COVID-19, everyone has had it tough for a lot of reasons, from the worst (having lost a loved one or health issues) to the minor annoyances (like working from home).","title":"Christmas 2020"},{"content":"I’ll have to confess I wasn’t always a fan of CLI applications, I come from a world were all I knew was GUI. I even thought that the heavy use of terminal emulators and CLI apps was snobbish, you know, the feeling was kind of like when (some) people say “BTW, I use Arch” I used to roll my eyes internally.\nYet, here I am writing about CLI apps and how awesome they are…\nncspot ncspot is very good (but it requires a premium subscription), it provides a bloat free ultra lightweight CLI client for Spotify, in my tests it consumed less than 50 MB of RAM:\nThe official client consumes ~600 MB, probably related to the chromium-like backend and all the social bloat (yes, I’m anti-social):\nThe creator provides a footprint reference but I wanted to see for myself and boy, this app delivers, it is just meant to stream music and provide some basic navigation capabilities, which is good enough for me and it actually helps my productivity. The only missing feature is media key bindings but that’s just me nitpicking.\nncspot is written in rust, I encourage everyone to check the project’s repo, it has to be compiled and installed from the AUR (I installed this on my pinebookpro too and it got really toasty)\nmps-youtube I used to rely on GUI apps like smtube and FreeTube, however these are heavier and bloated, respectively.\nGiven the success I had with ncspot I ventured into mps-youtube, which follows the same principle as ncspot, it lets you search for videos in the CLI and then reproduce them in an external mpv or mplayer window, no bloat or ads, just beautiful:\nHowever there’s a catch, since it is completely free it won’t work out of the box, you have to get a Youtube API Key from our evil overlord Google (details of the issue here)\nIt is possible to change the external video player preference, running the app also requires you to change mode search_music to false, and show_video to true.\nmps-youtube is written in python, I also encourage everyone to check the project’s repo, it can be installed from Manjaro’s official repositories.\nSome thoughts on privacy Having described the apps and their advantages there are always some downsides:\nncspot requires your Spotify login information so there is some possible tracking happening but as far as I know it is like using the official client in private mode mps-youtube requires a Youtube API key to work properly so there is always the risk of Google linking your account to the requests using your API key, maybe FreeTube is better in this regard Day 38 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/12/17/some-cli-awesomeness/","summary":"I’ll have to confess I wasn’t always a fan of CLI applications, I come from a world were all I knew was GUI. I even thought that the heavy use of terminal emulators and CLI apps was snobbish, you know, the feeling was kind of like when (some) people say “BTW, I use Arch” I used to roll my eyes internally.\nYet, here I am writing about CLI apps and how awesome they are…","title":"Some CLI awesomeness"},{"content":"As the title suggests, it’s been a little over a year since I moved to Norway for work… It’s been a challenging year to say the least, and not only because of COVID-19.\nFor starters, it’s been hard to get used to this weird country’s ways (and I mean this in the most endearing way), from personal space, weather and language to food (I am Mexican and I cannot stress the importance of food enough, see my previous entry for reference). Everything has been a bit difficult.\nWork is fine as most of the time we communicate in English and I really appreciate the courtesy to switch from Norwegian to English when any non-Norwegian joins the conversation, I can’t say this is the norm in other countries.\nSocializing has been hard because of different reasons:\nNorwegians are shy by nature, with some exceptions of course but most of the time this is true I am not very social by Mexican standards so that doesn’t help either I don’t speak any Norwegian, courtesy in this case works against me because everyone prefers to switch to English rather than hearing us foreigners butcher the language COVID-19 kind of limited my chances to go out and meet new people But not everything is bad news, I’ve been able to cope with most things:\nWeather -\u0026gt; Solved by learning how to dress properly, ull untertøy (wool underwear) is one of the phrases I know very well by now. I also now own proper boots, a jacket and a raincoat Work life -\u0026gt; It took me a while to get used to how things work over here, everyone is given a degree of freedom and a level of confidence I wasn’t used to, no micromanagement whatsoever. We define our set of tasks and make decisions consulting with our manager every once in a while, which I really like. During the course of the year one of my side projects became super relevant overnight, which is cool but things got hectic these last 2 months. No mayor complaints here Socializing -\u0026gt; This one was the second hardest, problems aside, I was lucky to have colleagues from my Master’s program stay in Norway as well so we try to stay in touch and see each other regularly, I’ve been hanging out a lot with one of them (this is the guy I usually go fishing with). Playing Dungeons and Dragons every Wednesday has been a good way to socialize with my co-workers outside work hours and one of the things I found out I enjoy a lot. Language -\u0026gt; This one’s on me, I’ve missed the deadline to register for the beginner’s course and I only made an effort during the first months I was here. One of my goals for next year is to take a course and speak some Norwegian (Even if I sound like a caveman) because I want to talk to people outside work and maybe broaden my social circle Food -\u0026gt; This one is the hardest, of course I suffered a bit being abroad for the past two years but I never imagined I’d be working abroad on a permanent basis. I’ve managed to find Jalapeño peppers and even white corn tortillas recently so that makes me happy Skiing is something I’d really like to learn but haven’t been able to (I imagine resorts are closed), but I only got to try for a day early in the year, got scared sh*tless and according to eye witnesses the falls were quite spectacular.\nLet’s see how I do next year, for now I can say I’m pretty happy living here.\nDay 37 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/12/15/a-little-more-than-a-year-living-in-norway/","summary":"As the title suggests, it’s been a little over a year since I moved to Norway for work… It’s been a challenging year to say the least, and not only because of COVID-19.\nFor starters, it’s been hard to get used to this weird country’s ways (and I mean this in the most endearing way), from personal space, weather and language to food (I am Mexican and I cannot stress the importance of food enough, see my previous entry for reference).","title":"A little more than a year living in Norway"},{"content":"This is a bit of a continuation on my previous thank you post, since I received a lot of help and it deserves proper credit, this post is to be taken as part thank you note and part summary of the whole SSL certificate issue ordeal:\nFirst things first, in short Yunohost is an easy solution to get started with self hosting without dealing with the more technical side of things, it’s easy to install apps and I’ve been running a yunohost server on my raspberry pi 4 for months now.\nThe problem was that my SSL certificate from Let’s Encrypt expired at the beginning of November and I wasn’t able to renew it. Yunohost provides a way to renew or install SSL certificates via CLI or admin webpage, both methods were failing: SSL Certificates Expired: Challenge did not pass for xmpp-upload.maindomain.tld\nThe problem is very well documented here if it is of any interest 😛\nYesterday I was thinking of using the nuclear option: nuking the whole server installation and starting over from scratch (as humanity should), I voiced my opinion on Mastodon but then @yunohost offered some help and after some intensive debugging copy-pasting commands prompted by some hero (Aleks, if you’re reading this you’re awesome) on the yunohost support matrix room we were able to find the problem:\nTurns out that my “blog optimization” (documented here), in particular this code block added to nginx.conf:\n1 2 3 4 5 6 7 8 9 gzip on; add_header Content-Encoding \u0026#34;gzip2\u0026#34;; gzip_vary on; gzip_proxied any; gzip_comp_level 6; gzip_buffers 16 8k; gzip_http_version 1.1; gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript kind of broke the whole setup to automatically renew the SSL certificate. This is quite funny because they provide a way to regenerate nginx.conf, I incorrectly assumed yunohost tools regen-conf nginx --force would fix this but then again, I didn’t really check so… *facepalm*\nThe problem was solved by adding gzip off; to /etc/nginx/conf.d/acme-challenge.conf.inc:\n1 2 3 4 5 { default_type \u0026#34;text/plain\u0026#34;; alias /tmp/acme-challenge-public/; gzip off; } this fix will be part of a future release of yunohost, 4.1 if I’m not mistaken (see this commit to their github repo) to prevent others from running into the same problem 😀\nThis has been a bit frustrating but a learning experience, I can’t thank you enough @yunohost!\nDay 36 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/12/12/thank-you-yunohost-part-2/","summary":"This is a bit of a continuation on my previous thank you post, since I received a lot of help and it deserves proper credit, this post is to be taken as part thank you note and part summary of the whole SSL certificate issue ordeal:\nFirst things first, in short Yunohost is an easy solution to get started with self hosting without dealing with the more technical side of things, it’s easy to install apps and I’ve been running a yunohost server on my raspberry pi 4 for months now.","title":"Thank you Yunohost (Part 2)"},{"content":"This is a follow-up on a previous entry\nDealing with an external display A while back I ordered a USB-C dongle that I thought wasn’t working so I checked a list of USB Combination Devices that are compatible in the wiki, more specifically I had to wait for this USB-C dongle from aliexpress to get here.\nTurns out the new dongle didn’t work either, weird flicker when trying to switch to external display:\nLong story short, the problem was that I had an up to date Manjaro ARM install (linux kernel 5.9), having an up to date system basically screwed me over 😀 The change is documented here\nAll that was needed from the very beginning was switching to linux-pinebookpro from the mainline linux kernel.\nOne of those things you have to fail at to get right. The more you know\nDay 34 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/12/06/thoughts-on-the-pinebookpro-part-4/","summary":"This is a follow-up on a previous entry\nDealing with an external display A while back I ordered a USB-C dongle that I thought wasn’t working so I checked a list of USB Combination Devices that are compatible in the wiki, more specifically I had to wait for this USB-C dongle from aliexpress to get here.\nTurns out the new dongle didn’t work either, weird flicker when trying to switch to external display:","title":"Thoughts on the pinebookpro (Part 4)"},{"content":"For some time now, starting from spring last year, I’ve been going out to fish (from the fjord’s shore) with 2 of my friends here.\nLet’s just say that we’re not very good at this, a lot of our lures/hooks have been lost to seaweed and even bad knots that came loose while throwing (that one was me by the way 😛 )\nOnly one I managed to catch something, gutting, bleeding and cutting the fish was an experience and it makes you appreciate the convenience of supermarkets. On the bright side this comes with a sense of satisfaction and maybe that is why I found the fish super tasty after I added salt, pepper, ground garlic and a lot of butter and threw it in the oven for like 20 mins.\nWhy do it if you suck? It’s quite simple, it provides the perfect excuse to go outdoors (a 15 minute drive will get you to some very nice places), hang out and enjoy the landscapes.\nIt provides a nice complement to my job and other hobbies (selfhosting, playing around with electronics and painting), for which I just sit in front of a computer all day. Although running and swimming are nice too, being outdoors just chilling (literally lately), maybe get to nice spots after a bit of a hike and occasionally fishing something are things I enjoy and provide some balance.\nDay 32 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/11/28/fishing-as-a-new-hobby/","summary":"For some time now, starting from spring last year, I’ve been going out to fish (from the fjord’s shore) with 2 of my friends here.\nLet’s just say that we’re not very good at this, a lot of our lures/hooks have been lost to seaweed and even bad knots that came loose while throwing (that one was me by the way 😛 )\nOnly one I managed to catch something, gutting, bleeding and cutting the fish was an experience and it makes you appreciate the convenience of supermarkets.","title":"Fishing as a new hobby"},{"content":"Humanetech Translation Project Otherwise known as HTP (I personally prefer HTTP 😛 ), is a little project that started on the Humane Tech Community forum after my little comment about privacy related content available mostly in English, see this entry for context.\nThe project has officially started and is looking for translators, so if anyone is interested please head here, apparently we’ve gathered quite a few translators already but it’s always nice to have more!\nSome of the immediate goals have been already met: such as getting translators and setting up the translation environment.\nPrivacy Label I am also happy to share that I made a tiny contribution by translating Privacy Label to Spanish. The project aims to make it easy to convey how user data will be used.\nTranslation didn’t take a lot of time and I encourage anyone who can spare a few minutes to contribute to either Privacy Label or HTTP HTP.\nDay 30 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/11/23/privacy-resources-and-ongoing-translation-efforts/","summary":"Humanetech Translation Project Otherwise known as HTP (I personally prefer HTTP 😛 ), is a little project that started on the Humane Tech Community forum after my little comment about privacy related content available mostly in English, see this entry for context.\nThe project has officially started and is looking for translators, so if anyone is interested please head here, apparently we’ve gathered quite a few translators already but it’s always nice to have more!","title":"Privacy Resources and ongoing translation efforts"},{"content":"This is a follow-up on a previous entry\nOne step closer to daily driver!!\nWorking from home is possible with the pinebookpro I managed to connect to my workplace’s VPN, however it took some digging around: first of all, we have a Linux VPN package, so that’s already something, (kudos for showing Linux some love); you can choose to either install a .deb package, a .rpm package or build from source for either x86_64 or armhf architectures (basically just copies over some pre-compiled binaries), so far so good, everything great.\nHowever being the curious person I am, I wanted to try to use my pinebookpro in a daily driver scenario so I tried to build the VPN client for armhf (from what I know aarch64 should be backwards compatible with armhf, if one of you, my dear readers knows otherwise, let me know), which failed to even build and would’ve required digging into the provided makefile or .sh files…\nThankfully Manjaro ARM/Arch official repositories contain openconnect, a multi protocol VPN client compatible with my Workplace’s VPN, so I just installed it, took a look at the manual to provide the right arguments and I was able to connect (only downside is it has to be run as sudo). Just for reference:\nsudo openconnect --protocol=\u0026lt;protocol\u0026gt; \u0026lt;vpn.your.workplace/\u0026gt; -u \u0026lt;username\u0026gt;\nIt’s possible to use the -p flag to provide the password but I would advise against it. To avoid typing all this I just added an alias to my .bashrc.\nI use remmina as a remote desktop client, it works perfectly fine and is also available in Manjaro ARM’s official repositories.\nOne more thing (see what I did there?) I noticed one more quirk on the keyboard, apparently delete is a secondary function of the backspace key, not horrible but takes some getting used to.\nI have the ANSI US keyboard.\nDay 28 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/11/17/thoughts-on-the-pinebookpro-part-3/","summary":"This is a follow-up on a previous entry\nOne step closer to daily driver!!\nWorking from home is possible with the pinebookpro I managed to connect to my workplace’s VPN, however it took some digging around: first of all, we have a Linux VPN package, so that’s already something, (kudos for showing Linux some love); you can choose to either install a .deb package, a .rpm package or build from source for either x86_64 or armhf architectures (basically just copies over some pre-compiled binaries), so far so good, everything great.","title":"Thoughts on the pinebookpro (Part 3)"},{"content":"This is a follow-up to this entry.\nThis time I’ll try to describe more day to day use (at least mine):\nGeneric tasks The most simple task I use a computer for is writing entries for my blog, as I mentioned before I love the Markdown format… I’ve found a perfectly good FOSS replacement for Typora, which is also available for aarch64, so I am now using Ghostwriter.\nSpeaking of typing, I’ve been using the keyboard on the pinebookpro for a while now and it is quite good for the price, no premium feeling to it but it feels sturdy and the keys have decent travel, so that’s ok. The trackpad is another story, it feels sluggish and some times gestures such as using two fingers for right click take extra effort, I’d say good enough for the price.\nI’ve also had trouble with WiFi networks, reception is a bit flaky at times, not sure if the antenna/hardware or software/drivers could be the cause (I’m more inclined to think SW), but both my cellphone and tablet seem to perform better in this regard.\nI also found out that it is possible to watch Netflix on the pinebookpro but the method is not very elegant, this is achieved by installing a docker container with chromium installed in it (it can be installed by running: sudo pacman -Sy chromium-docker). For some reason once installed, chromium also requires to be run as sudo or it won’t even start, I just created an alias in my .bashrc file.\nAnother problem is that the USB-C dongle (SD, USB 2.0, HDMI, ethernet) I have didn’t work with my display to I may have to look for another one or just a USB-C to HDMI adapter.\nMore particular tasks I mentioned it was possible to install VScode, and I am a big fan of PlatformIO, since it is what I use to play around with my esp8266 modules (I’m also looking into esp32 and nrf52 devices, but that’s material for another entry), ideally the PlatformIO plugin for VScode should only download the toolchain and flashing tools for your development platform but in this case I’m assuming the binaries were not compiled for aarch64 so no luck.\nHowever I was able to get started with rust without any issues, more on that later.\nAnother hobby of mine is digital art, so I was glad to find Krita in the official repositories of Manjaro ARM, another surprise is that my cheapo Huion digitizer tablet seems to work out of the box with it to some extent, pressure sensitivity works (a bit laggy, depends on how complex the effect of the current brush is) but pen buttons (which should be detected as a right click in Krita), seem to glitch, contextual menu is displayed but any further clicks make it disappear without any options being applied.\nMy x86 computer has the DIGImend drivers installed and the right click glitch is nowhere to be seen there, so I tried installing them on the pinebookpro (this requires the linux-headers).\nThat’s it for now.\nDay 28 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/11/14/thoughts-on-the-pinebookpro-part-2/","summary":"This is a follow-up to this entry.\nThis time I’ll try to describe more day to day use (at least mine):\nGeneric tasks The most simple task I use a computer for is writing entries for my blog, as I mentioned before I love the Markdown format… I’ve found a perfectly good FOSS replacement for Typora, which is also available for aarch64, so I am now using Ghostwriter.\nSpeaking of typing, I’ve been using the keyboard on the pinebookpro for a while now and it is quite good for the price, no premium feeling to it but it feels sturdy and the keys have decent travel, so that’s ok.","title":"Thoughts on the pinebookpro (Part 2)"},{"content":"I usually like to hate on Facebook but I’ve got to admit it is useful if used responsibly, this time thanks to it, I found out that a mexican baker had moved to town and I managed to get “Pan de Muerto” (Dead bread?).\nI feel like I have to describe it for non-mexicans: for starters, it’s not made of dead people 😛\nIt’s like a not so dense bun (with a twist of orange) and covered in sugar. The little blobs on top are supposed to be either:\nA little corpse (I like to think that the big blob it’s the belly) Devoted catholics argue that it is a cross bones that represent the dead and a baked tear drop on the bread to represent goddess Chimalma‘s tears for the living, according to Wikipedia These are part of the offering table we set in our homes and graveyards for our loved ones that come back to visit on November 1st and 2nd.\nI just had to take the chance, order a bunch and share a little bit of my country’s culture with my co-orkers. The purpose of this entry is to share further and how much it means to me with the rest of my millions of readers (yeah, right 😀 )\nAlso, just for fun, I’d d like to point out that the movie “Coco” is one of the best representations of Mexican day of the Dead out there, so big evil Disney gets a pass on this one.\nDay 24 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/11/02/day-of-the-dead-away-from-mexico/","summary":"I usually like to hate on Facebook but I’ve got to admit it is useful if used responsibly, this time thanks to it, I found out that a mexican baker had moved to town and I managed to get “Pan de Muerto” (Dead bread?).\nI feel like I have to describe it for non-mexicans: for starters, it’s not made of dead people 😛\nIt’s like a not so dense bun (with a twist of orange) and covered in sugar.","title":"Day of the dead away from Mexico"},{"content":"Back in September I pulled the trigger and ordered a pinebook pro.\nLong story short: I declare myself a fanboy, the pinebook pro from pine64 is a very capable little machine.\nThere are a lot of better written and more detailed blog posts/reviews of the pinebook pro out there already but just in case:\nFor the uninitiated the pinebook pro is an ARM powered laptop (yes, pine64 did it before it was cool) based on the ROCKPro64 single board computer –Think Raspberrypi on steroids– here are the specs:\nRockchip RK3399 SOC with Mali T860 MP4 GPU 4GB LPDDR4 RAM 1080p IPS Panel Magnesium Alloy Shell body Bootable Micro SD Slot 64GB of eMMC (Upgradable) PCIe x4 to m.2 NVMe SSD Slot (requires optional adapter) SPI Flash 128Mbit HD Digital Video Out via USB-C USB 2.0 Host USB 3.0 Host USB-C (Data, Power and Video out) Lithium Polymer Battery (10000mAH) Stereo Speakers WiFi 802.11 AC + Bluetooth 5.0 Headphone Jack Microphone Front-Facing Camera (1080p) ISO \u0026amp; ANSI Keyboard Variants Privacy Switches for Camera, Microphones and BT/WiFi (Meta + F12/F10/F11 respectively. Silly me had trouble figuring out this one) Large Trackpad UART Access via Audio Jack (This requires opening the laptop and flipping a switch) Barrel Power (5V 3A) Port The wiki is a lot more detailed. It includes OS and overall usage information as well, be sure to check it out.\nExperience with Manjaro ARM so far The pinebook pro ships with Manjaro ARM pre-installed and I haven’t tested any other OS (yet), but I really like it and it is what I run on my old laptop as well so…\nI really like to write my blog posts in markdown, so one of the first things I noticed was that Typora (thanks again @kev) was listed as an AUR install in pamac. That was a lie, all I got was something like “Typora is not supported for aarch64”, the alternative is to use VSCode to write blog posts but that’s like killing a fly with a bazooka, there’s always the option to build from source but that is not very elegant 🙁\nFreeTube is another app I like to use to avoid all the ads and tracking from YouTube, but I was lucky and there is a zip file with a portable version for aarch64, not as elegant but all you need is to unzip and run the executable. 🙂\nVScode, QtCreator and Element are available from the official repositories. 🙂\nI couldn’t find timeshift, my preferred backup solution. However I found DejaDup and was gladly surprised to find out that it is possible to backup to a server, which is why I used my Nextcloud instance on my yunohost server, which was cool (DejaDup can access via WebDAV) 🙂\nThat’s it for now, will continue testing, I’d like to thank @pine64 for their hard work and community.\nHere are some pictures of my unit with some fosstodon swag:\nEDIT: As pointed out by @schrofi, turns out Typora only publishes parts of the source code (Themes) in GitHub, so building from source is not an option in this case.\nI really like Typora but may have to look at other options… Kwrite has markdown syntax highlighting so that’s something… Or I could go back to killing flies with a bazooka.\nDay 23 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/10/23/thoughts-on-the-pinebook-pro/","summary":"Back in September I pulled the trigger and ordered a pinebook pro.\nLong story short: I declare myself a fanboy, the pinebook pro from pine64 is a very capable little machine.\nThere are a lot of better written and more detailed blog posts/reviews of the pinebook pro out there already but just in case:\nFor the uninitiated the pinebook pro is an ARM powered laptop (yes, pine64 did it before it was cool) based on the ROCKPro64 single board computer –Think Raspberrypi on steroids– here are the specs:","title":"Thoughts on the pinebook pro"},{"content":"This weekend was fun, on Sunday some friends invited me to tag along on their weekend hike. All this happened because the company I work for decided to donate money to a charitable cause, the money amount was proportional to the distance logged by all its employees so that was motivation for us to run, walk or hike during the weekend.\nThe hike was long (11+ Km), it took us around 1.5 hrs. Some of the highlights were the peace and landscapes, like this one:\nWith my bad luck of course it had to hail (yes, hail) only during lunch break but all in all this was a welcome change from my usual activities.\nBy the way, I am still sore.\nDay 22 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/10/20/some-thoughts-on-the-weekend-hike/","summary":"This weekend was fun, on Sunday some friends invited me to tag along on their weekend hike. All this happened because the company I work for decided to donate money to a charitable cause, the money amount was proportional to the distance logged by all its employees so that was motivation for us to run, walk or hike during the weekend.\nThe hike was long (11+ Km), it took us around 1.","title":"Some thoughts on the weekend hike"},{"content":"Interesting, I managed to screw up my blog. Logging in is impossible through a web browser, I get the message:\n502 Bad Gateway\n\u0026ndash; nginx\nThis happened after messing around with the WP Reset plugin, apparently I deleted some custom table I shouldn’t have… Funnily enough I am still able to use the android app to create posts so not all hope is gone.\nWeird things happen….\nEdit: Turns out I couldn’t access the login screen for my site but could access the comments section (you know the one where you can approve new comments, then from there Dashboard was broken but I could access the menu Tools -\u0026gt; WP Reset). I had the foresight of creating a snapshot before messing around with the plugin, I just couldn’t find a way to restore it, the more you know\nDay 21 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/10/16/weird-things-happen-when-you-selfhost-your-blog-edit/","summary":"Interesting, I managed to screw up my blog. Logging in is impossible through a web browser, I get the message:\n502 Bad Gateway\n\u0026ndash; nginx\nThis happened after messing around with the WP Reset plugin, apparently I deleted some custom table I shouldn’t have… Funnily enough I am still able to use the android app to create posts so not all hope is gone.\nWeird things happen….\nEdit: Turns out I couldn’t access the login screen for my site but could access the comments section (you know the one where you can approve new comments, then from there Dashboard was broken but I could access the menu Tools -\u0026gt; WP Reset).","title":"Weird things happen when you selfhost your blog (edit)"},{"content":"Let’s face it, part of the joy of Linux is solving unexpected problems you wouldn’t have with proprietary Operating Systems like Windows and MacOS. That being said this is my latest adventure:\nI turned on m computer and after the grub screen came up and I chose to boot into Manjaro (yes, the horror, I know dual booting Windows is not ideal but a necessary evil in my case). Something like this came up instead of the usual GUI login prompt:\n1 2 3 4 5 6 [FAILED] Failed to start File System \u0026amp;lt;random UUID for my home partition\u0026gt; [FAILED] Failed to mount /home. [DEPEND] Dependency failed for Local File Systems. You are in emergency mode. After logging in, type “journalctl -xb” to view system logs, “systemctl reboot” to reboot, “systemctl default” or “exit” to boot into default mode. After the usual “Well, crap” moment I decided to search the forums and my initial approach was to boot from a live usb and then to follow this thread but manjaro-chroot -a didn’t seem to work, the terminal propmted to mount Manjaro as option 0 but that didn’t help (more like I didn’t really know how to use this). So I attempted something else I found in this other thread:\nfsck /dev/sda8 (my home partition lives in sda8)\nand after following the prompts to repair errors and optimize (said yes to all):\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 ~ \u0026gt;\u0026gt;\u0026gt; sudo fsck /dev/sda8 [32] fsck from util-linux 2.36 e2fsck 1.45.6 (20-Mar-2020) /dev/sda8 contains a file system with errors, check forced. Pass 1: Checking inodes, blocks, and sizes Inode 1179940 extent tree (at level 1) could be shorter. Optimize\u0026lt;y\u0026gt;? yes Inodes that were part of a corrupted orphan linked list found. Fix\u0026lt;y\u0026gt;? yes Inode 1180329 was part of the orphaned inode list. FIXED. Deleted inode 1185883 has zero dtime. Fix\u0026lt;y\u0026gt;? yes Inode 1194474 was part of the orphaned inode list. FIXED. Inode 1197451 was part of the orphaned inode list. FIXED. Inode 1214730 was part of the orphaned inode list. FIXED. Inode 1214937 was part of the orphaned inode list. FIXED. Inode 1245329 was part of the orphaned inode list. FIXED. Inode 1443168 extent tree (at level 1) could be shorter. Optimize\u0026lt;y\u0026gt;? yes Inode 2101262 extent tree (at level 1) could be shorter. Optimize\u0026lt;y\u0026gt;? yes Pass 1E: Optimizing extent trees Pass 2: Checking directory structure Pass 3: Checking directory connectivity Pass 4: Checking reference counts Pass 5: Checking group summary information Block bitmap differences: -4728365 -(5252576--5252593) -(5252832--5252840) -(7281205--7281213) -(28186624--28187647) -(28435982--28435990) Fix\u0026lt;y\u0026gt;? yes Free blocks count wrong for group #144 (280, counted=281). Fix\u0026lt;y\u0026gt;? yes Free blocks count wrong for group #160 (7611, counted=7638). Fix\u0026lt;y\u0026gt;? yes Free blocks count wrong for group #222 (16898, counted=16907). Fix\u0026lt;y\u0026gt;? yes Free blocks count wrong for group #860 (5047, counted=6071). Fix (\u0026#39;a\u0026#39; enables \u0026#39;yes\u0026#39; to all) \u0026lt;y\u0026gt;? yes to all Free blocks count wrong for group #867 (6842, counted=6851). Fix? yes Free blocks count wrong (1960760, counted=1961830). Fix? yes Inode bitmap differences: -1180329 -1185883 -1194474 -1197451 -1214730 -1214937 -1245329 Fix? yes Free inodes count wrong for group #144 (0, counted=2). Fix? yes Free inodes count wrong for group #145 (0, counted=1). Fix? yes Free inodes count wrong for group #146 (8, counted=9). Fix? yes Free inodes count wrong for group #148 (1750, counted=1752). Fix? yes Free inodes count wrong for group #152 (6483, counted=6484). Fix? yes Directories count wrong for group #152 (1042, counted=1041). Fix? yes Free inodes count wrong (6279928, counted=6279935). Fix? yes /dev/sda8: *** FILE SYSTEM WAS MODIFIED *** /dev/sda8: 1936641/8216576 files (0.4% non-contiguous), 30896794/32858624 blocks ~ \u0026gt;\u0026gt;\u0026gt; [1] Then after turning off and on my laptop everything went back to normal. In hindsight maybe I could’ve done that from the terminal I was booting into but it doesn’t matter now.\nUseful reference for fsck:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 lopeztel@lopeztel-inspiron137359  ~  fsck --help Usage: fsck [options] -- [fs-options] [\u0026lt;filesystem\u0026gt; ...] Check and repair a Linux filesystem. Options: -A check all filesystems -C [\u0026lt;fd\u0026gt;] display progress bar; file descriptor is for GUIs -l lock the device to guarantee exclusive access -M do not check mounted filesystems -N do not execute, just show what would be done -P check filesystems in parallel, including root -R skip root filesystem; useful only with \u0026#39;-A\u0026#39; -r [\u0026lt;fd\u0026gt;] report statistics for each device checked; file descriptor is for GUIs -s serialize the checking operations -T do not show the title on startup -t \u0026lt;type\u0026gt; specify filesystem types to be checked; \u0026lt;type\u0026gt; is allowed to be a comma-separated list -V explain what is being done -?, --help display this help --version display version See the specific fsck.* commands for available fs-options. For more details see fsck(8). As I said, there are unexpected problems but there’s a sense of achievement when you solve them and learn something in the process.\nDay 20 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/10/12/saving-my-home-partition-with-fsck/","summary":"Let’s face it, part of the joy of Linux is solving unexpected problems you wouldn’t have with proprietary Operating Systems like Windows and MacOS. That being said this is my latest adventure:\nI turned on m computer and after the grub screen came up and I chose to boot into Manjaro (yes, the horror, I know dual booting Windows is not ideal but a necessary evil in my case). Something like this came up instead of the usual GUI login prompt:","title":"Saving my /home partition with fsck"},{"content":"Context For a while now I’ve been trying to find ways to convey the risks of social media and the importance of privacy to my non-tech savvy family members, in a previous entry I went over getting away from WhatsApp (Facebook really) and using element connected to my own self hosted synapse server.\nThe Social Dilemma Two weeks ago I watched The Social Dilemma on Netflix, which I really enjoyed. To elaborate further these are my main take aways:\nThe people featured in the documentary explain things is easy to follow for non – tech oriented people, because, let’s be honest, sometimes people from technical backgrounds tend to make assumptions or loose patience while explaining (I know I have) Some of the creators of some social media platforms or multiple of their functionalities (such as the like button for Facebook) were involved in the creation of this documentary and even willing to admit that they didn’t think of the negative uses of said functionalities! A couple examples that come to mind are people doing everything (varying degrees of ridiculousness) to go up in this like/views based system on YouTube or live streaming horrible deeds on \u0026quot;\u0026lt; insert your video streaming platform of choice here \u0026gt;\u0026quot; to spread fear/hate The fact that Center for Humane Technology (featured in the documentary) was started by the same people that created or helped in the creation of diverse social media platforms and the fact that people that work for social media platforms go to great lengths to get their own kids to stay away from their own creations should both be huge red flags for “us, normal users”. The “Brain hacking” algorithms work on you even if you’re highly educated or know how they work Ongoing efforts After watching the documentary and recommending it to my folks back home (English is a bit hard for them so I’m thankful for Netflix translations), a search for similar resources began and a pleasant exchange with @humanetech (Mastodon account that represents Humane Tech Community ) turned up some very good sites like Social Cooling – Big Data’s unintended side effect which was nice but I began thinking:\n“Hey, most of the resources are in English , it doesn’t make sense to have/share them if most of the vulnerable population isn’t highly educated and speaks the language (at least in my country), maybe translation of such resources is a good idea”\nAfter deciding to be a little proactive I offered this thought to @humanetech which was received with enthusiasm and after being pointed to one of their forum’s threads I discovered someone had already thought about this and even volunteered to translate to Italian, at this point I thought I could help translating to Spanish, so I joined the forum and officially volunteered as tribute well, which began another thread dedicated to gathering resources for possible translation.\nSo that’s all it took to take some action to help a little bit, a couple of toots and some forum posts, I really hope some translation effort happens, interest seems to be there as at the time of writing there are other people who volunteered to translate to Portuguese, German and Russian (this last one 2 hours before this entry was live).\nIf my thoughts resonate with you, you can join the forum, volunteer to translate or overall reach out to exchange ideas either on mastodon or on Humane Tech Community forum\nDay 19 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/09/30/convenience-vs-privacy-round-2/","summary":"Context For a while now I’ve been trying to find ways to convey the risks of social media and the importance of privacy to my non-tech savvy family members, in a previous entry I went over getting away from WhatsApp (Facebook really) and using element connected to my own self hosted synapse server.\nThe Social Dilemma Two weeks ago I watched The Social Dilemma on Netflix, which I really enjoyed. To elaborate further these are my main take aways:","title":"Convenience vs Privacy (Round 2)"},{"content":"Context I am writing this entry because today is September 15th, almost Mexican Independence day. Fun fact: The whole thing really started on September 16th, 210 years ago but to this day is celebrated on the night of the 15th because one of our presidents wanted to celebrate his birthday at the same time. See Porfirio Diaz for more details.\nThis entry is a bit of a rant about living abroad and what everyone calls “Mexican food”\nMy problem with “Mexican” food It’s not a secret that my country is known for having the best a very rich cuisine, however I feel that it is very badly represented abroad thanks to our neighbors from the US (I am not trying to start a flame war here).\nSince I started living abroad (almost 3 years ago now) I’ve seen many different representations, admittedly good food but not what I would call Mexican, I think the most common misconceptions are:\nNo Mexican uses cheddar cheese, that just doesn’t happen The corn most people know in Mexico is neither sweet nor yellow (there are blue and red varieties but I won’t get into that) No, we don’t really celebrate cinco de Mayo (although it is a very good excuse our friends from the US like to use to eat tons of avocado and drink tequila, but by all means go ahead 🙂 ) Chili con carne, most burritos and sweet chili sauce are what would be better described as “Tex-Mex” I’ve seen interesting varieties, anything with corn chips, sliced, jalapeño peppers, tomato or beans slapped on top is called “Mexican” (I’ve seen this in the US and all over Europe) Apparently Norway and Sweden have a long standing tradition of “Taco Friday”: lots of minced meat with cumin and other spices and taco shells So there you go, weird moments whenever I hear “Oh, you’re Mexican? I love Mexican food!”, which is why I always ask if the person has ever been to Mexico (Come on, at least Cancun is a popular destination isn’t it?)\nHope this information is useful, at least it lets me blow off some steam and think about the food I love so much but can’t have on this day.\nDay 18 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/09/15/mexican-food/","summary":"Context I am writing this entry because today is September 15th, almost Mexican Independence day. Fun fact: The whole thing really started on September 16th, 210 years ago but to this day is celebrated on the night of the 15th because one of our presidents wanted to celebrate his birthday at the same time. See Porfirio Diaz for more details.\nThis entry is a bit of a rant about living abroad and what everyone calls “Mexican food”","title":"Mexican food"},{"content":"A brief summary: I’ve been looking into privacy friendly alternatives to software most of us use or used in our everyday lives. To be more precise, an alternative to WhatsApp for communication within my family. Long story short: I lost this one…\nA while back I switched from WhatsApp to Signal and kind of forced my family to switch as well, however:\nSignal requires a phone number and depends on centralized servers. I know there are ways to have your own server but as far as I know the process can be difficult, there is no one-to-one video calls on desktop (yet) and there is no support for federation out of the box (If you, the reader, have more info on this point I’d love to know since I have only researched on the surface of the topic)\nMy current solution is a synapse installation and element client app on desktop, iOS and android device, which seems to meet all the requirements I had plus the installation process was fast and easy on my raspberrypi yunohost server\nOn the technical side of things everything is fine and works, we are able to communicate securely through a home server I own and manage but the thing is: My family only uses element to communicate with me and they keep relying on WhatsApp to communicate between them and others. It is a bit frustrating but at least our video calls are private so there is a silver lining here.\nThe arguments to use it have been many: “there are no customizable stickers”, “What do you have to hide? don’t be so paranoid”, “I don’t care if I am spied on, I’m not that interesting”, “all my friends are on WhatsApp and I like to have a single app for all my conversations”\nI have been trying to explain the risks of thinking like this and after being frustrated for a while I realized that most people concerned with privacy have an electronic or computer engineering (or similar) backgrounds, we sometimes are a bit big-headed (at least I have been at times) and forget how it is to have no understanding of how apps and communication work.\nI’d like to use this entry post to encourage people to be more understanding and patient while trying to explain privacy risks or persuading non-tech oriented people, after all, even when we’re right, no one likes an arrogant smart-ass and forcing everyone to be more privacy oriented is impossible.\nLet’s keep it up, do and take what you can.\nDay 17 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/09/04/convenience-vs-privacy-round-1/","summary":"A brief summary: I’ve been looking into privacy friendly alternatives to software most of us use or used in our everyday lives. To be more precise, an alternative to WhatsApp for communication within my family. Long story short: I lost this one…\nA while back I switched from WhatsApp to Signal and kind of forced my family to switch as well, however:\nSignal requires a phone number and depends on centralized servers.","title":"Convenience vs Privacy (Round 1)"},{"content":"Let me start by saying that the purpose of this entry is not to say “Look at how selfless I am for donating money to FOSS organizations or projects” so, with that in mind, I will not list any specific quantities because that is not the point I am trying to make. Having written the proper disclaimer, let’s get to it:\nMy preferences In the past month I have written about my projects and experiences with FOSS, self hosting and even digital art. Here’s the list of organizations/projects I support and why I chose them:\nKrita: I just loved how they’re working hard to include amazing brushes and textures by default. I didn’t try digital before because I’m used to traditional media (in particular watercolor). Yunohost: Easy self-hosting solution, very nice people in the forums and even this blog runs on a Yunohost server! ManjaroARM: I just love what they’re doing for the Pinebook, Pinephone and Raspberry Pi Fosstodon.org: My mastodon instance and what started the whole “better/safer digital life” train I’m on Matrix.org: I’m using my own Synapse server for encrypted communication with my family, thanks to Yunohost. (there are many more I’d like to support but, you know, adulting and paying the bills…)\nWhy donate? Aside from sharing my preferences I’d like to encourage you (my surely millions of readers that is 😛 ) to support any FOSS project you’ve found useful or interesting, either by donating a small amount of money or (even better) by contributing with time and coding expertise.\nDay 16 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/26/foss-donations/","summary":"Let me start by saying that the purpose of this entry is not to say “Look at how selfless I am for donating money to FOSS organizations or projects” so, with that in mind, I will not list any specific quantities because that is not the point I am trying to make. Having written the proper disclaimer, let’s get to it:\nMy preferences In the past month I have written about my projects and experiences with FOSS, self hosting and even digital art.","title":"FOSS Donations"},{"content":"After my last update about my blog migration, basically all I did was install LiteSpeed Cache plugin and mess around with it.\nFor reference, lots of documentation goodness here\nThe most important part to note is that I kept getting bugged by both Google’s PageSpeed Insights and GTmetrix to enable text compression.\nAfter some time reading about compression and Marco Saric’s blogpost, I tried to enable compression by adding some lines of code at the bottom of the .htaccess file (accessible by the plugin through: LiteSpeed Cache-\u0026gt;Toolbox-\u0026gt;Edit .htaccess):\n1 2 3 4 5 6 7 8 9 10 \u0026lt;ifModule mod_gzip.c\u0026gt; mod_gzip_on Yes mod_gzip_dechunk Yes mod_gzip_item_include file .(html?|txt|css|js|php|pl)$ mod_gzip_item_include handler ^cgi-script$ mod_gzip_item_include mime ^text/.* mod_gzip_item_include mime ^application/x-javascript.* mod_gzip_item_exclude mime ^image/.* mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.* \u0026lt;/ifModule\u0026gt; This didn’t work and realized that gzip doesn’t come enabled by default (most things were commented out) in yunohost’s nginx installation. So I referred to this link and edited the file /etc/nginx/nginx.conf :\n1 2 3 4 5 6 7 8 9 gzip on; add_header Content-Encoding \u0026#34;gzip2\u0026#34;; gzip_vary on; gzip_proxied any; gzip_comp_level 6; gzip_buffers 16 8k; gzip_http_version 1.1; gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/x-javascript The line\nadd_header Content-Encoding \u0026quot;gzip2\u0026quot;;\nis the most important, after that my blog was tested for compression using: https://www.giftofspeed.com/gzip-test/ and https://varvy.com/tools/gzip/, both test websites see compression enabled.\nI’m still not sure about Google’s PageSpeed Insights but GTmetrix sees it as well. Here are my results (for now):\nJust for fun (haven’t looked too much into this yet) I am adding the score for Website carbon as well:\nSo far I am more or less happy with the results and there is room for improvement. Some settings seem to break my Indieweb and ActivityPub plugins.\nDay 15 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/22/optimizing-my-yunohost-wordpress-blog/","summary":"After my last update about my blog migration, basically all I did was install LiteSpeed Cache plugin and mess around with it.\nFor reference, lots of documentation goodness here\nThe most important part to note is that I kept getting bugged by both Google’s PageSpeed Insights and GTmetrix to enable text compression.\nAfter some time reading about compression and Marco Saric’s blogpost, I tried to enable compression by adding some lines of code at the bottom of the .","title":"Optimizing my yunohost wordpress blog"},{"content":"Followup on my previous entry related to my wallpaper. I just wanted my terminal to look nice since I spend quite some time on it. I use zsh by the way, but there are similar instructions for bash as well.\nI’ll just document the steps I followed (2 alternatives)\npowerline-shell Install powerline-shell (more configuration options in the Github repo):\nsudo pip install powerline-shell\nAdd these lines to .zshrc:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function powerline_precmd() { PS1=\u0026#34;$(powerline-shell --shell zsh $?)\u0026#34; } function install_powerline_precmd() { for s in \u0026#34;${precmd_functions\u0026amp;#91;@]}\u0026#34;; do if \u0026amp;#91; \u0026#34;$s\u0026#34; = \u0026#34;powerline_precmd\u0026#34; ]; then return fi done precmd_functions+=(powerline_precmd) } if \u0026amp;#91; \u0026#34;$TERM\u0026#34; != \u0026#34;linux\u0026#34; ]; then install_powerline_precmd fi ohmyzsh Install ohmyzsh:\nsh -c \u0026quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\nReplace the theme in line\nZSH_THEME=\u0026quot;robbyrussell\u0026quot;\nby one of the themes in this list, I chose agnoster.\nColor scheme (doesn’t work completely with powerline-shell) Install pywal:\nThen run\nwal -i \u0026quot;/path/to/img.jpg\nWhich I pointed to my pacwall generated wallpaper, you should see a change in color scheme now. This is my result:\nFinally make the color scheme part of the .zshrc and persist between reboots (by modifying .xinitrc) (based on these instructions, here are my .zshrc additions:\n1 2 (cat ~/.cache/wal/sequences \u0026amp;) neofetch And my .xinitrc addition:\nwal -R\nDay 14 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/21/terminal-bling/","summary":"Followup on my previous entry related to my wallpaper. I just wanted my terminal to look nice since I spend quite some time on it. I use zsh by the way, but there are similar instructions for bash as well.\nI’ll just document the steps I followed (2 alternatives)\npowerline-shell Install powerline-shell (more configuration options in the Github repo):\nsudo pip install powerline-shell\nAdd these lines to .zshrc:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function powerline_precmd() { PS1=\u0026#34;$(powerline-shell --shell zsh $?","title":"Terminal bling"},{"content":"Just recently I found an interesting package in AUR, it’s called pacwall. Since I use Manjaro the installation quite simple through pacman or pamac.\nThe goal is simple, to have a visual representation of your installed packages and their dependencies. for more information and how to use it consult the repo\nI just typed:\npacwall -D -S 1920x1080\nin my terminal to automatically set my desktop wall paper with the corresponding resolution and generate a corresponding .png file in my home directory\nIt is my understanding that it is possible to change the colors for every type of node and if you’re really into it, you can regenerate the wallpapaper every time a package is installed or removed.\nHere’s mine:\nDay 13 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/17/my-nerdy-wallpaper/","summary":"Just recently I found an interesting package in AUR, it’s called pacwall. Since I use Manjaro the installation quite simple through pacman or pamac.\nThe goal is simple, to have a visual representation of your installed packages and their dependencies. for more information and how to use it consult the repo\nI just typed:\npacwall -D -S 1920x1080\nin my terminal to automatically set my desktop wall paper with the corresponding resolution and generate a corresponding .","title":"My nerdy wallpaper"},{"content":"In recent days I’ve been busy trying to get my blog up and running on my cheapo Raspberry Pi + Yunohost server setup. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.\nWhy though? To put it simply: because I can.\nOn a more serious note, my previous blog was hosted at qua.name and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction, easy theming, and an overall a plug and play solution with a GUI. Now, theming is possible in writefreely instances with a bit of CSS magic but I wanted to stay away from that, maybe in the future… As for the interaction side of things, the ol’ leave a comment kind of thing is good but there are a lot more possibilities.\nOne of the advantages of writefreely is the built in federation support, and finding out that there is an ActivityPub plugin (in beta) for WordPress was interesting and another point in favor of the change.\nMy setup The first step was buying the cheapest domain name I could find on namecheap.com (after all this is a budget server setup), and if I remember correctly, the deal was $8.5 for 2 years.\nThen, obtaining a SSL certificate from Let’s Encrypt and the WordPress app installation through yunohost was straightforward through the admin GUI.\nImporting posts as plain text files from my writefreely instance was straightforward as well, luckily WordPress seems to support Markdown in its block editor, so it was a matter of copy and paste, updating links to the old blog posts and changing the published date. Also, I had less than 15 posts so… not a massive effort.\nFederation and Indieweb I installed the ActivityPub plugin and began testing, had a little trouble with the entire posts being dumped as a single toot in the timeline, but that was fixed tweaking the settings: Which makes it possible to have a neat timeline like this:\nWhile testing this, another concept came to light: Indieweb, I opened another can of worms, so of course I liked the idea and I had to make my blog Indieweb compliant by installing the corresponding plugins.\nHere’s a list of the active plugins on my blog:\nActivityPub Akismet Anti-Spam Classic Editor (this one is important, post kinds and micropub need it, new block editor is not fully compatible) Companion Auto Update IndieAuth IndieWeb (this is one of the first ones to install, it provides how to get started information and provides a list of other relevant plugins) Micropub Microformats 2 Post Kinds Semantic-Linkbacks Simple LDAP Login Simple Local Avatars (To avoid using Gravatar) Syndication Links Webmention WebSub/PubSubHubbub WP Fail2Ban Redux Yarns Microsub Server Last details Apparently the theme I am using doesn’t display my h-card correctly through the available widget so after reading Kev Quirk’s post, my h-card was manually added by editing the footer .php file, this is nice because it’s just sitting there not changing the appearance of the blog.\nThis is also efficient because my yunohost installation defaults the wordpress user email to the selfhosted email, and that is not working at the moment (content for another blog post maybe)\nThe test in indiewebifyme displays it correctly:\nAlso I discovered that the default settings of the Webmentions plugin make it so that every kind of interaction is displayed as an avatar and not under the comments section so I just changed this:\nThe results are shown in this post\nThere are some more details related to the plugins and using bridgy to link your social media interactions to posts, but this pretty much covers the basics and having a look into the plugin settings gives a better idea on how they work.\nKudos to Ricardo, hs0ucy, pixelroiber, and Robby for helping me test webmentions and federation on my previous dummy site and/or the current one.\nNext steps will be looking into optimization and such, for now I think the Lazyload plugin messes up my h-card somehow.\nDay 12 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/16/migration-to-wordpress/","summary":"In recent days I’ve been busy trying to get my blog up and running on my cheapo Raspberry Pi + Yunohost server setup. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.\nWhy though? To put it simply: because I can.\nOn a more serious note, my previous blog was hosted at qua.name and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction, easy theming, and an overall a plug and play solution with a GUI.","title":"Migration to WordPress"},{"content":"For context, let me refer to my very first entry, the idea was basically looking for alternatives, so here’s the long awaited progress report:\nChanges already in place Using Mastodon instead of Twitter Using Pixelfed instead of Instagram (On Android) Using NewPipe instead of YouTube, this one is quite cool, it has all the features you’d want: Download, Picture in Picture mode, Background Music reproduction… Using Writefreely and/or WordPress (Still haven’t decided) instead of other blogging platforms (On Android) Using Signal instead of WhatsApp, although that may change in the near future Using Jitsi Meet instead of Skype, Zoom, Google Hangouts Using Protonmail instead of Gmail (although not sure if FOSS/FLOSS, they maintain an OpenPGP library) (On Android) Using Simple Mobile Tools SMS Messenger instead of Google Messages Using Simple Mobile Tools Gallery instead of Google Photos Using Bitwarden instead of LastPass (On Android) Using andOTP (at least for personal stuff) Using F-Droid instead of the Google Play Store whenever possible Changes in transition period Self-hosted Nextcloud instead of Dropbox, Google Drive, One Drive… Self-hosted Gitea instead of Github (currently only mirroring) Self-hosted Piwigo gallery instead of Google Photos (more info on my setup here) Self-hosted email (problems with outgoing port 25) Self-hosted Synapse (Matrix server) in testing phase, could replace Signal by Element if tests show promising results Calendar synchronization using Nextcloud instead of Google Calendar (Android apps: Simple Mobile Tools Calendar, DAVX5 and OpenTasks) (On Android) Trying to use OsmAnd instead of Google Maps (This is by far the hardest change to be made) Compromises Facebook is still the platform where everyone plans events so I need that just to follow-up on them (not actively in use) Whatsapp and Facebook messenger as backup messaging (Trying to move friends and family over to Signal or Element) Can’t seem to get away from Microsoft: Teams, Outlook and Microsoft Authenticator are used for work Day 11 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/09/progress-report-on-a-more-foss-floss-decentralized-digital-life/","summary":"For context, let me refer to my very first entry, the idea was basically looking for alternatives, so here’s the long awaited progress report:\nChanges already in place Using Mastodon instead of Twitter Using Pixelfed instead of Instagram (On Android) Using NewPipe instead of YouTube, this one is quite cool, it has all the features you’d want: Download, Picture in Picture mode, Background Music reproduction… Using Writefreely and/or WordPress (Still haven’t decided) instead of other blogging platforms (On Android) Using Signal instead of WhatsApp, although that may change in the near future Using Jitsi Meet instead of Skype, Zoom, Google Hangouts Using Protonmail instead of Gmail (although not sure if FOSS/FLOSS, they maintain an OpenPGP library) (On Android) Using Simple Mobile Tools SMS Messenger instead of Google Messages Using Simple Mobile Tools Gallery instead of Google Photos Using Bitwarden instead of LastPass (On Android) Using andOTP (at least for personal stuff) Using F-Droid instead of the Google Play Store whenever possible Changes in transition period Self-hosted Nextcloud instead of Dropbox, Google Drive, One Drive… Self-hosted Gitea instead of Github (currently only mirroring) Self-hosted Piwigo gallery instead of Google Photos (more info on my setup here) Self-hosted email (problems with outgoing port 25) Self-hosted Synapse (Matrix server) in testing phase, could replace Signal by Element if tests show promising results Calendar synchronization using Nextcloud instead of Google Calendar (Android apps: Simple Mobile Tools Calendar, DAVX5 and OpenTasks) (On Android) Trying to use OsmAnd instead of Google Maps (This is by far the hardest change to be made) Compromises Facebook is still the platform where everyone plans events so I need that just to follow-up on them (not actively in use) Whatsapp and Facebook messenger as backup messaging (Trying to move friends and family over to Signal or Element) Can’t seem to get away from Microsoft: Teams, Outlook and Microsoft Authenticator are used for work Day 11 of #100DaysToOffload","title":"Progress report on a more FOSS/FLOSS, decentralized digital life"},{"content":"I will try to make this entry resemble a tutorial, hopefully this ends up being useful to someone.\nWhy start over? I had been playing around with Open Media Vault before (see this entry for details), but it was mainly based on docker images and I could never get Nextcloud up and running (the closest I came was installing nextcloudpi, but I could never get the docker image to run using external storage).\nAlso I never got to the part of using letsencrypt to access everything through https, pretty sure there’s a tutorial out there somewhere.\nThen tragedy happened, for some reason my SD card just died and I was left with nothing.\nAfter that I decided that my setup needed some improvements, and to be completely honest I also wanted to try something different, in yunohost almost everything is a one-click step when it comes to installing apps so that was a huge point in favor, here I am telling you my story:\nInitial setup After the SD card incident, booting from an external drive seemed like the best option. There are 2 prerequisites for that to happen:\nupdate the pi’s bootloader in eeprom (detailed steps here, see section: Update the bootloader) burn the OS image to the external drive, and use your favorite file browser to copy \u0026amp; replace some files to the boot partition (no need to do this if you’re using 64 bit Raspbian OS). This is the list of files that need to be replaces (just get them from the repo): fixup.dat fixup4.dat fixup4cd.dat fixup4db.dat fixup4x.dat fixup_cd.dat fixup_db.dat fixup_x.dat start.elf start4.elf start4cd.elf start4db.elf start4x.elf start_cd.elf start_db.elf start_x.elf In my particular case the base was Raspberry Pi OS lite, I know, you may be thinking: “Aren’t there yunohost images already out there? save yourself some trouble!” and my answer is documented here.\nThen after updating, it’s possible to install yunohost (4.0.3 at the time of writing) with a curl one liner: curl https://install.yunohost.org | bash\nPost intsall steps are pretty straightforward, here’s a link.\nI ended up using a noho.st domain as it was graciously offered for free.\nMy multi-HDD setup Note: What this section describes has to be done after yunohost is up and running in the system, I tried doing it the other way around and that caused my SATA HAT to stop working altogether, no HDDs were detected, fan stopped spinning and the little LCD display showed nothing\nA while back I got an awesome RADXA Quad-SATA HAT that houses 4x1TB HDDs. It is not detected or working out of the box but the installation process is detailed here. So my system has 5 HDDs (4 in the SATA-HAT and the one I boot from connected one of the pi’s USB ports).\nI also wanted to have some sense of security for my data so naturally I set up 2x RAID1 arrays (mdadm is your best friend, here’s a useful guide)\nAll this sounds very nice, doesn’t it? There’s always a catch: since the external drives are on the SATA HAT it is not possible to just edit fstab and auto-mount them on the system, there is a service associated with the SATA HAT that needs to be running to “see” the drives. My hacky solution for now is mounting the drives everytime I restart the system (yes, by hand, like a caveman).\nApp installing and configuration Installing apps was surprisingly easy, Gitea, WordPress, Nextcloud and Piwigo are one clic installs except for Synapse, the fix is just installing from testing branch: sudo yunohost app install https://github.com/YunoHost-Apps/synapse_ynh/tree/testing --debug\nSince the apps are installed in the boot drive I decided to move or reference content to/from the other drives. My Nextcloud instance has access to the external storage so I’m able to “upload” pictures to my external drives. then I just made symlinks from /home/yunohost.app/piwigo/.galleries to reference the album directories in the external drives. Here’s an useful link, also, hopefully you don’t screw up like me but here’s a link on how to remove symlinks. Hacky solution, yes, but it works.\nSo far my idea is to “upload” content to external storage through Nextcloud and follow the same approach (for blogposts, videos, etc …)\nI am also testing communication through my Synapse instance and the Nextcloud Talk plugin with my folks back home.\nImprovements Because what kind of engineer would I be if I was satisfied? Improvements:\nI recently bought a domain from Namecheap, so I’ll be using that for my blog in the future Deciding between Writefreely or WordPress to migrate this blog (writefreely has federation and I don’t know if the activity pub plugin for wordpress is mature enough) There is a problem with outgoing port 25 so my self-hosted email address can receive but not send any emails and there’s an issue with reverse DNS so basically even if I could send them they’d be rejected or best case sent to spam. Apparently this is a router issue, my ISP has replied that they don’t block anything on their side Deciding if I move my inner circle from Signal to Element (through my Synapse instance) or just use Nextcloud Talk Well, that’s all, any suggestions are greatly appreciated.\nDay 10 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/08/my-raspberry-pi-server-with-yunohost/","summary":"I will try to make this entry resemble a tutorial, hopefully this ends up being useful to someone.\nWhy start over? I had been playing around with Open Media Vault before (see this entry for details), but it was mainly based on docker images and I could never get Nextcloud up and running (the closest I came was installing nextcloudpi, but I could never get the docker image to run using external storage).","title":"My Raspberry Pi server with yunohost"},{"content":"Ever since I started looking into the Fediverse, FOSS/FLOSS, privacy and self-hosting I was pleasantly surprised by how engaging and helpful the community can be.\nAs an example: in Fosstodon all my interactions have been very nice, from sharing random unrelated stuff to asking for advice on more technical matters everyone has always been helpful and willing to give advice.\nAnother great experience I had recently was related with the yunohost project (long story short, my Open Media Vault setup went down in flames, tutorial coming shortly), being kind of a big project one would think that as an individual, communication would be slow or hard, kind of like with companies as a consumer.\nSurprisingly, all it took was a toot and a post on their forum to get up and running.\nMy first interaction was related to the fact that the available Raspberry pi image was neither the latest version (4.0.3 at the time of writing) nor booting on my pi, so after reading that the pi 4 was not supported officially and tooting about it I was surprised to receive a response from @yunohost prompting me to install on top of Raspberry Pi OS lite (it’ll always be Raspbian for me) using a curl one liner.\nMy second interaction, and after installing some apps, I came across another issue, the synapse (Matrix server) app installation failed and I wrote this post on the forum. I was surprised again to receive an answer in less than 24 hours! This time I just installed from the testing branch on their repo.\nI have nothing but good things to say so far, and I will donate to the project, it is only fair and they are doing a great job.\nDay 9 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/06/thank-you-yunohost/","summary":"Ever since I started looking into the Fediverse, FOSS/FLOSS, privacy and self-hosting I was pleasantly surprised by how engaging and helpful the community can be.\nAs an example: in Fosstodon all my interactions have been very nice, from sharing random unrelated stuff to asking for advice on more technical matters everyone has always been helpful and willing to give advice.\nAnother great experience I had recently was related with the yunohost project (long story short, my Open Media Vault setup went down in flames, tutorial coming shortly), being kind of a big project one would think that as an individual, communication would be slow or hard, kind of like with companies as a consumer.","title":"Thank you yunohost"},{"content":"I like to keep up to date with the latest news on the consumer electronics market (newest phones, laptops and processors) and lately I’ve found myself thinking: “That looks like a great phone/laptop, I should get it”.\nThen the thought that usually follows is “Maybe I don’t really need it”\nThat’s the thing, media constantly bombards us with ads to get new things/gadgets when we already own perfectly working devices…\nBy the way, this blog entry was written from my still good Moto Z Play (2016), which still lasts for a whole working day with around 37% battery left.\nDay 8 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/08/05/some-thoughts-on-consumerism/","summary":"I like to keep up to date with the latest news on the consumer electronics market (newest phones, laptops and processors) and lately I’ve found myself thinking: “That looks like a great phone/laptop, I should get it”.\nThen the thought that usually follows is “Maybe I don’t really need it”\nThat’s the thing, media constantly bombards us with ads to get new things/gadgets when we already own perfectly working devices…","title":"Some thoughts on consumerism"},{"content":"OK, I am guilty of scrolling through Facebook even though I am on the Fediverse… I simply keep it because everyone else I care about does, anyway, on to the important stuff:\nEvery once in a while I see something worthwhile there, this time I saw two very interesting posts close to each other (in my timeline at least), these were shared by two different people, both Mexican like me.\nThe first one came from a someone living in Germany and the other one came from someone living in Mexico.\nThe first post was about how Mexico is one of the easiest countries in the world to make friends with the locals. It may be biased because the cited article was written from the United States expat perspective, overall I agree with the content. We are friendly, perhaps a little too friendly.\nReference material came from internations.org\nThe second post was about how according to the Organization for Economic Co-operation and Development (OECD) Mexico is one of the worst countries in to live in and raise a family.\nReference material came from OECD – Mexico and the OECD – country ranking which provides a nice chart.\nAll this was of particular interest to me because two things are clear:\nWe Mexicans have sub – optimal life conditions (some of the criteria are: safety, work – life balance, housing, income, jobs, education), yet we maintain a positive (naive?) attitude and stay friendly to each other\nExpats see a whole different country\nIt’s not like expats would frequent bad neighborhoods or have a life similar to the locals, probably enjoying that everything is cheaper given the fact that they earn(ed) money in US dollars but spend in Mexican pesos so they get to see only the nicest the country has to offer, and that’s ok\nI just found the contrast interesting\nDay 6 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/07/30/mexico-quality-of-life-and-different-perspectives/","summary":"OK, I am guilty of scrolling through Facebook even though I am on the Fediverse… I simply keep it because everyone else I care about does, anyway, on to the important stuff:\nEvery once in a while I see something worthwhile there, this time I saw two very interesting posts close to each other (in my timeline at least), these were shared by two different people, both Mexican like me.","title":"Mexico – Quality of life and different perspectives"},{"content":"This entry is going to be a bit more personal, I usually avoid all the touchy – feely subjects but there is something to be said about how we go about balancing our professional careers and private life.\nLong story short, I think I work with brilliant people and lately I’ve been anxious about catching up and feeling a bit guilty whenever I catch myself at home being a couch potato.\nAfter getting the impulse of devoting insane hours or even weekends on “getting up to speed”, a conclusion I came to was: “That’s probably counterproductive”\nGiven how the world works and we are constantly bombarded with the idea that we have to work hard and then harder I think it is OK to make peace with some facts (at least I’m trying to):\nNot everyone is the same, therefore it is understandable to work at different speeds Not every team member has the same tasks, therefore it is not possible to compare progress between them Not everyone has the same background or experience so it is understandable to need others to make progress After all these thoughts I haven’t stopped feeling anxious completely but at least it is a step in the right way\nIf you’re reading this and you’ve felt something similar I want to let you know that it is OK to step back, rest and take your time, after all we are only human and all we can do is our best\nDay 5 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/07/28/some-thoughts-on-being-productive/","summary":"This entry is going to be a bit more personal, I usually avoid all the touchy – feely subjects but there is something to be said about how we go about balancing our professional careers and private life.\nLong story short, I think I work with brilliant people and lately I’ve been anxious about catching up and feeling a bit guilty whenever I catch myself at home being a couch potato.","title":"Some thoughts on being productive"},{"content":"Ever since discovering the Fediverse and reading toots from awesome people in Fosstodon, a little idea started to take shape in my head: perhaps its not that hard to self host, there are tons of tutorials and resources out there…And I need some alternative to google photos to share albums with my family back home\nHardware After some research and settled for a RaspberryPi server/NAS, now, the purists will say that it is not the ideal platform to host but I think it is perfect to get started and learn the basics or as a hobby, then you can move on to the big boy fancy server hardware.\nThe first step was to choose the hardware, I settled for this kit because it provides a nice way to attach 2.5″ SATA drives:\nDual/Quad SATA HAT, top board HAT and metal case from Radxa\nIt was easy to assemble and the process was fun:\nSoftware For the software related part, I decided to install the Raspbian lite image from raspberrypi.org downloads. And then on top of that OpenMediaVault 5 since there are a lot of tutorials on YouTube and it has a nice GUI. Installation guide\nI was up and running after following some instructions in the Radxa Wiki. Ran into some trouble with the Top board hat not displaying any information and RAID because my 4 drives were not detected at first by Open Media Vault and had to set up RAID from terminal- This setup has 4 1Tb HDDs on 2 x RAID 1 configuration – Just remember that forums are your best friends 😉\nNow, you can basically learn everything related to Open Media Vault from Techno Dad Life. After a few tutorials I had a piwigo photo gallery up and running, accessible from my local network.\nHosting over 4G? For the access through the internet part, the not so fun part: it is a long story, but in a nutshell I have to access the internet using a 4G router because my landlord sucks. Anyway it was a bit of a nightmare, after setting up dynamic DNS on my router with noip and also setting up OpenVPN (a very nice feature to have on a router if you ask me) I discovered that neither accessing my local network through VPN nor port forwarding were working.\nAfter tedious exchanges with my ISP/carrier (I am using an additional sim card linked to my phone’s data plan), calls to the store where I got my router from and even TP Link’s product support; some random hero from my ISP’s customer support call center said “Officially we don’t support third party routers, that being said I would suggest you change your APN setting to internet.public” and here I am now, a week after following that advice, sharing photos with my family back home through means I trust and manage myself.\nI also installed Murmur (The Mumble server component) on the Raspberrypi 4 and was amazed by how easy it was to set up. My use case is having voice with friends while we play 0 A.D.\nDay 4 of #100DaysToOffload\n","permalink":"https://lopeztel.xyz/blog/2020/07/07/the-journey-to-self-hosting-on-a-raspberrypi-4/","summary":"Ever since discovering the Fediverse and reading toots from awesome people in Fosstodon, a little idea started to take shape in my head: perhaps its not that hard to self host, there are tons of tutorials and resources out there…And I need some alternative to google photos to share albums with my family back home\nHardware After some research and settled for a RaspberryPi server/NAS, now, the purists will say that it is not the ideal platform to host but I think it is perfect to get started and learn the basics or as a hobby, then you can move on to the big boy fancy server hardware.","title":"The journey to self-hosting (on a Raspberrypi 4)"},{"content":"As mentioned in a previous entry, I started a new job in Norway last year, here are my thoughts so far:\nFirst of all, a couple of interviews related to my position took place 3 weeks before my Master’s thesis was due, all that can be said about that is: lots of excitement, I remember getting results and figures the weekend before the final interview took place.\nAfter a well deserved month of relaxation back home (Mexico), my first day on my new job was a week before the company’s Christmas party and it wasn’t long after that everything was slowing down and everyone was away from the office so not much time to get used to a new country and learn the ropes at the new workplace.\nDuring January, February and the middle of March things slowly started to ramp up and I started to understand a bit more on how things worked around here, from using the printer (always a pain, don’t deny it) and meeting colleagues, to slightly more complicated tasks related to electronics and coding.\nThen, in the middle of march disaster happened and COVID-19 started to spread, so I was left with doing a couple of tasks here and there (not complaining, still got paid and everything was more or less fine).\nEver since health regulations allowed for people to start going back to their offices with a few minor considerations, things have started to ramp up again but now I can’t help but feel like I haven’t been able to keep up and learn as fast as I should, blaming the pandemic is easy but still…\nIt is also important to note that my colleagues are really brilliant people and no one has mentioned anything about my performance, maybe anxiety got the best of me or I am just pushing myself too far… Or is it that people in Norway are just that chill and like to take their time? Only time will tell, in the meantime, gotta keep at it.\n","permalink":"https://lopeztel.xyz/blog/2020/07/02/my-not-so-new-job/","summary":"As mentioned in a previous entry, I started a new job in Norway last year, here are my thoughts so far:\nFirst of all, a couple of interviews related to my position took place 3 weeks before my Master’s thesis was due, all that can be said about that is: lots of excitement, I remember getting results and figures the weekend before the final interview took place.\nAfter a well deserved month of relaxation back home (Mexico), my first day on my new job was a week before the company’s Christmas party and it wasn’t long after that everything was slowing down and everyone was away from the office so not much time to get used to a new country and learn the ropes at the new workplace.","title":"My not so new job"},{"content":"Having being abroad and back home 2 times in the last 3 years have taught me that living in Mexico makes you take some things for granted:\nFamily Excellent food Friends Let’s just say that personal interactions have been… different, but not in a bad way.\nI was always a bit of an oddball, antisocial even (for Mexican standards), but after accepting a job offer in November that led to moving to Norway, knowing just a handful of people in the city (from my Masters program), living alone and COVID-19 lock down, even I started to feel anxious and a bit depressed.\nThings here work a bit differently and, again, not a bad thing, but it has been hard to make new friends or keep in touch with old ones.\nIt’s the little things like talking, getting together and the like that start to seem more meaningful. Since lock down rules were relaxed, three recent events in particular come to mind, which basically made my day over the last month, all nice simple things:\nOne of my Norwegian friends texted me:”I remember that you used to post all the time about your runs, are you up for a run this weekend? I need a running buddy“. We went for a long 9K-ish run the next day. After a barbecue we had with some other friends, last weekend, the same guy texted again saying: “It breaks my heart that you haven’t been to a proper Norwegian beach around here, the barbecue place was not the nicest, so come along with us to the beach tomorrow“. So I ended up going to the beach with him and his fiancée. Yesterday, after an outdoors activity day sponsored by our company, one of my team mates said: “By the way, we’re flipping some burgers for dinner today, I live pretty close by, wanna come over to our place? Since we work together I figured we should get to know each other“. I ended up coming back home at 22:00. All these interactions have meant a lot because they were not initiated by me and gave me the feeling of starting to fit in here. Funnily enough that’s all it takes, nice gestures.\n","permalink":"https://lopeztel.xyz/blog/2020/06/26/nice-gestures/","summary":"Having being abroad and back home 2 times in the last 3 years have taught me that living in Mexico makes you take some things for granted:\nFamily Excellent food Friends Let’s just say that personal interactions have been… different, but not in a bad way.\nI was always a bit of an oddball, antisocial even (for Mexican standards), but after accepting a job offer in November that led to moving to Norway, knowing just a handful of people in the city (from my Masters program), living alone and COVID-19 lock down, even I started to feel anxious and a bit depressed.","title":"Nice gestures"},{"content":"I just felt the need to document my latest Linux issues:\nFirst, some context, I like painting with watercolor and have been doing it for quite a while now but in the last couple of years material such as paper (I used Arches 300g) has become quite expensive, which made me think that perhaps it was about time to go digital.\nAfter buying a cheapo digitizer tablet (a tiny one by the chinese brand Huion) I came across my first issue: doesn’t work “out of the box” on linux (specifically Manjaro); long story short and after some research my eyes came across the DIGImend project, turns out that these guys have been creating drivers for all sorts of digitizer tablets out there and mine was on the list, but it gets better, it is in the AUR! So I was up and running in a matter of minutes.\nNow for the software, at the time of writing it has been a week since Krita 4.3.0 was released featuring new watercolor brushes, after looking at some videos on their new YouTube channel I got very interested because Krita can now emulate pretty decent watercolor, so being the impatient FOSS/FLOSS fan that I am, I decided to install the appimage since the official repositories haven’t been updated (again, at the time of writing).\nLast, another problem, I thought it would be fun to record my screen to document the process, either for my reference or for others (no intention of becoming a content creator though), but after realizing that my first attempt to record resulted in a video that flickered and showed my background at times and further investigation, turns out that recordmydesktop, SimpleScreenRecorder and OBS don’t play well with Gnome3’s window manager (called Mutter if I’m not mistaken). The fix was right in the home page for SimpleScreenRecorder: try removing drivers for 2D acceleration or changing window manager.\nRemoving xf86-video-intel did the trick and everything works fine now. Working Krita + digitizer tablet + recording setup took some effort but perhaps that is also why I am so satisfied and motivated to paint now, let’s see if my hands can produce some decent artwork, at least testing the watercolor brushes has been fun so far:\nEDIT: after some months of on and off work, this is the final result:\nSome links:\nKrita 4.3.0 release notes\nTroubleshooting SimpleScreenRecorder\nDIGImend project\n","permalink":"https://lopeztel.xyz/blog/2020/06/25/linux-and-art-mix/","summary":"I just felt the need to document my latest Linux issues:\nFirst, some context, I like painting with watercolor and have been doing it for quite a while now but in the last couple of years material such as paper (I used Arches 300g) has become quite expensive, which made me think that perhaps it was about time to go digital.\nAfter buying a cheapo digitizer tablet (a tiny one by the chinese brand Huion) I came across my first issue: doesn’t work “out of the box” on linux (specifically Manjaro); long story short and after some research my eyes came across the DIGImend project, turns out that these guys have been creating drivers for all sorts of digitizer tablets out there and mine was on the list, but it gets better, it is in the AUR!","title":"Linux and Art mix"},{"content":"I was just recently thinking given the recent COVID-19 situation, the world is not ready to prioritize what is really important.\nIt feels like no one really notices importance of services like running water, electricity and above all medical care. What I see on the news nowadays leads me to believe that no one really cares about anything as long as we’re not affected.\nNo one cared about COVID-19 until we couldn’t go out, until our Amazon or Aliexpress and overall cheap stuff from China couldn’t reach us in time.\nMaybe COVID-19 is a slap on the face, interesting that something we can’t even see changes economy and everyday life so much.\n","permalink":"https://lopeztel.xyz/blog/2020/04/18/some-thoughts-about-convenience-and-covid-19/","summary":"I was just recently thinking given the recent COVID-19 situation, the world is not ready to prioritize what is really important.\nIt feels like no one really notices importance of services like running water, electricity and above all medical care. What I see on the news nowadays leads me to believe that no one really cares about anything as long as we’re not affected.\nNo one cared about COVID-19 until we couldn’t go out, until our Amazon or Aliexpress and overall cheap stuff from China couldn’t reach us in time.","title":"Some thoughts about convenience and COVID-19"},{"content":"Some random thoughts on a recent failed ski trip and the global pandemic\nSkiing First things first, I have absolutely no clue on how to ski, zero experience whatsoever, so naturally I had to sign up for my company’s Ski trip. In total there were 37 people in the group.\nWe got to a cabin close to a ski resort after a four and a half hour drive on Wednesday, all went well except for some icy paths on the way but that is another story (just don’t do summer tires and front 2 wheel drive on them, you’ll suffer a lot)\nKeep in mind that this trip officially started on the same day COVID-19 was declared a global pandemic, so we already knew that we were going back and working from home, universities and schools were already considering closing at the time.\nOn Thursday we had fun, people who knew their stuff geared up and went to ski (alpine) while some other noob and me went to get the gear we had pre-booked, this was the beginning of the end for me, I didn’t realize that the boot size was wrong, trusting the staff at the shop and thinking “I guess they know their stuff, I guess these are supposed to be tight and cut off your blood circulation”, it was very uncomfortable but I just went with it.\nUs noobs decided it would be wise to pay for a lesson and after a few rounds at the kids area we were surprised to see we were not completely useless, I wasn’t able to turn or break completely but I wasn’t that bad either. Our instructor figured we could do harder stuff (either that or just wanted to have a laugh, we’ll never know) and took us to one of he “beginner” slopes (never trust Norwegians when they say a slope is easy, for them skiing is just like breathing). That’s when my spectacular falls started, all of a sudden I couldn’t remember what to do or coordinate movements.\nBy the time I could more or less manage to go down a slope using a zig-zag motion and more or less break decently, my feet were basically destroyed and my legs were cramping. I had to take off the skis and walk to the resting area because by then the pain was unbearable.\nRight after taking the ski boots off I realized I had a bit of a problem: I just couldn’t move my feet or walk. I found myself thinking “well, shit”. I had to contact the group and request help because I was stuck, luckily a good hearted colleague came to the rescue and gave me a lift back to the cabin. Some rest and time in the sauna (and some very amazing home brewed beer) made me feel better, but that afternoon everyone was in for a surprise.\nCOVID-19 Effectively immediately the ski resort would be closing down following official government mandates to prevent the spread of COVID-19 so basically the trip was ruined for everyone that got here on Wednesday (some people had been at the cabin since Sunday). Arrangements were made to go back today or on Saturday while waiting for more news.\nFeeling a bit disappointed everyone had dinner while receiving more bad news: apparently people had started hoarding toilet paper, because, you know, stupid people are everywhere. I messaged some friends because I couldn’t believe it at first but sadly I was totally wrong.\nSo here I am now, Friday morning, after breakfast, writing about our failed trip and preparing to be isolated from the world for quite a while, I’ll probably have to buy a decent headset/webcam and figure out how to get off of my landlord’s WiFi repeater and get my own contract. The next few weeks are going to be fun…\n","permalink":"https://lopeztel.xyz/blog/2020/03/13/skiing-and-covid-19/","summary":"Some random thoughts on a recent failed ski trip and the global pandemic\nSkiing First things first, I have absolutely no clue on how to ski, zero experience whatsoever, so naturally I had to sign up for my company’s Ski trip. In total there were 37 people in the group.\nWe got to a cabin close to a ski resort after a four and a half hour drive on Wednesday, all went well except for some icy paths on the way but that is another story (just don’t do summer tires and front 2 wheel drive on them, you’ll suffer a lot)","title":"Skiing and COVID-19"},{"content":" Privacy and social networks Welcome stranger, let me start by saying this blog is just meant to be a space to share my thoughts and because I find it therapeutic, don’t expect the next best novel 🙂\nNow, let’s get right to it: I had always known that big tech companies such as Facebook or Google don’t let you have free accounts out of the goodness of their CEO’s hearts, I also knew that their revenue comes mostly from ads, targeted ads. So far so good, what’s the problem? It doesn’t stop there.\nI will not go through all the references and details but let’s just say that most people have an idea of what is going on by now (or at least that’s what I hope). After the Snowden and Cambridge Analytica scandals I started to dig a bit more into privacy and that is when shit really hit the fan…. trackers, cookies, ads, sensitive data breaches and mass profiling are terms that popped up very often. Let’s just say that at this point I was wary but didn’t take any measures.\nIt wasn’t until recently (2 weeks ago) that I decided to take some steps to protect my data, easy things like replacing Whatsapp by Signal, using OsmAnd instead of Google maps while trying to use Free and Open Source Software (FOSS) as much as I could.\nThe discovery When I was searching for privacy oriented FOSS alternatives for the apps and services I normally use I came across the term Federated Social Networks, and the term Fediverse, that describes all the social networks that work in this way, I got interested.\nTurns out it gets even better:\nNo ads Anyone can host their own instance and still interact with other instances Instances can be dedicated to your topics of interest and (in my experience so far) the people that host them are not in it for money, they just want to create a community in which they can meet other like-minded people There is a set of rules to follow and moderators As someone used to YouTube like interactions on the internet I was surprised to see that everyone is very polite (at least on my instance) Did I mention no ads? For now It was until I was thinking of removing the Twitter and Facebook apps that I found a problem: while I can uninstall Twitter because I don’t use it that much, or Instagram because I mostly do it to have a nice gallery of my favorite pictures, Facebook is mostly how my friends organize events so I ended up deciding to keep the app while limiting the usage to just events and messaging if there is no other alternative, a necessary evil.\nI think I’m going to eventually replace all my social networks for Fediverse alternatives…\nSome alternatives:\nTwitter -\u0026gt; Mastodon\nFacebook -\u0026gt; Diaspora, Friendica\nInstagram -\u0026gt; Pixelfed\nMore on Fediverse Party\n","permalink":"https://lopeztel.xyz/blog/2020/03/02/into-the-fediverse/","summary":"Privacy and social networks Welcome stranger, let me start by saying this blog is just meant to be a space to share my thoughts and because I find it therapeutic, don’t expect the next best novel 🙂\nNow, let’s get right to it: I had always known that big tech companies such as Facebook or Google don’t let you have free accounts out of the goodness of their CEO’s hearts, I also knew that their revenue comes mostly from ads, targeted ads.","title":"Into the Fediverse"},{"content":" My name is Luis David Lopez Tello Villafuerte (yes, my name was taken straight out of a telenovela and I was still writing my name when everyone else was answering exam question 2)\nI am an Embedded Systems Engineer, born and raised in Mexico City but now living in Norway.\nThis blog is a weird mixture between random reflections and trying to document my journey into hobby electronics, FOSS/FLOSS and privacy friendly alternatives.\nYou can find me as @lopeztel in Fosstodon and as @lopeztel:matrix.org in Matrix\nBackstory/Education As I said, born and raised in Mexico City with some twists:\n2007-2008 Moved briefly to Canada and started University there\n2008-2013 Moved back to Mexico City for personal reasons, got my Bachelor’s degree in Telecommunications and Electronic Systems\n2013-2017 Moved to the city of Santiago de Querétaro for work\n2017-2018 Moved to Germany to start my Master’s in Embedded Computing systems\n2018-2019 Moved to Norway to continue my Master’s\n2019 Moved back to Germany to work on my Master’s thesis in collaboration with industry. My topic was System-Level Power Modeling for Automotive ASICs\nLate 2019-? Moved to Norway for work\nQuirks/Interests In my free time I enjoy running (5-10K), swimming, painting with watercolors: both traditional media and digital (that was a recent effort, documented here) and tinkering with electronics, with a recent interest in MQTT, WiFi and Bluetooth.\nThis is my github\nDownload my vCard/VCF card:\n","permalink":"https://lopeztel.xyz/blog/about/","summary":"About me","title":"About me"}]