<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Migration to WordPress | Lopeztel&#39;s Blog</title>
<meta name="keywords" content="100DaysToOffload, Federation, Indieweb, Selfhosting, Wordpress, yunohost">
<meta name="description" content="In recent days I’ve been busy trying to get my blog up and running on my cheapo Raspberry Pi &#43; Yunohost server setup. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.
Why though? To put it simply: because I can.
On a more serious note, my previous blog was hosted at qua.name and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction, easy theming, and an overall a plug and play solution with a GUI.">
<meta name="author" content="lopeztel">
<link rel="canonical" href="https://lopeztel.xyz/blog/2020/08/16/migration-to-wordpress/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.min.d6e3b908b0057e207d7a03f785a6dc7aabf91f7483df0b5b295729600dfb6b93.css" integrity="sha256-1uO5CLAFfiB9egP3habceqv5H3SD3wtbKVcpYA37a5M=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lopeztel.xyz/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://lopeztel.xyz/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://lopeztel.xyz/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://lopeztel.xyz/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://lopeztel.xyz/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Migration to WordPress" />
<meta property="og:description" content="In recent days I’ve been busy trying to get my blog up and running on my cheapo Raspberry Pi &#43; Yunohost server setup. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.
Why though? To put it simply: because I can.
On a more serious note, my previous blog was hosted at qua.name and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction, easy theming, and an overall a plug and play solution with a GUI." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lopeztel.xyz/blog/2020/08/16/migration-to-wordpress/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-16T11:15:25&#43;00:00" />
<meta property="article:modified_time" content="2020-08-16T11:15:25&#43;00:00" /><meta property="og:site_name" content="Lopeztel&#39;s blog" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Migration to WordPress"/>
<meta name="twitter:description" content="In recent days I’ve been busy trying to get my blog up and running on my cheapo Raspberry Pi &#43; Yunohost server setup. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.
Why though? To put it simply: because I can.
On a more serious note, my previous blog was hosted at qua.name and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction, easy theming, and an overall a plug and play solution with a GUI."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://lopeztel.xyz/blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Migration to WordPress",
      "item": "https://lopeztel.xyz/blog/2020/08/16/migration-to-wordpress/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Migration to WordPress",
  "name": "Migration to WordPress",
  "description": "In recent days I’ve been busy trying to get my blog up and running on my cheapo Raspberry Pi + Yunohost server setup. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.\nWhy though? To put it simply: because I can.\nOn a more serious note, my previous blog was hosted at qua.name and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction, easy theming, and an overall a plug and play solution with a GUI.",
  "keywords": [
    "100DaysToOffload", "Federation", "Indieweb", "Selfhosting", "Wordpress", "yunohost"
  ],
  "articleBody": "In recent days I’ve been busy trying to get my blog up and running on my cheapo Raspberry Pi + Yunohost server setup. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.\nWhy though? To put it simply: because I can.\nOn a more serious note, my previous blog was hosted at qua.name and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction, easy theming, and an overall a plug and play solution with a GUI. Now, theming is possible in writefreely instances with a bit of CSS magic but I wanted to stay away from that, maybe in the future… As for the interaction side of things, the ol’ leave a comment kind of thing is good but there are a lot more possibilities.\nOne of the advantages of writefreely is the built in federation support, and finding out that there is an ActivityPub plugin (in beta) for WordPress was interesting and another point in favor of the change.\nMy setup The first step was buying the cheapest domain name I could find on namecheap.com (after all this is a budget server setup), and if I remember correctly, the deal was $8.5 for 2 years.\nThen, obtaining a SSL certificate from Let’s Encrypt and the WordPress app installation through yunohost was straightforward through the admin GUI.\nImporting posts as plain text files from my writefreely instance was straightforward as well, luckily WordPress seems to support Markdown in its block editor, so it was a matter of copy and paste, updating links to the old blog posts and changing the published date. Also, I had less than 15 posts so… not a massive effort.\nFederation and Indieweb I installed the ActivityPub plugin and began testing, had a little trouble with the entire posts being dumped as a single toot in the timeline, but that was fixed tweaking the settings: Which makes it possible to have a neat timeline like this:\nWhile testing this, another concept came to light: Indieweb, I opened another can of worms, so of course I liked the idea and I had to make my blog Indieweb compliant by installing the corresponding plugins.\nHere’s a list of the active plugins on my blog:\nActivityPub Akismet Anti-Spam Classic Editor (this one is important, post kinds and micropub need it, new block editor is not fully compatible) Companion Auto Update IndieAuth IndieWeb (this is one of the first ones to install, it provides how to get started information and provides a list of other relevant plugins) Micropub Microformats 2 Post Kinds Semantic-Linkbacks Simple LDAP Login Simple Local Avatars (To avoid using Gravatar) Syndication Links Webmention WebSub/PubSubHubbub WP Fail2Ban Redux Yarns Microsub Server Last details Apparently the theme I am using doesn’t display my h-card correctly through the available widget so after reading Kev Quirk’s post, my h-card was manually added by editing the footer .php file, this is nice because it’s just sitting there not changing the appearance of the blog.\nThis is also efficient because my yunohost installation defaults the wordpress user email to the selfhosted email, and that is not working at the moment (content for another blog post maybe)\nThe test in indiewebifyme displays it correctly:\nAlso I discovered that the default settings of the Webmentions plugin make it so that every kind of interaction is displayed as an avatar and not under the comments section so I just changed this:\nThe results are shown in this post\nThere are some more details related to the plugins and using bridgy to link your social media interactions to posts, but this pretty much covers the basics and having a look into the plugin settings gives a better idea on how they work.\nKudos to Ricardo, hs0ucy, pixelroiber, and Robby for helping me test webmentions and federation on my previous dummy site and/or the current one.\nNext steps will be looking into optimization and such, for now I think the Lazyload plugin messes up my h-card somehow.\nDay 12 of #100DaysToOffload\n",
  "wordCount" : "688",
  "inLanguage": "en",
  "datePublished": "2020-08-16T11:15:25Z",
  "dateModified": "2020-08-16T11:15:25Z",
  "author":{
    "@type": "Person",
    "name": "lopeztel"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lopeztel.xyz/blog/2020/08/16/migration-to-wordpress/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lopeztel's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lopeztel.xyz/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lopeztel.xyz/blog" accesskey="h" title="Lopeztel&#39;s Blog (Alt + H)">Lopeztel&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lopeztel.xyz/blog/archives/" title="archives">
                    <span>archives</span>
                </a>
            </li>
            <li>
                <a href="https://lopeztel.xyz/blog/posts/" title="posts">
                    <span>posts</span>
                </a>
            </li>
            <li>
                <a href="https://lopeztel.xyz/blog/search/" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="https://lopeztel.xyz/blog/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://lopeztel.xyz/blog">Home</a>&nbsp;»&nbsp;<a href="https://lopeztel.xyz/blog/posts/">Posts</a></div>
    <h1 class="post-title">
      Migration to WordPress
    </h1>
    <div class="post-meta"><span title='2020-08-16 11:15:25 +0000 +0000'>August 16, 2020</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;lopeztel

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#why-though" aria-label="Why though?">Why though?</a></li>
                <li>
                    <a href="#my-setup" aria-label="My setup">My setup</a></li>
                <li>
                    <a href="#federation-and-indieweb" aria-label="Federation and Indieweb">Federation and Indieweb</a></li>
                <li>
                    <a href="#last-details" aria-label="Last details">Last details</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>In recent days I’ve been busy trying to get my blog up and running on my cheapo <a href="https://lopeztel.xyz/blog/2020/08/08/my-raspberry-pi-server-with-yunohost/">Raspberry Pi + Yunohost server setup</a>. The process was fun, so here’s a blog entry about migrating my blog (blogception?) from a writefreely instance to my self hosted wordpress instance.</p>
<h2 id="why-though">Why though?<a hidden class="anchor" aria-hidden="true" href="#why-though">#</a></h2>
<p>To put it simply: because I can.</p>
<p>On a more serious note, my previous blog was hosted at <a href="https://qua.name">qua.name</a> and there was nothing wrong with it, but I really wanted to be able to have a bit more interaction,  easy theming, and an overall a plug and play solution with a GUI. Now, theming is possible in writefreely instances with a bit of CSS magic but I wanted to stay away from that, maybe in the future… As for the interaction side of things, the ol’ leave a comment kind of thing is good but there are a lot more possibilities.</p>
<p>One of the advantages of writefreely is the built in federation support, and finding out that there is an <a href="https://wordpress.org/plugins/activitypub/">ActivityPub</a> plugin (in beta) for WordPress was interesting and another point in favor of the change.</p>
<h2 id="my-setup">My setup<a hidden class="anchor" aria-hidden="true" href="#my-setup">#</a></h2>
<p>The first step was buying the cheapest domain name I could find on namecheap.com (after all this is a budget server setup), and if I remember correctly, the deal was $8.5 for 2 years.</p>
<p>Then, obtaining a SSL certificate from <a href="https://letsencrypt.org/">Let’s Encrypt</a> and the WordPress app installation through yunohost was straightforward through the admin GUI.</p>
<p>Importing posts as plain text files from my writefreely instance was straightforward as well, luckily WordPress seems to support Markdown in its block editor, so it was a matter of copy and paste, updating links to the old blog posts and changing the published date. Also, I had less than 15 posts so… not a massive effort.</p>
<h2 id="federation-and-indieweb">Federation and Indieweb<a hidden class="anchor" aria-hidden="true" href="#federation-and-indieweb">#</a></h2>
<p>I installed the ActivityPub plugin and began testing, had a little trouble with the entire posts being dumped as a single toot in the timeline, but that was fixed tweaking the settings:
<img loading="lazy" src="https://lopeztel.noho.st/piwigo/galleries/blog_media/Screenshot-from-2020-08-16-12-20-17-768x386.png" alt=""  />
</p>
<p>Which makes it possible to have a neat timeline like this:</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/galleries/blog_media/Screenshot-from-2020-08-16-12-16-35-e1597573445687.png#center" alt=""  />
</p>
<p>While testing this, another concept came to light: <a href="https://indieweb.org/">Indieweb</a>, I opened another can of worms, so of course I liked the idea and I had to make my blog Indieweb compliant by installing the corresponding plugins.</p>
<p>Here’s a list of the active plugins on my blog:</p>
<ul>
<li>ActivityPub</li>
<li>Akismet Anti-Spam</li>
<li>Classic Editor (this one is important, post kinds and micropub need it, new block editor is not fully compatible)</li>
<li>Companion Auto Update</li>
<li>IndieAuth</li>
<li>IndieWeb (this is one of the first ones to install, it provides how to get started information and provides a list of other relevant plugins)</li>
<li>Micropub</li>
<li>Microformats 2</li>
<li>Post Kinds</li>
<li>Semantic-Linkbacks</li>
<li>Simple LDAP Login</li>
<li>Simple Local Avatars (To avoid using Gravatar)</li>
<li>Syndication Links</li>
<li>Webmention</li>
<li>WebSub/PubSubHubbub</li>
<li>WP Fail2Ban Redux</li>
<li>Yarns Microsub Server</li>
</ul>
<h2 id="last-details">Last details<a hidden class="anchor" aria-hidden="true" href="#last-details">#</a></h2>
<p>Apparently the theme I am using doesn’t display my <a href="https://indieweb.org/h-card">h-card</a> correctly through the available widget so after reading <a href="https://kevq.uk/how-to-create-an-indieweb-profile/">Kev Quirk’s post</a>, my h-card was manually added by editing the footer .php file, this is nice because it’s just sitting there not changing the appearance of the blog.</p>
<p>This is also efficient because my yunohost installation defaults the wordpress user email to the selfhosted email, and that is not working at the moment (content for another blog post maybe)</p>
<p>The test in <a href="https://indiewebify.me">indiewebifyme</a> displays it correctly:</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/_data/i/galleries/blog_media/h-card-me.png#center" alt=""  />
</p>
<p>Also I discovered that the default settings of the Webmentions plugin make it so that every kind of interaction is displayed as an avatar and not under the comments section so I just changed this:</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/galleries/blog_media/webmentions-300x289.bk.png#center" alt=""  />
</p>
<p>The results are shown in this <a href="https://lopeztel.xyz/blog/2020/03/02/into-the-fediverse/">post</a></p>
<p>There are some more details related to the plugins and using <a href="https://brid.gy/">bridgy</a> to link your social media interactions to posts, but this pretty much covers the basics and having a look into the plugin settings gives a better idea on how they work.</p>
<p>Kudos to <a href="https://mstdn.social/@rmdes">Ricardo</a>, <a href="https://mastodon.sdf.org/@hs0ucy">hs0ucy</a>, <a href="https://mastodon.social/@pixelroiber">pixelroiber</a>, and <a href="https://fosstodon.org/@Zambyte">Robby</a> for helping me test webmentions and federation on my previous dummy site and/or the current one.</p>
<p>Next steps will be looking into optimization and such, for now I think the Lazyload plugin messes up my h-card somehow.</p>
<p>Day 12 of <!-- raw HTML omitted -->#100DaysToOffload<!-- raw HTML omitted --></p>
<p> </p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lopeztel.xyz/blog/tags/100daystooffload/">100DaysToOffload</a></li>
      <li><a href="https://lopeztel.xyz/blog/tags/federation/">Federation</a></li>
      <li><a href="https://lopeztel.xyz/blog/tags/indieweb/">Indieweb</a></li>
      <li><a href="https://lopeztel.xyz/blog/tags/selfhosting/">Selfhosting</a></li>
      <li><a href="https://lopeztel.xyz/blog/tags/wordpress/">Wordpress</a></li>
      <li><a href="https://lopeztel.xyz/blog/tags/yunohost/">yunohost</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://lopeztel.xyz/blog/2020/08/17/my-nerdy-wallpaper/">
    <span class="title">« Prev</span>
    <br>
    <span>My nerdy wallpaper</span>
  </a>
  <a class="next" href="https://lopeztel.xyz/blog/2020/08/09/progress-report-on-a-more-foss-floss-decentralized-digital-life/">
    <span class="title">Next »</span>
    <br>
    <span>Progress report on a more FOSS/FLOSS, decentralized digital life</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://lopeztel.xyz/blog">Lopeztel&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
