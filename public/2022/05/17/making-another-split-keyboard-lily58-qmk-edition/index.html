<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Making another split keyboard: Lily58 QMK edition | Lopeztel&#39;s Blog</title>
<meta name="keywords" content="100DaysToOffload, SplitKeyboard, ProMicro">
<meta name="description" content="With the previous success (see part1, part1-a and part2) in making a bluetooth keyboard, I decided to make another keyboard with a different approach:
My excuse for building this keyboard was that my blue switches keyboard may be too noisy for the office, and the work desktop has no bluetooth (I know, sad, right?). The plan for this one was:
Quieter Red gateron switches rather than blue USB powered rather than battery power, which allows for WS2812B LEDs and OLED display Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the Pro Micro as a controller board instead.">
<meta name="author" content="lopeztel">
<link rel="canonical" href="https://lopeztel.xyz/blog/2022/05/17/making-another-split-keyboard-lily58-qmk-edition/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.b183800e2cfbb62c3bce2b2ba56cdb2dd33af76c75cf4550173d5dfebd7c68a6.css" integrity="sha256-sYOADiz7tiw7zisrpWzbLdM692x1z0VQFz1d/r18aKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lopeztel.xyz/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://lopeztel.xyz/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://lopeztel.xyz/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://lopeztel.xyz/blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://lopeztel.xyz/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Making another split keyboard: Lily58 QMK edition" />
<meta property="og:description" content="With the previous success (see part1, part1-a and part2) in making a bluetooth keyboard, I decided to make another keyboard with a different approach:
My excuse for building this keyboard was that my blue switches keyboard may be too noisy for the office, and the work desktop has no bluetooth (I know, sad, right?). The plan for this one was:
Quieter Red gateron switches rather than blue USB powered rather than battery power, which allows for WS2812B LEDs and OLED display Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the Pro Micro as a controller board instead." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lopeztel.xyz/blog/2022/05/17/making-another-split-keyboard-lily58-qmk-edition/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-17T19:32:55&#43;00:00" />
<meta property="article:modified_time" content="2022-05-17T19:32:55&#43;00:00" /><meta property="og:site_name" content="Lopeztel&#39;s blog" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Making another split keyboard: Lily58 QMK edition"/>
<meta name="twitter:description" content="With the previous success (see part1, part1-a and part2) in making a bluetooth keyboard, I decided to make another keyboard with a different approach:
My excuse for building this keyboard was that my blue switches keyboard may be too noisy for the office, and the work desktop has no bluetooth (I know, sad, right?). The plan for this one was:
Quieter Red gateron switches rather than blue USB powered rather than battery power, which allows for WS2812B LEDs and OLED display Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the Pro Micro as a controller board instead."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://lopeztel.xyz/blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Making another split keyboard: Lily58 QMK edition",
      "item": "https://lopeztel.xyz/blog/2022/05/17/making-another-split-keyboard-lily58-qmk-edition/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Making another split keyboard: Lily58 QMK edition",
  "name": "Making another split keyboard: Lily58 QMK edition",
  "description": "With the previous success (see part1, part1-a and part2) in making a bluetooth keyboard, I decided to make another keyboard with a different approach:\nMy excuse for building this keyboard was that my blue switches keyboard may be too noisy for the office, and the work desktop has no bluetooth (I know, sad, right?). The plan for this one was:\nQuieter Red gateron switches rather than blue USB powered rather than battery power, which allows for WS2812B LEDs and OLED display Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the Pro Micro as a controller board instead.",
  "keywords": [
    "100DaysToOffload", "SplitKeyboard", "ProMicro"
  ],
  "articleBody": "With the previous success (see part1, part1-a and part2) in making a bluetooth keyboard, I decided to make another keyboard with a different approach:\nMy excuse for building this keyboard was that my blue switches keyboard may be too noisy for the office, and the work desktop has no bluetooth (I know, sad, right?). The plan for this one was:\nQuieter Red gateron switches rather than blue USB powered rather than battery power, which allows for WS2812B LEDs and OLED display Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the Pro Micro as a controller board instead. Also, since this is going to be wired anyway, no need for bluetooth either Since the ProMicro is an 8-bit microcontroller and not supported by ZMK, I had to go for QMK for the firmware, which supports a wide range of boards Building the keyboard Basically tried to follow the guide here, which is in Japanese, but the pictures are more than enough guidance… Anyway, here are some pictures from the process:\nFlashing QMK onto the controller boards The fun part was flashing the keyboard’s controller boards, and while all the information is on the documentation page, what’s a project without some issues?\nFirst, I tried to use the qmk package from the community repos, i.e. sudo pacman -S qmk and followed the documentation on building firmware, but I ran into problems:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 ╰─ qmk compile -kb lily58/rev1 -km default ─╯ Ψ Compiling keymap with make --jobs=1 lily58/rev1:default QMK Firmware 0.16.9 Making lily58/rev1 with keymap default avr-gcc (GCC) 12.1.0 Copyright (C) 2022 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Generating: .build/obj_lily58_rev1/src/info_config.h [OK] Generating: .build/obj_lily58_rev1/src/default_keyboard.h [OK] Generating: .build/obj_lily58_rev1/src/layouts.h [OK] Compiling: keyboards/lily58/lib/rgb_state_reader.c [OK] Compiling: keyboards/lily58/lib/layer_state_reader.c [OK] Compiling: keyboards/lily58/lib/logo_reader.c [OK] Compiling: keyboards/lily58/lib/keylogger.c [OK] Compiling: keyboards/lily58/lily58.c [OK] Compiling: keyboards/lily58/rev1/rev1.c [OK] Compiling: keyboards/lily58/keymaps/default/keymap.c [OK] Compiling: quantum/quantum.c [OK] Compiling: quantum/send_string.c [OK] Compiling: quantum/bitwise.c [OK] Compiling: quantum/led.c [OK] Compiling: quantum/action.c [OK] Compiling: quantum/action_layer.c [OK] Compiling: quantum/action_tapping.c [OK] Compiling: quantum/action_util.c [OK] Compiling: quantum/eeconfig.c [OK] Compiling: quantum/keyboard.c [OK] Compiling: quantum/keymap_common.c [OK] Compiling: quantum/keycode_config.c [OK] Compiling: quantum/sync_timer.c [OK] Compiling: quantum/logging/debug.c [OK] Compiling: quantum/logging/sendchar.c [OK] Compiling: quantum/bootmagic/magic.c [OK] Compiling: quantum/matrix_common.c [OK] Compiling: quantum/matrix.c [OK] Compiling: quantum/debounce/sym_defer_g.c [OK] Compiling: quantum/split_common/split_util.c [OK] Compiling: quantum/split_common/transport.c [OK] Compiling: quantum/split_common/transactions.c [OK] Compiling: quantum/main.c [OK] Compiling: quantum/crc.c [OK] Compiling: drivers/oled/ssd1306_sh1106.c [OK] Compiling: quantum/process_keycode/process_magic.c [OK] Compiling: quantum/process_keycode/process_grave_esc.c [OK] Compiling: quantum/process_keycode/process_space_cadet.c [OK] Compiling: platforms/avr/drivers/i2c_master.c In function 'i2c_start_impl', inlined from 'i2c_start' at platforms/avr/drivers/i2c_master.c:104:18: platforms/avr/drivers/i2c_master.c:61:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 61 | TWCR = 0; | ^ platforms/avr/drivers/i2c_master.c:63:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 63 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWSTA) | (1 \u003c\u003c TWEN); | ^ In file included from /usr/avr/include/avr/io.h:99, from platforms/avr/pin_defs.h:18, from platforms/pin_defs.h:22, from quantum/config_common.h:20, from ./keyboards/lily58/config.h:21, from : platforms/avr/drivers/i2c_master.c:66:14: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 66 | while (!(TWCR \u0026 (1 \u003c\u003c TWINT))) { | ^~~~ platforms/avr/drivers/i2c_master.c:73:11: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 73 | if (((TW_STATUS \u0026 0xF8) != TW_START) \u0026\u0026 ((TW_STATUS \u0026 0xF8) != TW_REP_START)) { | ^~~~~~~~~ platforms/avr/drivers/i2c_master.c:73:47: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 73 | if (((TW_STATUS \u0026 0xF8) != TW_START) \u0026\u0026 ((TW_STATUS \u0026 0xF8) != TW_REP_START)) { | ^~~~~~~~~ platforms/avr/drivers/i2c_master.c:78:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 78 | TWDR = address; | ^ platforms/avr/drivers/i2c_master.c:80:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 80 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWEN); | ^ platforms/avr/drivers/i2c_master.c:83:14: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 83 | while (!(TWCR \u0026 (1 \u003c\u003c TWINT))) { | ^~~~ platforms/avr/drivers/i2c_master.c:90:30: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 90 | uint8_t twst = TW_STATUS \u0026 0xF8; | ^ In function 'i2c_stop', inlined from 'i2c_transmit' at platforms/avr/drivers/i2c_master.c:166:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 299 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWEN) | (1 \u003c\u003c TWSTO); | ^ In function 'i2c_stop', inlined from 'i2c_receive' at platforms/avr/drivers/i2c_master.c:188:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 299 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWEN) | (1 \u003c\u003c TWSTO); | ^ In function 'i2c_stop', inlined from 'i2c_writeReg' at platforms/avr/drivers/i2c_master.c:203:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 299 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWEN) | (1 \u003c\u003c TWSTO); | ^ In function 'i2c_stop', inlined from 'i2c_writeReg16' at platforms/avr/drivers/i2c_master.c:222:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 299 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWEN) | (1 \u003c\u003c TWSTO); | ^ In function 'i2c_stop', inlined from 'i2c_readReg' at platforms/avr/drivers/i2c_master.c:255:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 299 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWEN) | (1 \u003c\u003c TWSTO); | ^ In function 'i2c_stop', inlined from 'i2c_readReg16' at platforms/avr/drivers/i2c_master.c:292:5: platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of 'volatile uint8_t[0]' {aka 'volatile unsigned char[]'} [-Werror=array-bounds] 299 | TWCR = (1 \u003c\u003c TWINT) | (1 \u003c\u003c TWEN) | (1 \u003c\u003c TWSTO); | ^ cc1: all warnings being treated as errors [ERRORS] | | | make[1]: *** [builddefs/common_rules.mk:456: .build/obj_lily58_rev1_default/i2c_master.o] Error 1 Make finished with errors make: *** [Makefile:413: lily58/rev1:default] Error 1 After that, I had to go back to the the getting started guide and use Windows (the horror), turns out that QMK MSYS is basically the same thing, so I just used that to create a new keymap and since I was already using windows I figured I should also use the QMK Toolbox\nAlso, I figured out that it is possible to make the already soldered ProMicro boards go into bootloader mode by pressing the shift + B keys on the left half and shift + N keys on the right half of the keyboard. Another fun fact is that you flash the same .hex file onto both boards, so no need to have per half binaries (as opposed to the last keyboard)\nHere are my configuration files, in case anyone finds them useful\nMandatory glamour shot of the finished product:\nDay 2 of my 2022’s #100DaysToOffload\nJoin 100DaysToOffload\n",
  "wordCount" : "1248",
  "inLanguage": "en",
  "datePublished": "2022-05-17T19:32:55Z",
  "dateModified": "2022-05-17T19:32:55Z",
  "author":{
    "@type": "Person",
    "name": "lopeztel"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lopeztel.xyz/blog/2022/05/17/making-another-split-keyboard-lily58-qmk-edition/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lopeztel's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lopeztel.xyz/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lopeztel.xyz/blog" accesskey="h" title="Lopeztel&#39;s Blog (Alt + H)">Lopeztel&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lopeztel.xyz/blog/archives/" title="archives">
                    <span>archives</span>
                </a>
            </li>
            <li>
                <a href="https://lopeztel.xyz/blog/posts/" title="posts">
                    <span>posts</span>
                </a>
            </li>
            <li>
                <a href="https://lopeztel.xyz/blog/search/" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="https://lopeztel.xyz/blog/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://lopeztel.xyz/blog">Home</a>&nbsp;»&nbsp;<a href="https://lopeztel.xyz/blog/posts/">Posts</a></div>
    <h1 class="post-title">
      Making another split keyboard: Lily58 QMK edition
    </h1>
    <div class="post-meta"><span title='2022-05-17 19:32:55 +0000 +0000'>May 17, 2022</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;lopeztel

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#building-the-keyboard" aria-label="Building the keyboard">Building the keyboard</a></li>
                <li>
                    <a href="#flashing-qmk-onto-the-controller-boards" aria-label="Flashing QMK onto the controller boards">Flashing QMK onto the controller boards</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>With the previous success (see
<a href="https://lopeztel.xyz/blog/2021/06/02/making-a-bluetooth-split-keyboard-part-1/">part1</a>,
<a href="https://lopeztel.xyz/blog/2021/07/05/making-a-bluetooth-split-keyboard-part-1-a/">part1-a</a>
and
<a href="https://lopeztel.xyz/blog/2021/09/15/making-a-bluetooth-split-keyboard-part-2/">part2</a>)
in making a bluetooth keyboard, I decided to make another keyboard with a
different approach:</p>
<p>My excuse for building this keyboard was that my blue switches keyboard may be
too noisy for the office, and the work desktop has no bluetooth (I know, sad,
right?). The plan for this one was:</p>
<ul>
<li>Quieter <a href="https://www.aliexpress.com/item/1005003375712469.html?algo_exp_id=f391bbab-781f-48fc-949d-321524883df2-0&amp;pdp_ext_f=%7B%22sku_id%22%3A%2212000025488463074%22%7D&amp;pdp_npi=2%40dis%21NOK%21%218.91%21%21%21%21%21%400b0a555f16527735507182444ee7f3%2112000025488463074%21sea">Red gateron
switches</a>
rather than blue</li>
<li>USB powered rather than battery power, which allows for <a href="https://www.aliexpress.com/item/32682015405.html?algo_exp_id=3d875cbb-d97d-468e-aa53-f0df6dd59d08-0&amp;pdp_ext_f=%7B%22sku_id%22%3A%2212000026799811814%22%7D&amp;pdp_npi=2%40dis%21NOK%21190.6%2174.93%21%21%21%21%21%40210318bb16527733258817716e0440%2112000026799811814%21sea">WS2812B
LEDs</a>
and <a href="https://www.aliexpress.com/item/32672229793.html?algo_exp_id=f8b12bd7-fe32-43be-a437-974d3360e951-2&amp;pdp_ext_f=%7B%22sku_id%22%3A%2265874427314%22%7D&amp;pdp_npi=2%40dis%21NOK%21%2113.22%21%21%219.79%21%21%400b0a556b16527733814697343e73b4%2165874427314%21sea">OLED
display</a></li>
<li>Not a lot of assembly required (nRFmicro was a bit of a pain), so I chose the
<a href="https://www.sparkfun.com/products/12640">Pro Micro</a> as a controller board
instead. Also, since this is going to be wired anyway, no need for bluetooth
either</li>
<li>Since the ProMicro is an 8-bit microcontroller and not supported by
<a href="https://zmk.dev/docs/hardware">ZMK</a>, I had to go for
<a href="https://docs.qmk.fm/#/">QMK</a> for the firmware, which supports a <a href="https://github.com/qmk/qmk_firmware/blob/master/docs/compatible_microcontrollers.md">wide range
of
boards</a></li>
</ul>
<h2 id="building-the-keyboard">Building the keyboard<a hidden class="anchor" aria-hidden="true" href="#building-the-keyboard">#</a></h2>
<p>Basically tried to follow the guide
<a href="https://kata0510.github.io/Lily58-Document/Lily58_Lite_BG.html">here</a>, which
is in Japanese, but the pictures are more than enough guidance&hellip; Anyway, here
are some pictures from the process:</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/_data/i/galleries/blog_media/20220514-172133-me.jpg#center" alt="Controller boards"  />
</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/_data/i/galleries/blog_media/20220515-175352-me.jpg" alt="Red gateron switches"  />
</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/_data/i/galleries/blog_media/20220516-185712-me.jpg#center" alt="WS2812B LED strip"  />
</p>
<h2 id="flashing-qmk-onto-the-controller-boards">Flashing QMK onto the controller boards<a hidden class="anchor" aria-hidden="true" href="#flashing-qmk-onto-the-controller-boards">#</a></h2>
<p>The fun part was flashing the keyboard&rsquo;s controller boards, and while all the
information is on the documentation page, what&rsquo;s a project without some issues?</p>
<p>First, I tried to use the qmk package from the community repos, i.e. <code>sudo pacman -S qmk</code> and followed the documentation on <a href="https://docs.qmk.fm/#/newbs_building_firmware">building
firmware</a>, but I ran into
problems:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-0-1"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-1">  1</a>
</span><span class="lnt" id="hl-0-2"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-2">  2</a>
</span><span class="lnt" id="hl-0-3"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-3">  3</a>
</span><span class="lnt" id="hl-0-4"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-4">  4</a>
</span><span class="lnt" id="hl-0-5"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-5">  5</a>
</span><span class="lnt" id="hl-0-6"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-6">  6</a>
</span><span class="lnt" id="hl-0-7"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-7">  7</a>
</span><span class="lnt" id="hl-0-8"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-8">  8</a>
</span><span class="lnt" id="hl-0-9"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-9">  9</a>
</span><span class="lnt" id="hl-0-10"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-10"> 10</a>
</span><span class="lnt" id="hl-0-11"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-11"> 11</a>
</span><span class="lnt" id="hl-0-12"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-12"> 12</a>
</span><span class="lnt" id="hl-0-13"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-13"> 13</a>
</span><span class="lnt" id="hl-0-14"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-14"> 14</a>
</span><span class="lnt" id="hl-0-15"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-15"> 15</a>
</span><span class="lnt" id="hl-0-16"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-16"> 16</a>
</span><span class="lnt" id="hl-0-17"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-17"> 17</a>
</span><span class="lnt" id="hl-0-18"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-18"> 18</a>
</span><span class="lnt" id="hl-0-19"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-19"> 19</a>
</span><span class="lnt" id="hl-0-20"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-20"> 20</a>
</span><span class="lnt" id="hl-0-21"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-21"> 21</a>
</span><span class="lnt" id="hl-0-22"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-22"> 22</a>
</span><span class="lnt" id="hl-0-23"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-23"> 23</a>
</span><span class="lnt" id="hl-0-24"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-24"> 24</a>
</span><span class="lnt" id="hl-0-25"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-25"> 25</a>
</span><span class="lnt" id="hl-0-26"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-26"> 26</a>
</span><span class="lnt" id="hl-0-27"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-27"> 27</a>
</span><span class="lnt" id="hl-0-28"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-28"> 28</a>
</span><span class="lnt" id="hl-0-29"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-29"> 29</a>
</span><span class="lnt" id="hl-0-30"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-30"> 30</a>
</span><span class="lnt" id="hl-0-31"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-31"> 31</a>
</span><span class="lnt" id="hl-0-32"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-32"> 32</a>
</span><span class="lnt" id="hl-0-33"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-33"> 33</a>
</span><span class="lnt" id="hl-0-34"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-34"> 34</a>
</span><span class="lnt" id="hl-0-35"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-35"> 35</a>
</span><span class="lnt" id="hl-0-36"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-36"> 36</a>
</span><span class="lnt" id="hl-0-37"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-37"> 37</a>
</span><span class="lnt" id="hl-0-38"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-38"> 38</a>
</span><span class="lnt" id="hl-0-39"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-39"> 39</a>
</span><span class="lnt" id="hl-0-40"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-40"> 40</a>
</span><span class="lnt" id="hl-0-41"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-41"> 41</a>
</span><span class="lnt" id="hl-0-42"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-42"> 42</a>
</span><span class="lnt" id="hl-0-43"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-43"> 43</a>
</span><span class="lnt" id="hl-0-44"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-44"> 44</a>
</span><span class="lnt" id="hl-0-45"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-45"> 45</a>
</span><span class="lnt" id="hl-0-46"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-46"> 46</a>
</span><span class="lnt" id="hl-0-47"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-47"> 47</a>
</span><span class="lnt" id="hl-0-48"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-48"> 48</a>
</span><span class="lnt" id="hl-0-49"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-49"> 49</a>
</span><span class="lnt" id="hl-0-50"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-50"> 50</a>
</span><span class="lnt" id="hl-0-51"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-51"> 51</a>
</span><span class="lnt" id="hl-0-52"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-52"> 52</a>
</span><span class="lnt" id="hl-0-53"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-53"> 53</a>
</span><span class="lnt" id="hl-0-54"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-54"> 54</a>
</span><span class="lnt" id="hl-0-55"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-55"> 55</a>
</span><span class="lnt" id="hl-0-56"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-56"> 56</a>
</span><span class="lnt" id="hl-0-57"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-57"> 57</a>
</span><span class="lnt" id="hl-0-58"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-58"> 58</a>
</span><span class="lnt" id="hl-0-59"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-59"> 59</a>
</span><span class="lnt" id="hl-0-60"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-60"> 60</a>
</span><span class="lnt" id="hl-0-61"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-61"> 61</a>
</span><span class="lnt" id="hl-0-62"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-62"> 62</a>
</span><span class="lnt" id="hl-0-63"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-63"> 63</a>
</span><span class="lnt" id="hl-0-64"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-64"> 64</a>
</span><span class="lnt" id="hl-0-65"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-65"> 65</a>
</span><span class="lnt" id="hl-0-66"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-66"> 66</a>
</span><span class="lnt" id="hl-0-67"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-67"> 67</a>
</span><span class="lnt" id="hl-0-68"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-68"> 68</a>
</span><span class="lnt" id="hl-0-69"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-69"> 69</a>
</span><span class="lnt" id="hl-0-70"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-70"> 70</a>
</span><span class="lnt" id="hl-0-71"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-71"> 71</a>
</span><span class="lnt" id="hl-0-72"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-72"> 72</a>
</span><span class="lnt" id="hl-0-73"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-73"> 73</a>
</span><span class="lnt" id="hl-0-74"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-74"> 74</a>
</span><span class="lnt" id="hl-0-75"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-75"> 75</a>
</span><span class="lnt" id="hl-0-76"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-76"> 76</a>
</span><span class="lnt" id="hl-0-77"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-77"> 77</a>
</span><span class="lnt" id="hl-0-78"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-78"> 78</a>
</span><span class="lnt" id="hl-0-79"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-79"> 79</a>
</span><span class="lnt" id="hl-0-80"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-80"> 80</a>
</span><span class="lnt" id="hl-0-81"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-81"> 81</a>
</span><span class="lnt" id="hl-0-82"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-82"> 82</a>
</span><span class="lnt" id="hl-0-83"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-83"> 83</a>
</span><span class="lnt" id="hl-0-84"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-84"> 84</a>
</span><span class="lnt" id="hl-0-85"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-85"> 85</a>
</span><span class="lnt" id="hl-0-86"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-86"> 86</a>
</span><span class="lnt" id="hl-0-87"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-87"> 87</a>
</span><span class="lnt" id="hl-0-88"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-88"> 88</a>
</span><span class="lnt" id="hl-0-89"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-89"> 89</a>
</span><span class="lnt" id="hl-0-90"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-90"> 90</a>
</span><span class="lnt" id="hl-0-91"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-91"> 91</a>
</span><span class="lnt" id="hl-0-92"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-92"> 92</a>
</span><span class="lnt" id="hl-0-93"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-93"> 93</a>
</span><span class="lnt" id="hl-0-94"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-94"> 94</a>
</span><span class="lnt" id="hl-0-95"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-95"> 95</a>
</span><span class="lnt" id="hl-0-96"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-96"> 96</a>
</span><span class="lnt" id="hl-0-97"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-97"> 97</a>
</span><span class="lnt" id="hl-0-98"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-98"> 98</a>
</span><span class="lnt" id="hl-0-99"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-99"> 99</a>
</span><span class="lnt" id="hl-0-100"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-100">100</a>
</span><span class="lnt" id="hl-0-101"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-101">101</a>
</span><span class="lnt" id="hl-0-102"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-102">102</a>
</span><span class="lnt" id="hl-0-103"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-103">103</a>
</span><span class="lnt" id="hl-0-104"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-104">104</a>
</span><span class="lnt" id="hl-0-105"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-105">105</a>
</span><span class="lnt" id="hl-0-106"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-106">106</a>
</span><span class="lnt" id="hl-0-107"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-107">107</a>
</span><span class="lnt" id="hl-0-108"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-108">108</a>
</span><span class="lnt" id="hl-0-109"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-109">109</a>
</span><span class="lnt" id="hl-0-110"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-110">110</a>
</span><span class="lnt" id="hl-0-111"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-111">111</a>
</span><span class="lnt" id="hl-0-112"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-112">112</a>
</span><span class="lnt" id="hl-0-113"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-113">113</a>
</span><span class="lnt" id="hl-0-114"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-114">114</a>
</span><span class="lnt" id="hl-0-115"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-115">115</a>
</span><span class="lnt" id="hl-0-116"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-116">116</a>
</span><span class="lnt" id="hl-0-117"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-117">117</a>
</span><span class="lnt" id="hl-0-118"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-118">118</a>
</span><span class="lnt" id="hl-0-119"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-119">119</a>
</span><span class="lnt" id="hl-0-120"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-120">120</a>
</span><span class="lnt" id="hl-0-121"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-121">121</a>
</span><span class="lnt" id="hl-0-122"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-122">122</a>
</span><span class="lnt" id="hl-0-123"><a style="outline: none; text-decoration:none; color:inherit" href="#hl-0-123">123</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell-session" data-lang="shell-session"><span class="line"><span class="cl"><span class="go">╰─ qmk compile -kb lily58/rev1 -km default                                                                                                                   ─╯
</span></span></span><span class="line"><span class="cl"><span class="go">Ψ Compiling keymap with make --jobs=1 lily58/rev1:default
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">QMK Firmware 0.16.9
</span></span></span><span class="line"><span class="cl"><span class="go">Making lily58/rev1 with keymap default
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">avr-gcc (GCC) 12.1.0
</span></span></span><span class="line"><span class="cl"><span class="go">Copyright (C) 2022 Free Software Foundation, Inc.
</span></span></span><span class="line"><span class="cl"><span class="go">This is free software; see the source for copying conditions.  There is NO
</span></span></span><span class="line"><span class="cl"><span class="go">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">Generating: .build/obj_lily58_rev1/src/info_config.h                                                [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Generating: .build/obj_lily58_rev1/src/default_keyboard.h                                           [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Generating: .build/obj_lily58_rev1/src/layouts.h                                                    [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: keyboards/lily58/lib/rgb_state_reader.c                                                  [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: keyboards/lily58/lib/layer_state_reader.c                                                [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: keyboards/lily58/lib/logo_reader.c                                                       [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: keyboards/lily58/lib/keylogger.c                                                         [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: keyboards/lily58/lily58.c                                                                [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: keyboards/lily58/rev1/rev1.c                                                             [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: keyboards/lily58/keymaps/default/keymap.c                                                [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/quantum.c                                                                        [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/send_string.c                                                                    [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/bitwise.c                                                                        [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/led.c                                                                            [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/action.c                                                                         [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/action_layer.c                                                                   [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/action_tapping.c                                                                 [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/action_util.c                                                                    [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/eeconfig.c                                                                       [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/keyboard.c                                                                       [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/keymap_common.c                                                                  [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/keycode_config.c                                                                 [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/sync_timer.c                                                                     [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/logging/debug.c                                                                  [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/logging/sendchar.c                                                               [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/bootmagic/magic.c                                                                [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/matrix_common.c                                                                  [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/matrix.c                                                                         [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/debounce/sym_defer_g.c                                                           [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/split_common/split_util.c                                                        [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/split_common/transport.c                                                         [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/split_common/transactions.c                                                      [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/main.c                                                                           [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/crc.c                                                                            [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: drivers/oled/ssd1306_sh1106.c                                                            [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/process_keycode/process_magic.c                                                  [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/process_keycode/process_grave_esc.c                                              [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: quantum/process_keycode/process_space_cadet.c                                            [OK]
</span></span></span><span class="line"><span class="cl"><span class="go">Compiling: platforms/avr/drivers/i2c_master.c                                                      In function &#39;i2c_start_impl&#39;,
</span></span></span><span class="line"><span class="cl"><span class="go">    inlined from &#39;i2c_start&#39; at platforms/avr/drivers/i2c_master.c:104:18:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:61:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   61 |     TWCR = 0;
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:63:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   63 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWSTA) | (1 &lt;&lt; TWEN);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">In file included from /usr/avr/include/avr/io.h:99,
</span></span></span><span class="line"><span class="cl"><span class="go">                 from platforms/avr/pin_defs.h:18,
</span></span></span><span class="line"><span class="cl"><span class="go">                 from platforms/pin_defs.h:22,
</span></span></span><span class="line"><span class="cl"><span class="go">                 from quantum/config_common.h:20,
</span></span></span><span class="line"><span class="cl"><span class="go">                 from ./keyboards/lily58/config.h:21,
</span></span></span><span class="line"><span class="cl"><span class="go">                 from &lt;command-line&gt;:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:66:14: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   66 |     while (!(TWCR &amp; (1 &lt;&lt; TWINT))) {
</span></span></span><span class="line"><span class="cl"><span class="go">      |              ^~~~
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:73:11: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   73 |     if (((TW_STATUS &amp; 0xF8) != TW_START) &amp;&amp; ((TW_STATUS &amp; 0xF8) != TW_REP_START)) {
</span></span></span><span class="line"><span class="cl"><span class="go">      |           ^~~~~~~~~
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:73:47: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   73 |     if (((TW_STATUS &amp; 0xF8) != TW_START) &amp;&amp; ((TW_STATUS &amp; 0xF8) != TW_REP_START)) {
</span></span></span><span class="line"><span class="cl"><span class="go">      |                                               ^~~~~~~~~
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:78:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   78 |     TWDR = address;
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:80:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   80 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWEN);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:83:14: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   83 |     while (!(TWCR &amp; (1 &lt;&lt; TWINT))) {
</span></span></span><span class="line"><span class="cl"><span class="go">      |              ^~~~
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:90:30: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">   90 |     uint8_t twst = TW_STATUS &amp; 0xF8;
</span></span></span><span class="line"><span class="cl"><span class="go">      |                              ^
</span></span></span><span class="line"><span class="cl"><span class="go">In function &#39;i2c_stop&#39;,
</span></span></span><span class="line"><span class="cl"><span class="go">    inlined from &#39;i2c_transmit&#39; at platforms/avr/drivers/i2c_master.c:166:5:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">  299 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWEN) | (1 &lt;&lt; TWSTO);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">In function &#39;i2c_stop&#39;,
</span></span></span><span class="line"><span class="cl"><span class="go">    inlined from &#39;i2c_receive&#39; at platforms/avr/drivers/i2c_master.c:188:5:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">  299 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWEN) | (1 &lt;&lt; TWSTO);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">In function &#39;i2c_stop&#39;,
</span></span></span><span class="line"><span class="cl"><span class="go">    inlined from &#39;i2c_writeReg&#39; at platforms/avr/drivers/i2c_master.c:203:5:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">  299 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWEN) | (1 &lt;&lt; TWSTO);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">In function &#39;i2c_stop&#39;,
</span></span></span><span class="line"><span class="cl"><span class="go">    inlined from &#39;i2c_writeReg16&#39; at platforms/avr/drivers/i2c_master.c:222:5:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">  299 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWEN) | (1 &lt;&lt; TWSTO);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="go">In function &#39;i2c_stop&#39;,
</span></span></span><span class="line"><span class="cl"><span class="go">    inlined from &#39;i2c_readReg&#39; at platforms/avr/drivers/i2c_master.c:255:5:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">  299 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWEN) | (1 &lt;&lt; TWSTO);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">In function &#39;i2c_stop&#39;,
</span></span></span><span class="line"><span class="cl"><span class="go">    inlined from &#39;i2c_readReg16&#39; at platforms/avr/drivers/i2c_master.c:292:5:
</span></span></span><span class="line"><span class="cl"><span class="go">platforms/avr/drivers/i2c_master.c:299:10: error: array subscript 0 is outside array bounds of &#39;volatile uint8_t[0]&#39; {aka &#39;volatile unsigned char[]&#39;} [-Werror=array-bounds]
</span></span></span><span class="line"><span class="cl"><span class="go">  299 |     TWCR = (1 &lt;&lt; TWINT) | (1 &lt;&lt; TWEN) | (1 &lt;&lt; TWSTO);
</span></span></span><span class="line"><span class="cl"><span class="go">      |          ^
</span></span></span><span class="line"><span class="cl"><span class="go">cc1: all warnings being treated as errors
</span></span></span><span class="line"><span class="cl"><span class="go"> [ERRORS]
</span></span></span><span class="line"><span class="cl"><span class="go"> |
</span></span></span><span class="line"><span class="cl"><span class="go"> |
</span></span></span><span class="line"><span class="cl"><span class="go"> |
</span></span></span><span class="line"><span class="cl"><span class="go">make[1]: *** [builddefs/common_rules.mk:456: .build/obj_lily58_rev1_default/i2c_master.o] Error 1
</span></span></span><span class="line"><span class="cl"><span class="go">Make finished with errors
</span></span></span><span class="line"><span class="cl"><span class="go">make: *** [Makefile:413: lily58/rev1:default] Error 1
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>After that, I had to go back to the the <a href="https://docs.qmk.fm/#/newbs_getting_started">getting started
guide</a> and use Windows (the
horror), turns out that <a href="https://msys.qmk.fm/">QMK MSYS</a> is basically the same
thing, so I just used that to create a new keymap and since I was already using
windows I figured I should also use the <a href="https://github.com/qmk/qmk_toolbox/releases">QMK
Toolbox</a></p>
<p>Also, I figured out that it is possible to make the already soldered ProMicro
boards go into bootloader mode by pressing the <strong>shift</strong> + <strong>B</strong> keys on the left
half and <strong>shift</strong> + <strong>N</strong> keys on the right half of the keyboard. Another fun
fact is that you flash the same .hex file onto both boards, so no need to have
per half binaries (as opposed to the last keyboard)</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/_data/i/galleries/blog_media/qmk-tools-me.png#center" alt="QMK Tools"  />
</p>
<p><a href="https://github.com/lopeztel/QMK-config">Here</a> are my configuration files, in
case anyone finds them useful</p>
<p>Mandatory glamour shot of the finished product:</p>
<p><img loading="lazy" src="https://lopeztel.noho.st/piwigo/_data/i/galleries/blog_media/20220516-212419-me.jpg#center" alt="Finished keyboard"  />
</p>
<p>Day 2 of my 2022&rsquo;s <a href="https://lopeztel.xyz/blog/tags/100daystooffload/">#100DaysToOffload</a></p>
<p>Join <a href="https://100daystooffload.com/">100DaysToOffload</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lopeztel.xyz/blog/tags/100daystooffload/">100DaysToOffload</a></li>
      <li><a href="https://lopeztel.xyz/blog/tags/splitkeyboard/">SplitKeyboard</a></li>
      <li><a href="https://lopeztel.xyz/blog/tags/promicro/">ProMicro</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://lopeztel.xyz/blog/2022/08/22/from-wordpress-to-hugo/">
    <span class="title">« Prev</span>
    <br>
    <span>Migrating from WordPress to Hugo</span>
  </a>
  <a class="next" href="https://lopeztel.xyz/blog/2022/05/06/gnome-nord-theme-install-script/">
    <span class="title">Next »</span>
    <br>
    <span>Gnome Nord theme install script</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://lopeztel.xyz/blog">Lopeztel&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
